<!doctype html>
<html>
<head>
    <title>Socket IO</title>
</head>
<body>
<div class="main">
    <h2>Device Orientation</h2>
    <table>
        <tr>
            <td>Event Supported</td>
            <td id="doEvent"></td>
        </tr>
        <tr>
            <td>Tilt Left/Right [gamma]</td>
            <td id="doTiltLR"></td>
        </tr>
        <tr>
            <td>Tilt Front/Back [beta]</td>
            <td id="doTiltFB"></td>
        </tr>
        <tr>
            <td>Direction [alpha]</td>
            <td id="doDirection"></td>
        </tr>
    </table>
</div>

<div class="container" style="perspective: 300;">
    <img src="img/testimg.png" id="imgLogo" class="logo">
</div>

<script src="https://cdn.socket.io/socket.io-1.2.0.js"></script>
<script src="http://code.jquery.com/jquery-1.11.1.js"></script>
<script>
    var logo = document.getElementById("imgLogo");
    var socket = io("http://192.168.1.39:3000");


    socket.on('moRotation', function(msg){
        document.getElementById("doTiltLR").innerHTML = Math.round(msg.gamma);
        document.getElementById("doTiltFB").innerHTML = Math.round(msg.beta);
        document.getElementById("doDirection").innerHTML = Math.round(msg.alpha);
        logo.style.webkitTransform = "rotate("+ msg.gamma +"deg) rotate3d(1,0,0, "+ (msg.beta*-1)+"deg)";
        logo.style.MozTransform = "rotate("+ msg.gamma +"deg)";
        logo.style.transform = "rotate("+ msg.gamma +"deg) rotate3d(1,0,0, "+ (msg.beta*-1)+"deg)";
    });



</script>
</body>
</html>