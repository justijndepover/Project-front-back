!function(){angular.module("app",[])}(),function(){var e=function(e,t,a,i){e.LCShow=a.getLCShow;var o=function(){t.emit("pcconnect",null)};e.room="",t.on("requestRoom",function(t){e.room=t}),t.on("deviceOrientation",function(e){var t=(e.username,{});t.gamma=e.gamma,t.beta=e.beta,t.alpha=e.alpha}),e.usernames={},e.checkUserCount=!1,t.on("updateusers",function(t){i.setPlayers(t),e.usernames=t,e.checkUserCount=Object.keys(e.usernames).length<0}),e.startGame=function(){t.emit("startGame",null),a.setLCShow(!1),a.setPCShow(!0)},function(){o()}()};angular.module("app").controller("loginController",["$scope","socketService","displayService","playerService",e])}(),function(){"use strict";var e=function(e,t,a,i,o,r){function s(e,t){return t.username==e.userName}function h(){u.length>0&&(u[0].speed=0),0==v?(v=Math.floor(500*Math.random()+500),y.push(new Powerup(Math.floor(100*Math.random()),Math.floor(100*Math.random()),Math.ceil(3*Math.random()),Math.floor(2*Math.random())))):v--,m.clearRect(0,0,c.width,c.height);var e=c.width/100;if(0!=y.length)for(var t in y){var a=y[t];a.width=c.width/50,a.height=a.width*a.image.height/a.image.width,m.save(),m.translate(a.x*e,a.y*e),m.drawImage(a.image,-a.width/2,-a.height/2,a.width,a.height),m.restore(),a.decreaseDuration(),0==a.duration&&y.splice(t,1)}if(0!=f.length){var i=c.width/100,o=i*f[0].image.height/f[0].image.width;for(var r in f){var s=f[r];s.width=i,s.height=o,0==s.explodeStage?(m.save(),m.translate(s.x*e,s.y*e),m.rotate(s.rotation/180*Math.PI),m.drawImage(s.image,-i/2,-o/2,i,o),m.restore(),f[r].x=Math.cos((s.rotation-90)/180*Math.PI)+s.x,f[r].y=Math.sin((s.rotation-90)/180*Math.PI)+s.y):s.explodeStage<4&&(m.save(),m.translate(s.x*e,s.y*e),m.drawImage(s.explosionImage,-i,-i,2*i,2*i),m.restore())}}if(0!=u.length){var h=c.width/20,p=h*u[0].image.height/u[0].image.width;for(var l in u){var a=u[l];if(a.width=h,a.height=p,m.save(),m.translate(a.x*e,a.y*e),-1==a.explodeStage?(m.rotate(a.rotation/180*Math.PI),m.drawImage(a.image,-h/2,-p/2,h,p)):u[l].explode(),a.damage>0&&a.explodeStage<=140&&m.drawImage(a.damageImage,-h/2,-p/2,h,p),a.damage<4&&(u[l].x=Math.cos((a.rotation-90)/180*Math.PI)/10*a.speed+a.x,u[l].y=Math.sin((a.rotation-90)/180*Math.PI)/10*a.speed+a.y),a.shield&&-1==a.explodeStage){var g=1.5*h,x=g/a.shieldImage.width*a.shieldImage.height;m.drawImage(a.shieldImage,-g/2,-x/2,g,x)}u[l].checkPowerup(),m.restore()}}if(w.length>0)for(var M in w){var S=w[M];if(S.width=c.width/700*S.image.width,S.height=S.width*S.image.height/S.image.width,m.save(),m.translate(S.x*e,S.y*e),m.rotate(S.rotation/180*Math.PI),m.drawImage(S.image,-S.width/2,-S.height/2,S.width,S.height),m.restore(),S.x<-5||S.x>105||S.y<-5||S.y>105){var I=Math.random();.25>I?(w[M].x=-4,w[M].y=Math.floor(100*Math.random()),w[M].rotation=Math.floor(180*Math.random())):.5>I?(w[M].x=Math.floor(100*Math.random()),w[M].y=-4,w[M].rotation=Math.floor(180*Math.random())+90):.75>I?(w[M].x=104,w[M].y=Math.floor(100*Math.random()),w[M].rotation=Math.floor(180*Math.random())+180):(w[M].x=Math.floor(100*Math.random()),w[M].y=104,w[M].rotation=Math.floor(180*Math.random())+270),w[M].speed=1,w[M].setImage(Math.ceil(18*Math.random()))}else w[M].x=Math.cos((S.rotation-90)/180*Math.PI)/30*w[M].speed+S.x,w[M].y=Math.sin((S.rotation-90)/180*Math.PI)/30*w[M].speed+S.y}n(),d()}function n(){for(var e in f)f[e].x<0||f[e].x>c.width||f[e].y<0||f[e].y>c.height?f.splice(e,1):f[e].explodeStage>0&&(f[e].explodeStage<4?f[e].explode():f.splice(e,1))}function d(){var e=[];for(var t in u)if(u[t].damage<4){e.push(u[t]);for(var a in f)if(0==f[a].explodeStage&&f[a].player!=u[t].userName){var o=Math.sqrt(2)/2*(f[a].height/2-f[a].width/2),r=(360-f[a].rotation)/180*Math.PI,s=f[a].x*c.width/100-o*Math.sin(r),h=f[a].y*c.width/100-o*Math.cos(r),n=u[t].x*c.width/100,d=u[t].y*c.width/100,l=Math.sqrt((s-n)*(s-n)+(h-d)*(h-d)),g=1;if(u[t].shield&&(g=1.5),l<f[a].width/2+u[t].width/2*g){var m=new Audio("../../assets/Bonus/sfx_lose.ogg");if(m.play(),!u[t].shield){u[t].increaseDamage();var v={};v.username=u[t].userName,v.life=3-u[t].damage,i.emit("playerLife",v)}f[a].explode()}}for(var x in w){var M=w[x].x*c.width/100,S=w[x].y*c.width/100,n=u[t].x*c.width/100,d=u[t].y*c.width/100,l=Math.sqrt((M-n)*(M-n)+(S-d)*(S-d)),g=1;if(u[t].shield&&(g=1.5),l<w[x].width/2+u[t].width/2*g){var m=new Audio("../../assets/Bonus/sfx_lose.ogg");if(m.play(),u[t].shield)w[x].rotation=w[x].rotation+180,w[x].speed=3,w[x].x=Math.cos((w[x].rotation-90)/180*Math.PI)/30*w[x].speed+w[x].x,w[x].y=Math.sin((w[x].rotation-90)/180*Math.PI)/30*w[x].speed+w[x].y;else{u[t].dead();var v={};v.username=u[t].userName,v.life=3-u[t].damage,i.emit("playerLife",v)}}}for(var x in u)if(4!=u[x].damage&&x!=t){var I=u[x].x*c.width/100,P=u[x].y*c.width/100,n=u[t].x*c.width/100,d=u[t].y*c.width/100,g=1;u[t].shield&&(g=1.5);var N=1;u[x].shield&&(N=1.5);var l=Math.sqrt((I-n)*(I-n)+(P-d)*(P-d));if(l<u[x].width/2*N+u[t].width/2*g){var m=new Audio("../../assets/Bonus/sfx_lose.ogg");m.play(),u[t].dead(),u[x].dead();var v={};v.username=u[t].userName,v.life=3-u[t].damage,i.emit("playerLife",v),v.username=u[x].userName,v.life=3-u[x].damage,i.emit("playerLife",v)}}if(u[t].x*c.width/100<u[t].height/2||u[t].x*c.width/100>c.width-u[t].height/2||u[t].y*c.width/100<u[t].height/2||u[t].y*c.width/100>c.width-u[t].height/2){var m=new Audio("../../assets/Bonus/sfx_lose.ogg");m.play(),u[t].dead();var v={};v.username=u[t].userName,v.life=3-u[t].damage,i.emit("playerLife",v)}for(var x in y){var G=y[x].x*c.width/100,C=y[x].y*c.width/100,n=u[t].x*c.width/100,d=u[t].y*c.width/100,l=Math.sqrt((G-n)*(G-n)+(C-d)*(C-d));if(l<y[x].width/2+u[t].width/2){var k=new Audio("../../assets/Bonus/sfx_zap.ogg");if(k.play(),1==y[x].boolSelf)for(var _ in u)_!=t&&u[_].addPowerup(y[x]);else u[t].addPowerup(y[x]);if(3==y[x].type){var v={};v.username=u[t].userName,v.life=3,i.emit("playerLife",v)}y.splice(x,1)}}}for(var x in w)for(var a in f)if(0==f[a].explodeStage&&f[a].player!=w[x].userName){var o=Math.sqrt(2)/2*(f[a].height/2-f[a].width/2),r=(360-f[a].rotation)/180*Math.PI,s=f[a].x*c.width/100-o*Math.sin(r),h=f[a].y*c.width/100-o*Math.cos(r),M=w[x].x*c.width/100,S=w[x].y*c.width/100,l=Math.sqrt((s-M)*(s-M)+(h-S)*(h-S));if(l<f[a].width/2+w[x].width/2){var v={};v.username=w[x].userName,v.life=3-w[x].damage,i.emit("playerLife",v),f[a].explode()}}1==e.length&&p(e)}function p(a){angular.isDefined(g)&&(t.cancel(g),g=void 0),e.endGame=!0,e.endGameText=a[0].userName+" is the winner!",i.emit("endGame",a[0].userName)}var l=[{x:10,y:10,rotation:135},{x:90,y:10,rotation:225},{x:90,y:90,rotation:315},{x:10,y:90,rotation:45}];e.PCShow=o.getPCShow,e.endGame=!1;var g,c=document.getElementById("game"),m=c.getContext("2d"),u=new Array,f=new Array,w=new Array,y=new Array;i.on("initGame",function(){var e=r.getPlayers(),a=0;for(var i in e){var o=e[i];u.push(new Spaceship(o.username,l[a].x,l[a].y,o.color,l[a].rotation)),a++}for(var s=0;15>s;s++);g=t(h,10)}),i.on("userleft",function(e){var t=null;for(var a in u)1==s(u[a],e)&&(t=a);u.splice(t,1)}),i.on("updateGameData",function(e){var t=null;for(var a in u)1==s(u[a],e)&&(t=a);null!=t&&u[t].rotateSpaceshipRelative(e.orientation)}),i.on("playerShot",function(t){if(0==e.endGame){var a=null;for(var i in u)1==s(u[i],t)&&(a=i);if(null!=a){var o=u[a],r=(360-(o.rotation+180))/180*Math.PI,h=o.x+c.width/400*Math.sin(r),n=o.y+c.width/400*Math.cos(r);f.push(new Bullet(h,n,o.rotation,o.color,o.userName));var d="../../assets/Bonus/sfx_laser2.ogg";a%2==0&&(d="../../assets/Bonus/sfx_laser1.ogg");var p=new Audio(d);p.play()}}});var v=Math.floor(500*Math.random()+500);e.restartGame=function(){e.endGame=!1;var a=0;for(var o in u)u[o].reset(l[a].x,l[a].y,l[a].rotation),a++;w=[];for(var r=0;15>r;r++);f=[],y=[],v=Math.floor(500*Math.random()+500),m.clearRect(0,0,c.width,c.height),i.emit("restartGame",null),g=t(h,10)}};angular.module("app").controller("playController",["$scope","$interval","$window","socketService","displayService","playerService",e])}(),function(){var e=function(e){function t(t,a,i){e.innerWidth<e.innerHeight?t.width=e.innerWidth-20:t.width=e.innerHeight-20,angular.element(e).bind("resize",function(){e.innerWidth<e.innerHeight?t.width=e.innerWidth-20:t.width=e.innerHeight-20,t.$digest()})}return{restrict:"E",link:t,replace:!0,template:'<canvas id="game" class="playArea" width="{{width}}" height="{{width}}" />'}};angular.module("app").directive("canvasDirective",["$window",e])}(),function(){var e=function(){var e=!0,t=!1;return{getLCShow:function(){return e},setLCShow:function(t){e=t},getPCShow:function(){return t},setPCShow:function(e){t=e}}};angular.module("app").factory("displayService",[e])}(),function(){var e=function(){var e=[];return{getPlayers:function(){return e},setPlayers:function(t){e=t}}};angular.module("app").factory("playerService",[e])}();var Asteroid=function(e,t,a,i){this.x=e,this.y=t,this.width=0,this.height=0,this.rotation=a,this.stage=i,this.image=new Image,this.image.src="../assets/PNG/Meteors/meteor_"+i+".png",this.speed=1};Asteroid.prototype.setImage=function(e){this.stage=e,this.image.src="../assets/PNG/Meteors/meteor_"+e+".png"};var Bullet=function(e,t,a,i,o){this.x=e,this.y=t,this.rotation=a,this.image=new Image,this.color=i,this.width=0,this.height=0,this.player=o,this.explosionImage=new Image,this.explodeStage=0,"orange"==this.color&&(this.color="red"),this.image.src="../assets/PNG/Lasers/laser"+this.color.charAt(0).toUpperCase()+this.color.slice(1)+"01.png"};Bullet.prototype.explode=function(){if(this.explodeStage<4){this.explodeStage++;var e;e=this.explodeStage<3?1:2,this.explosionImage.src="../assets/PNG/Lasers/laser"+this.color.charAt(0).toUpperCase()+this.color.slice(1)+"Explode"+e+".png"}else this.explosionImage.src=""};var Powerup=function(e,t,a,i){this.x=e,this.y=t,this.width=0,this.height=0,this.type=a,this.duration=1e3,this.playerduration=1e3;var o;switch(this.image=new Image,this.boolSelf=i,a){case 1:o="bolt_";break;case 2:o="shield_";break;case 3:o="star_"}switch(i){case 0:o+="gold.png";break;case 1:o+="silver.png"}this.image.src="../assets/PNG/Power-ups/"+o};Powerup.prototype.decreaseDuration=function(){this.duration>0&&this.duration--};var Spaceship=function(e,t,a,i,o){this.userName=e,this.x=t,this.y=a,this.speed=1,this.color=i,this.rotation=o,this.image=new Image,this.damage=0,this.width=0,this.height=0,this.powerups=[],this.shield=!1,this.shieldImage=new Image,this.shieldImage.src="../assets/PNG/Effects/shield1.png",this.damageImage=new Image,this.image.src="../assets/PNG/playerShip1_"+this.color+".png",this.explodeStage=-1};Spaceship.prototype.reset=function(e,t,a){this.speed=1,this.damage=0,this.damageImage=new Image,this.image.src="../assets/PNG/playerShip1_"+this.color+".png",this.x=e,this.y=t,this.rotation=a,this.shield=!1,this.explodeStage=-1},Spaceship.prototype.moveSpaceship=function(e,t){this.x=e,this.y=t},Spaceship.prototype.moveSpaceshipRelative=function(e,t){this.x=this.x+e,this.y=this.y+t},Spaceship.prototype.rotateSpaceship=function(e){this.rotation=e},Spaceship.prototype.rotateSpaceshipRelative=function(e){e>80?e=80:-80>e&&(e=-80),this.rotation=this.rotation+e/5,this.rotation<-360&&(this.rotation=this.rotation+720),this.rotation>360&&(this.rotation=this.rotation-720)},Spaceship.prototype.increaseDamage=function(){this.damage<4&&(this.damage+=1),this.damage<=3&&this.damage>0?this.damageImage.src="../assets/PNG/Damage/playerShip1_damage"+this.damage+".png":4==this.damage&&this.explode()},Spaceship.prototype.dead=function(){this.damage=4,this.explode()},Spaceship.prototype.explode=function(){this.explodeStage<=140&&(this.explodeStage++,this.damageImage.src="../assets/PNG/Damage/frame"+Math.floor(this.explodeStage/10)+".gif")},Spaceship.prototype.decreaseDamage=function(){this.damage>0&&(this.damage-=1),this.damage<=3&&this.damage>0&&(this.damageImage.src="../assets/PNG/Damage/playerShip1_damage"+this.damage+".png")},Spaceship.prototype.addPowerup=function(e){switch(e.type){case 1:this.speed++,this.powerups.push(e);break;case 2:this.shield=!0,this.powerups.push(e);break;case 3:this.damage=0,this.damageImage.src=""}},Spaceship.prototype.checkPowerup=function(){for(var e in this.powerups)if(this.powerups[e].playerduration>0)this.powerups[e].playerduration--;else{switch(this.powerups[e].type){case 1:this.speed--;break;case 2:this.shield=!1}console.log(this.powerups),this.powerups.splice(e,1),console.log(this.powerups)}},function(){var e=function(e){"use strict";var t=io.connect(window.location.host),a=function(a,i){t.on(a,function(){var a=arguments;e.$apply(function(){i.apply(t,a)})})},i=function(a,i,o){t.emit(a,i,function(){var a=arguments;e.$apply(function(){o&&o.apply(t,a)})})};return{on:a,emit:i,socket:t}};angular.module("app").factory("socketService",["$rootScope",e])}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsImNvbnRyb2xsZXIvbG9naW5Db250cm9sbGVyLmpzIiwiY29udHJvbGxlci9wbGF5Q29udHJvbGxlci5qcyIsImRpcmVjdGl2ZXMvY2FudmFzRGlyZWN0aXZlLmpzIiwic2VydmljZXMvZGlzcGxheVNlcnZpY2UuanMiLCJzZXJ2aWNlcy9wbGF5ZXJTZXJ2aWNlLmpzIiwibW9kZWxzL0FzdGVyaW9kLmpzIiwibW9kZWxzL0J1bGxldC5qcyIsIm1vZGVscy9Qb3dlcnVwLmpzIiwibW9kZWxzL1NwYWNlc2hpcC5qcyIsInNlcnZpY2VzL3NvY2tldFNlcnZpY2UuanMiXSwibmFtZXMiOlsiYW5ndWxhciIsIm1vZHVsZSIsImxvZ2luQ29udHJvbGxlciIsIiRzY29wZSIsInNvY2tldFNlcnZpY2UiLCJkaXNwbGF5U2VydmljZSIsInBsYXllclNlcnZpY2UiLCJMQ1Nob3ciLCJnZXRMQ1Nob3ciLCJtYWtlUm9vbSIsImVtaXQiLCJyb29tIiwib24iLCJkYXRhIiwiZGV2aWNlT3JpZW50YXRpb24iLCJ1c2VybmFtZSIsImdhbW1hIiwiYmV0YSIsImFscGhhIiwidXNlcm5hbWVzIiwiY2hlY2tVc2VyQ291bnQiLCJzZXRQbGF5ZXJzIiwiT2JqZWN0Iiwia2V5cyIsImxlbmd0aCIsInN0YXJ0R2FtZSIsInNldExDU2hvdyIsInNldFBDU2hvdyIsImNvbnRyb2xsZXIiLCJwbGF5Q29udHJvbGxlciIsIiRpbnRlcnZhbCIsIiR3aW5kb3ciLCJmaWx0ZXJQbGF5ZXJzIiwib2JqIiwidXNlck5hbWUiLCJkcmF3IiwiQWxsUGxheWVycyIsInNwZWVkIiwiUG93ZXJ1cFNwYXduVGltZSIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsIkFsbFBvd2VyVXBzIiwicHVzaCIsIlBvd2VydXAiLCJjZWlsIiwiY3R4IiwiY2xlYXJSZWN0IiwiY2FudiIsIndpZHRoIiwiaGVpZ2h0IiwicmF0aW8iLCJwb3dlcnVwIiwicCIsImltYWdlIiwic2F2ZSIsInRyYW5zbGF0ZSIsIngiLCJ5IiwiZHJhd0ltYWdlIiwicmVzdG9yZSIsImRlY3JlYXNlRHVyYXRpb24iLCJkdXJhdGlvbiIsInNwbGljZSIsIkFsbEJ1bGxldHMiLCJCdWxsZXRXaWR0aCIsIkJ1bGxldEhlaWdodCIsImJ1bGxldCIsImIiLCJleHBsb2RlU3RhZ2UiLCJyb3RhdGUiLCJyb3RhdGlvbiIsIlBJIiwiY29zIiwic2luIiwiZXhwbG9zaW9uSW1hZ2UiLCJTcGFjZXNoaXBXaWR0aCIsIlNwYWNlc2hpcEhlaWdodCIsInBsYXllciIsImV4cGxvZGUiLCJkYW1hZ2UiLCJkYW1hZ2VJbWFnZSIsInNoaWVsZCIsIlNoaWVsZFdpZHRoIiwiU2hpZWxkSGVpZ2h0Iiwic2hpZWxkSW1hZ2UiLCJjaGVja1Bvd2VydXAiLCJBbGxBc3Rlcm9pZHMiLCJBc3Rlcm9pZCIsImEiLCJrZXV6ZSIsInNldEltYWdlIiwiY2hlY2tCdWxsZXRzIiwiY29sbGlzaW9uRGV0ZWN0aW9uIiwibGl2aW5nUGxheWVycyIsInJhZGl1cyIsInNxcnQiLCJhbmdsZSIsImJ1bGxldEhlYWRYIiwiYnVsbGV0SGVhZFkiLCJzcGFjZVNoaXBYIiwic3BhY2VTaGlwWSIsImRpc3RhbmNlIiwic2hpZWxkUmF0aW8iLCJkYW1hZ2Vzb3VuZCIsIkF1ZGlvIiwicGxheSIsImluY3JlYXNlRGFtYWdlIiwibGlmZSIsImFzdGVyb2lkWCIsImFzdGVyb2lkWSIsImRlYWQiLCJzcGFjZVNoaXAxWCIsInNwYWNlU2hpcDFZIiwic2hpZWxkUmF0aW8xIiwicG93ZXJ1cFgiLCJwb3dlcnVwWSIsInBvd2VydXBTb3VuZCIsImJvb2xTZWxmIiwiYWRkUG93ZXJ1cCIsInR5cGUiLCJlbmRHYW1lIiwiaXNEZWZpbmVkIiwiY3ljbGUiLCJjYW5jZWwiLCJ1bmRlZmluZWQiLCJlbmRHYW1lVGV4dCIsImRlZmF1bHRWYXJzIiwiUENTaG93IiwiZ2V0UENTaG93IiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImdldENvbnRleHQiLCJBcnJheSIsIkJ1ZmZlclBsYXllciIsImdldFBsYXllcnMiLCJ0ZWxsZXIiLCJTcGFjZXNoaXAiLCJjb2xvciIsImkiLCJyb3RhdGVTcGFjZXNoaXBSZWxhdGl2ZSIsIm9yaWVudGF0aW9uIiwidGVtcCIsIkJ1bGxldCIsImF1ZGlvVXJsIiwic2hvdCIsInJlc3RhcnRHYW1lIiwicmVzZXQiLCJjYW52YXNEaXJlY3RpdmUiLCJsaW5rIiwic2NvcGUiLCJlbGVtZW50IiwiYXR0cnMiLCJpbm5lcldpZHRoIiwiaW5uZXJIZWlnaHQiLCJiaW5kIiwiJGRpZ2VzdCIsInJlc3RyaWN0IiwicmVwbGFjZSIsInRlbXBsYXRlIiwiZGlyZWN0aXZlIiwidmFsdWUiLCJmYWN0b3J5IiwicGxheWVycyIsInBsYXllcnNBcnJheSIsInN0YWdlIiwidGhpcyIsIkltYWdlIiwic3JjIiwicHJvdG90eXBlIiwiY2hhckF0IiwidG9VcHBlckNhc2UiLCJzbGljZSIsIm51bWJlciIsInBsYXllcmR1cmF0aW9uIiwiaW1hZ2VUeXBlIiwicG93ZXJ1cHMiLCJtb3ZlU3BhY2VzaGlwIiwibW92ZVNwYWNlc2hpcFJlbGF0aXZlIiwicm90YXRlU3BhY2VzaGlwIiwiZGVncmVlIiwiZGVjcmVhc2VEYW1hZ2UiLCJjb25zb2xlIiwibG9nIiwiJHJvb3RTY29wZSIsInNvY2tldCIsImlvIiwiY29ubmVjdCIsIndpbmRvdyIsImxvY2F0aW9uIiwiaG9zdCIsImV2ZW50TmFtZSIsImNhbGxiYWNrIiwiYXJncyIsImFyZ3VtZW50cyIsIiRhcHBseSIsImFwcGx5Il0sIm1hcHBpbmdzIjoiQ0FHQSxXQUVBQSxRQUFBQyxPQUFBLGFDREEsV0FDQSxHQUFBQyxHQUFBLFNBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEdBRUFILEVBQUFJLE9BQUFGLEVBQUFHLFNBR0EsSUFBQUMsR0FBQSxXQUNBTCxFQUFBTSxLQUFBLFlBQUEsTUFFQVAsR0FBQVEsS0FBQSxHQUNBUCxFQUFBUSxHQUFBLGNBQUEsU0FBQUMsR0FDQVYsRUFBQVEsS0FBQUUsSUFFQVQsRUFBQVEsR0FBQSxvQkFBQSxTQUFB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QUFBUixLQUFBVSxTQUFBM0gsR0FBQW1FLE1BQ0EsSUFBQSxHQUNBOEMsS0FBQWpJLE9BQ0EsTUFDQSxLQUFBLEdBQ0FpSSxLQUFBcEYsUUFBQSxFQUdBb0csUUFBQUMsSUFBQWpCLEtBQUFVLFVBQ0FWLEtBQUFVLFNBQUFqSCxPQUFBVixFQUFBLEdBQ0FpSSxRQUFBQyxJQUFBakIsS0FBQVUsWUMvSEEsV0FFQSxHQUFBNUssR0FBQSxTQUFBb0wsR0FDQSxZQUVBLElBQUFDLEdBQUFDLEdBQUFDLFFBQUFDLE9BQUFDLFNBQUFDLE1BRUFsTCxFQUFBLFNBQUFtTCxFQUFBQyxHQUNBUCxFQUFBN0ssR0FBQW1MLEVBQUEsV0FDQSxHQUFBRSxHQUFBQyxTQUNBVixHQUFBVyxPQUFBLFdBQ0FILEVBQUFJLE1BQUFYLEVBQUFRLFFBS0F2TCxFQUFBLFNBQUFxTCxFQUFBbEwsRUFBQW1MLEdBQ0FQLEVBQUEvSyxLQUFBcUwsRUFBQWxMLEVBQUEsV0FDQSxHQUFBb0wsR0FBQUMsU0FDQVYsR0FBQVcsT0FBQSxXQUNBSCxHQUNBQSxFQUFBSSxNQUFBWCxFQUFBUSxPQU9BLFFBQ0FyTCxHQUFBQSxFQUNBRixLQUFBQSxFQUNBK0ssT0FBQUEsR0FJQXpMLFNBQUFDLE9BQUEsT0FBQWlLLFFBQUEsaUJBQUEsYUFBQTlKIiwiZmlsZSI6ImFwcC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENyZWF0ZWQgYnkgTWljaGllbCBvbiAyNS8xMS8yMDE1LlxuICovXG4oZnVuY3Rpb24oKXtcblxuICAgIHZhciBhcHAgPSBhbmd1bGFyLm1vZHVsZShcImFwcFwiLFtdKTtcbn0pKCk7IiwiLyoqXG4gKiBDcmVhdGVkIGJ5IE1pY2hpZWwgb24gMTEvMTIvMjAxNS5cbiAqL1xuXG4oZnVuY3Rpb24oKXtcbiAgICB2YXIgbG9naW5Db250cm9sbGVyID0gZnVuY3Rpb24oJHNjb3BlLCBzb2NrZXRTZXJ2aWNlLCBkaXNwbGF5U2VydmljZSwgcGxheWVyU2VydmljZSl7XG5cbiAgICAgICAgJHNjb3BlLkxDU2hvdyA9IGRpc3BsYXlTZXJ2aWNlLmdldExDU2hvdztcblxuICAgICAgICAvL2Z1bmN0aW9uc1xuICAgICAgICB2YXIgbWFrZVJvb20gPSBmdW5jdGlvbigpe1xuICAgICAgICAgICAgc29ja2V0U2VydmljZS5lbWl0KFwicGNjb25uZWN0XCIsIG51bGwpO1xuICAgICAgICB9O1xuICAgICAgICAkc2NvcGUucm9vbSA9IFwiXCI7XG4gICAgICAgIHNvY2tldFNlcnZpY2Uub24oJ3JlcXVlc3RSb29tJyxmdW5jdGlvbihkYXRhKXtcbiAgICAgICAgICAgICRzY29wZS5yb29tID0gZGF0YTtcbiAgICAgICAgfSk7XG4gICAgICAgIHNvY2tldFNlcnZpY2Uub24oJ2RldmljZU9yaWVudGF0aW9uJywgZnVuY3Rpb24oZGF0YSl7XG4gICAgICAgICAgICB2YXIgdXNlcm5hbWUgPSBkYXRhLnVzZXJuYW1lO1xuICAgICAgICAgICAgdmFyIGRldmljZU9yaWVudGF0aW9uID0ge307XG4gICAgICAgICAgICBkZXZpY2VPcmllbnRhdGlvbi5nYW1tYSA9IGRhdGEuZ2FtbWE7XG4gICAgICAgICAgICBkZXZpY2VPcmllbnRhdGlvbi5iZXRhID0gZGF0YS5iZXRhO1xuICAgICAgICAgICAgZGV2aWNlT3JpZW50YXRpb24uYWxwaGEgPSBkYXRhLmFscGhhO1xuICAgICAgICB9KTtcbiAgICAgICAgJHNjb3BlLnVzZXJuYW1lcyA9IHt9O1xuICAgICAgICAkc2NvcGUuY2hlY2tVc2VyQ291bnQgPSBmYWxzZTtcbiAgICAgICAgc29ja2V0U2VydmljZS5vbigndXBkYXRldXNlcnMnLCBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgcGxheWVyU2VydmljZS5zZXRQbGF5ZXJzKGRhdGEpO1xuICAgICAgICAgICAgJHNjb3BlLnVzZXJuYW1lcyA9IGRhdGE7XG4gICAgICAgICAgICAkc2NvcGUuY2hlY2tVc2VyQ291bnQgPSBPYmplY3Qua2V5cygkc2NvcGUudXNlcm5hbWVzKS5sZW5ndGggPCAwO1xuICAgICAgICB9KTtcblxuICAgICAgICAkc2NvcGUuc3RhcnRHYW1lPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBzb2NrZXRTZXJ2aWNlLmVtaXQoXCJzdGFydEdhbWVcIiwgbnVsbCk7XG4gICAgICAgICAgICBkaXNwbGF5U2VydmljZS5zZXRMQ1Nob3coZmFsc2UpO1xuICAgICAgICAgICAgZGlzcGxheVNlcnZpY2Uuc2V0UENTaG93KHRydWUpO1xuICAgICAgICB9O1xuXG5cbiAgICAgICAgKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgbWFrZVJvb20oKTtcbiAgICAgICAgfSkoKTtcblxuICAgIH07XG5cbiAgICBhbmd1bGFyLm1vZHVsZShcImFwcFwiKS5jb250cm9sbGVyKFwibG9naW5Db250cm9sbGVyXCIsIFtcIiRzY29wZVwiLCBcInNvY2tldFNlcnZpY2VcIiAsIFwiZGlzcGxheVNlcnZpY2VcIiwgXCJwbGF5ZXJTZXJ2aWNlXCIsIGxvZ2luQ29udHJvbGxlcl0pO1xufSkoKTsiLCIvKipcbiAqIENyZWF0ZWQgYnkgTWljaGllbCBvbiAxNi8xMi8yMDE1LlxuICovXG5cbihmdW5jdGlvbigpe1xuICAgIFwidXNlIHN0cmljdFwiO1xuICAgIHZhciBwbGF5Q29udHJvbGxlciA9IGZ1bmN0aW9uKCRzY29wZSwgJGludGVydmFsLCAkd2luZG93LCBzb2NrZXRTZXJ2aWNlLCBkaXNwbGF5U2VydmljZSwgcGxheWVyU2VydmljZSl7XG4gICAgICAgIHZhciBkZWZhdWx0VmFycyA9IFt7eDoxMCwgeToxMCxyb3RhdGlvbjoxMzV9LHt4OjkwLCB5OjEwLHJvdGF0aW9uOjIyNX0se3g6OTAsIHk6OTAscm90YXRpb246MzE1fSx7eDoxMCwgeTo5MCxyb3RhdGlvbjo0NX1dO1xuICAgICAgICAkc2NvcGUuUENTaG93ID0gZGlzcGxheVNlcnZpY2UuZ2V0UENTaG93O1xuICAgICAgICAkc2NvcGUuZW5kR2FtZSA9IGZhbHNlO1xuICAgICAgICB2YXIgY2FudiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdnYW1lJyk7XG4gICAgICAgIHZhciBjdHggPSBjYW52LmdldENvbnRleHQoJzJkJyk7XG5cbiAgICAgICAgdmFyIEFsbFBsYXllcnMgPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgdmFyIEFsbEJ1bGxldHMgPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgdmFyIEFsbEFzdGVyb2lkcyA9IG5ldyBBcnJheSgpO1xuICAgICAgICB2YXIgQWxsUG93ZXJVcHMgPSBuZXcgQXJyYXkoKTtcblxuICAgICAgICB2YXIgY3ljbGU7XG5cbiAgICAgICAgc29ja2V0U2VydmljZS5vbihcImluaXRHYW1lXCIsIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICB2YXIgQnVmZmVyUGxheWVyID0gcGxheWVyU2VydmljZS5nZXRQbGF5ZXJzKCk7XG4gICAgICAgICAgICB2YXIgdGVsbGVyPSAwO1xuICAgICAgICAgICAgZm9yKHZhciBwbGF5ZXIgaW4gQnVmZmVyUGxheWVyKXtcbiAgICAgICAgICAgICAgICB2YXIgcCA9IEJ1ZmZlclBsYXllcltwbGF5ZXJdO1xuICAgICAgICAgICAgICAgIEFsbFBsYXllcnMucHVzaChuZXcgU3BhY2VzaGlwKHAudXNlcm5hbWUsIGRlZmF1bHRWYXJzW3RlbGxlcl0ueCwgZGVmYXVsdFZhcnNbdGVsbGVyXS55LCBwLmNvbG9yLCBkZWZhdWx0VmFyc1t0ZWxsZXJdLnJvdGF0aW9uKSk7XG4gICAgICAgICAgICAgICAgdGVsbGVyKys7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZvcih2YXIgaSA9IDA7IGk8MTU7IGkrKyl7XG4gICAgICAgICAgICAgICAgLy9BbGxBc3Rlcm9pZHMucHVzaChuZXcgQXN0ZXJvaWQoY3JlYXRlQ29vcmRpbmF0ZVgoKSwgY3JlYXRlQ29vcmRpbmF0ZVkoKSwgTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKjM2MSksIE1hdGguY2VpbChNYXRoLnJhbmRvbSgpKjE4KSkpO1xuICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgIGN5Y2xlID0gJGludGVydmFsKGRyYXcsIDEwKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZnVuY3Rpb24gY3JlYXRlQ29vcmRpbmF0ZVgoKXtcbiAgICAgICAgICAgIHZhciB4ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKjEwMCk7XG4gICAgICAgICAgICBmb3IodmFyIHAgaW4gQWxsUGxheWVycyl7XG4gICAgICAgICAgICAgICAgaWYoTWF0aC5hYnMoQWxsUGxheWVyc1twXS54IC0geCkgPCAxMCl7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVDb29yZGluYXRlWCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB4O1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gY3JlYXRlQ29vcmRpbmF0ZVkoKXtcbiAgICAgICAgICAgIHZhciB5ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKjEwMCk7XG4gICAgICAgICAgICBmb3IodmFyIHAgaW4gQWxsUGxheWVycyl7XG4gICAgICAgICAgICAgICAgaWYoTWF0aC5hYnMoQWxsUGxheWVyc1twXS55IC0geSkgPCAxMCl7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVDb29yZGluYXRlWSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB5O1xuICAgICAgICB9XG5cbiAgICAgICAgc29ja2V0U2VydmljZS5vbihcInVzZXJsZWZ0XCIsIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICB2YXIgcCA9IG51bGw7XG4gICAgICAgICAgICBmb3IodmFyIGkgaW4gQWxsUGxheWVycyl7XG4gICAgICAgICAgICAgICAgaWYoZmlsdGVyUGxheWVycyhBbGxQbGF5ZXJzW2ldLGRhdGEpID09IHRydWUpe1xuICAgICAgICAgICAgICAgICAgICBwID0gaTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBBbGxQbGF5ZXJzLnNwbGljZShwLDEpO1xuICAgICAgICB9KTtcblxuICAgICAgICBzb2NrZXRTZXJ2aWNlLm9uKFwidXBkYXRlR2FtZURhdGFcIiwgZnVuY3Rpb24oZGF0YSl7XG4gICAgICAgICAgICB2YXIgcCA9IG51bGw7XG4gICAgICAgICAgICBmb3IodmFyIGkgaW4gQWxsUGxheWVycyl7XG4gICAgICAgICAgICAgICAgaWYoZmlsdGVyUGxheWVycyhBbGxQbGF5ZXJzW2ldLGRhdGEpID09IHRydWUpe1xuICAgICAgICAgICAgICAgICAgICBwID0gaTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZihwICE9IG51bGwpe1xuICAgICAgICAgICAgICAgIEFsbFBsYXllcnNbcF0ucm90YXRlU3BhY2VzaGlwUmVsYXRpdmUoZGF0YS5vcmllbnRhdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHNvY2tldFNlcnZpY2Uub24oXCJwbGF5ZXJTaG90XCIsIGZ1bmN0aW9uKGRhdGEpe1xuICAgICAgICAgICAgaWYoJHNjb3BlLmVuZEdhbWU9PWZhbHNlKSB7XG4gICAgICAgICAgICAgICAgdmFyIHAgPSBudWxsO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgaW4gQWxsUGxheWVycykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZmlsdGVyUGxheWVycyhBbGxQbGF5ZXJzW2ldLCBkYXRhKSA9PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwID0gaTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gQWxsUGxheWVyc1twXTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFuZ2xlID0gKDM2MCAtICh0ZW1wLnJvdGF0aW9uICsgMTgwKSkgLyAxODAgKiBNYXRoLlBJO1xuICAgICAgICAgICAgICAgICAgICB2YXIgeCA9IHRlbXAueCArIChjYW52LndpZHRoIC8gNDAwICogTWF0aC5zaW4oYW5nbGUpKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHkgPSB0ZW1wLnkgKyAoY2Fudi53aWR0aCAvIDQwMCAqIE1hdGguY29zKGFuZ2xlKSk7XG4gICAgICAgICAgICAgICAgICAgIEFsbEJ1bGxldHMucHVzaChuZXcgQnVsbGV0KHgsIHksIHRlbXAucm90YXRpb24sIHRlbXAuY29sb3IsIHRlbXAudXNlck5hbWUpKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGF1ZGlvVXJsID0gJy4uLy4uL2Fzc2V0cy9Cb251cy9zZnhfbGFzZXIyLm9nZyc7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwICUgMiA9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhdWRpb1VybCA9ICcuLi8uLi9hc3NldHMvQm9udXMvc2Z4X2xhc2VyMS5vZ2cnO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHZhciBzaG90ID0gbmV3IEF1ZGlvKGF1ZGlvVXJsKTtcbiAgICAgICAgICAgICAgICAgICAgc2hvdC5wbGF5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBmdW5jdGlvbiBmaWx0ZXJQbGF5ZXJzKG9iaixkYXRhKXtcbiAgICAgICAgICAgIHJldHVybiBkYXRhLnVzZXJuYW1lID09IG9iai51c2VyTmFtZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBQb3dlcnVwU3Bhd25UaW1lID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKjUwMCArIDUwMCk7XG5cbiAgICAgICAgZnVuY3Rpb24gZHJhdygpe1xuICAgICAgICAgICAgaWYoQWxsUGxheWVycy5sZW5ndGg+MCl7XG4gICAgICAgICAgICAgICAgQWxsUGxheWVyc1swXS5zcGVlZCA9IDA7XG4gICAgICAgICAgICAgICAgLy9BbGxQbGF5ZXJzWzFdLnNwZWVkID0gMDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYoUG93ZXJ1cFNwYXduVGltZSA9PSAwKXtcbiAgICAgICAgICAgICAgICBQb3dlcnVwU3Bhd25UaW1lID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKjUwMCArIDUwMCk7XG4gICAgICAgICAgICAgICAgQWxsUG93ZXJVcHMucHVzaChuZXcgUG93ZXJ1cChNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqMTAwKSxNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqMTAwKSwgTWF0aC5jZWlsKE1hdGgucmFuZG9tKCkqMyksTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKjIpKSlcbiAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgIFBvd2VydXBTcGF3blRpbWUgLS07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGN0eC5jbGVhclJlY3QoMCwwLGNhbnYud2lkdGgsIGNhbnYuaGVpZ2h0KTtcbiAgICAgICAgICAgIHZhciByYXRpbyA9IGNhbnYud2lkdGgvMTAwO1xuXG4gICAgICAgICAgICBpZihBbGxQb3dlclVwcy5sZW5ndGggIT0gMCl7XG4gICAgICAgICAgICAgICAgZm9yKHZhciBwb3dlcnVwIGluIEFsbFBvd2VyVXBzKXtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHAgPSBBbGxQb3dlclVwc1twb3dlcnVwXTtcbiAgICAgICAgICAgICAgICAgICAgcC53aWR0aCA9IGNhbnYud2lkdGgvNTA7XG4gICAgICAgICAgICAgICAgICAgIHAuaGVpZ2h0ID0gcC53aWR0aCAqIHAuaW1hZ2UuaGVpZ2h0LyBwLmltYWdlLndpZHRoO1xuICAgICAgICAgICAgICAgICAgICBjdHguc2F2ZSgpO1xuICAgICAgICAgICAgICAgICAgICBjdHgudHJhbnNsYXRlKHAueCpyYXRpbywgcC55KnJhdGlvKTtcbiAgICAgICAgICAgICAgICAgICAgY3R4LmRyYXdJbWFnZShwLmltYWdlLCAtcC53aWR0aC8yLCAtcC5oZWlnaHQvMiwgcC53aWR0aCwgcC5oZWlnaHQpO1xuICAgICAgICAgICAgICAgICAgICBjdHgucmVzdG9yZSgpO1xuICAgICAgICAgICAgICAgICAgICBwLmRlY3JlYXNlRHVyYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgaWYocC5kdXJhdGlvbiA9PSAwKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIEFsbFBvd2VyVXBzLnNwbGljZShwb3dlcnVwLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYoQWxsQnVsbGV0cy5sZW5ndGggIT0gMCl7XG4gICAgICAgICAgICAgICAgdmFyIEJ1bGxldFdpZHRoID0gY2Fudi53aWR0aC8xMDA7XG4gICAgICAgICAgICAgICAgdmFyIEJ1bGxldEhlaWdodCA9IEJ1bGxldFdpZHRoICogQWxsQnVsbGV0c1swXS5pbWFnZS5oZWlnaHQvQWxsQnVsbGV0c1swXS5pbWFnZS53aWR0aDtcblxuICAgICAgICAgICAgICAgIGZvcih2YXIgYnVsbGV0IGluIEFsbEJ1bGxldHMpe1xuICAgICAgICAgICAgICAgICAgICB2YXIgYiA9IEFsbEJ1bGxldHNbYnVsbGV0XTtcbiAgICAgICAgICAgICAgICAgICAgYi53aWR0aCA9IEJ1bGxldFdpZHRoO1xuICAgICAgICAgICAgICAgICAgICBiLmhlaWdodCA9IEJ1bGxldEhlaWdodDtcblxuICAgICAgICAgICAgICAgICAgICBpZihiLmV4cGxvZGVTdGFnZSA9PSAwKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vRHJhdyBidWxsZXRcbiAgICAgICAgICAgICAgICAgICAgICAgIGN0eC5zYXZlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdHgudHJhbnNsYXRlKGIueCpyYXRpbywgYi55KnJhdGlvKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN0eC5yb3RhdGUoYi5yb3RhdGlvbi8xODAqTWF0aC5QSSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdHguZHJhd0ltYWdlKGIuaW1hZ2UsIC1CdWxsZXRXaWR0aC8yLCAtQnVsbGV0SGVpZ2h0LzIsIEJ1bGxldFdpZHRoLCBCdWxsZXRIZWlnaHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3R4LnJlc3RvcmUoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgQWxsQnVsbGV0c1tidWxsZXRdLnggPSBNYXRoLmNvcygoYi5yb3RhdGlvbiAtIDkwKS8xODAqTWF0aC5QSSkgKyBiLng7XG4gICAgICAgICAgICAgICAgICAgICAgICBBbGxCdWxsZXRzW2J1bGxldF0ueSA9IE1hdGguc2luKChiLnJvdGF0aW9uIC0gOTApLzE4MCpNYXRoLlBJKSsgYi55O1xuICAgICAgICAgICAgICAgICAgICB9ZWxzZSBpZihiLmV4cGxvZGVTdGFnZSA8IDQpe1xuICAgICAgICAgICAgICAgICAgICAgICAgLy9EcmF3IGV4cGxvc2lvblxuICAgICAgICAgICAgICAgICAgICAgICAgY3R4LnNhdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN0eC50cmFuc2xhdGUoYi54KnJhdGlvLCBiLnkqcmF0aW8pO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3R4LmRyYXdJbWFnZShiLmV4cGxvc2lvbkltYWdlLCAtQnVsbGV0V2lkdGgsIC1CdWxsZXRXaWR0aCwgQnVsbGV0V2lkdGgqMiwgQnVsbGV0V2lkdGgqMik7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdHgucmVzdG9yZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZihBbGxQbGF5ZXJzLmxlbmd0aCAhPSAwKXtcbiAgICAgICAgICAgICAgICB2YXIgU3BhY2VzaGlwV2lkdGggPSBjYW52LndpZHRoLzIwO1xuICAgICAgICAgICAgICAgIHZhciBTcGFjZXNoaXBIZWlnaHQgPSBTcGFjZXNoaXBXaWR0aCAqIEFsbFBsYXllcnNbMF0uaW1hZ2UuaGVpZ2h0LyBBbGxQbGF5ZXJzWzBdLmltYWdlLndpZHRoO1xuXG4gICAgICAgICAgICAgICAgZm9yKHZhciBwbGF5ZXIgaW4gQWxsUGxheWVycyl7XG4gICAgICAgICAgICAgICAgICAgIHZhciBwID0gQWxsUGxheWVyc1twbGF5ZXJdO1xuICAgICAgICAgICAgICAgICAgICBwLndpZHRoID0gU3BhY2VzaGlwV2lkdGg7XG4gICAgICAgICAgICAgICAgICAgIHAuaGVpZ2h0ID0gU3BhY2VzaGlwSGVpZ2h0O1xuICAgICAgICAgICAgICAgICAgICBjdHguc2F2ZSgpO1xuICAgICAgICAgICAgICAgICAgICBjdHgudHJhbnNsYXRlKHAueCpyYXRpbywgcC55KnJhdGlvKTtcblxuICAgICAgICAgICAgICAgICAgICBpZihwLmV4cGxvZGVTdGFnZSA9PSAtMSl7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdHgucm90YXRlKHAucm90YXRpb24vMTgwKk1hdGguUEkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3R4LmRyYXdJbWFnZShwLmltYWdlLCAtU3BhY2VzaGlwV2lkdGgvMiwgLVNwYWNlc2hpcEhlaWdodC8yLCBTcGFjZXNoaXBXaWR0aCwgU3BhY2VzaGlwSGVpZ2h0KTtcbiAgICAgICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgICAgICBBbGxQbGF5ZXJzW3BsYXllcl0uZXhwbG9kZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmKHAuZGFtYWdlID4gMCAmJiBwLmV4cGxvZGVTdGFnZSA8PSAxNDApe1xuICAgICAgICAgICAgICAgICAgICAgICAgY3R4LmRyYXdJbWFnZShwLmRhbWFnZUltYWdlLCAtU3BhY2VzaGlwV2lkdGgvMiwgLVNwYWNlc2hpcEhlaWdodC8yLCBTcGFjZXNoaXBXaWR0aCwgU3BhY2VzaGlwSGVpZ2h0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmKHAuZGFtYWdlPDQpe1xuICAgICAgICAgICAgICAgICAgICAgICAgQWxsUGxheWVyc1twbGF5ZXJdLnggPSBNYXRoLmNvcygocC5yb3RhdGlvbiAtIDkwKS8xODAqTWF0aC5QSSkvMTAqIHAuc3BlZWQgKyBwLng7XG4gICAgICAgICAgICAgICAgICAgICAgICBBbGxQbGF5ZXJzW3BsYXllcl0ueSA9IE1hdGguc2luKChwLnJvdGF0aW9uIC0gOTApLzE4MCpNYXRoLlBJKS8xMCogcC5zcGVlZCArIHAueTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZihwLnNoaWVsZCAmJiBwLmV4cGxvZGVTdGFnZSA9PSAtMSl7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgU2hpZWxkV2lkdGggPSBTcGFjZXNoaXBXaWR0aCAqIDEuNTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBTaGllbGRIZWlnaHQgPSBTaGllbGRXaWR0aCAvIHAuc2hpZWxkSW1hZ2Uud2lkdGggKiBwLnNoaWVsZEltYWdlLmhlaWdodDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN0eC5kcmF3SW1hZ2UocC5zaGllbGRJbWFnZSwgLVNoaWVsZFdpZHRoLzIsIC1TaGllbGRIZWlnaHQvMiwgU2hpZWxkV2lkdGgsIFNoaWVsZEhlaWdodCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgQWxsUGxheWVyc1twbGF5ZXJdLmNoZWNrUG93ZXJ1cCgpO1xuICAgICAgICAgICAgICAgICAgICBjdHgucmVzdG9yZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYoQWxsQXN0ZXJvaWRzLmxlbmd0aD4wKXtcbiAgICAgICAgICAgICAgICBmb3IodmFyIEFzdGVyb2lkIGluIEFsbEFzdGVyb2lkcyl7XG4gICAgICAgICAgICAgICAgICAgIHZhciBhID0gQWxsQXN0ZXJvaWRzW0FzdGVyb2lkXTtcbiAgICAgICAgICAgICAgICAgICAgYS53aWR0aCA9IGNhbnYud2lkdGgvNzAwKiBhLmltYWdlLndpZHRoO1xuICAgICAgICAgICAgICAgICAgICBhLmhlaWdodCA9IGEud2lkdGgqIGEuaW1hZ2UuaGVpZ2h0LyBhLmltYWdlLndpZHRoO1xuICAgICAgICAgICAgICAgICAgICBjdHguc2F2ZSgpO1xuICAgICAgICAgICAgICAgICAgICBjdHgudHJhbnNsYXRlKGEueCpyYXRpbywgYS55KnJhdGlvKTtcbiAgICAgICAgICAgICAgICAgICAgY3R4LnJvdGF0ZShhLnJvdGF0aW9uLzE4MCpNYXRoLlBJKTtcbiAgICAgICAgICAgICAgICAgICAgY3R4LmRyYXdJbWFnZShhLmltYWdlLCAtYS53aWR0aC8yLCAtYS5oZWlnaHQvMiwgYS53aWR0aCwgYS5oZWlnaHQpO1xuICAgICAgICAgICAgICAgICAgICBjdHgucmVzdG9yZSgpO1xuICAgICAgICAgICAgICAgICAgICBpZihhLnggPCAtNSB8fCBhLnggPiAxMDUgfHwgYS55IDwgLTUgfHwgYS55ID4gMTA1KXtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vbmlldXdlIGFzdGVyb2lkIHRla2VuZW5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBrZXV6ZSA9IE1hdGgucmFuZG9tKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZihrZXV6ZSA8IDAuMjUpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vbGlua3NcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBBbGxBc3Rlcm9pZHNbQXN0ZXJvaWRdLnggPSAtNDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBBbGxBc3Rlcm9pZHNbQXN0ZXJvaWRdLnkgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqMTAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBBbGxBc3Rlcm9pZHNbQXN0ZXJvaWRdLnJvdGF0aW9uID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKjE4MCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZSBpZihrZXV6ZSA8IDAuNSl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9ib3ZlblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFsbEFzdGVyb2lkc1tBc3Rlcm9pZF0ueCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSoxMDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFsbEFzdGVyb2lkc1tBc3Rlcm9pZF0ueSA9IC00O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFsbEFzdGVyb2lkc1tBc3Rlcm9pZF0ucm90YXRpb24gPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqMTgwKSArIDkwO1xuICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2UgaWYoa2V1emUgPCAwLjc1KXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3JlY2h0c1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFsbEFzdGVyb2lkc1tBc3Rlcm9pZF0ueCA9IDEwNDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBBbGxBc3Rlcm9pZHNbQXN0ZXJvaWRdLnkgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqMTAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBBbGxBc3Rlcm9pZHNbQXN0ZXJvaWRdLnJvdGF0aW9uID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKjE4MCkgKyAxODA7XG4gICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL29uZGVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQWxsQXN0ZXJvaWRzW0FzdGVyb2lkXS54ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKjEwMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQWxsQXN0ZXJvaWRzW0FzdGVyb2lkXS55ID0gMTA0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFsbEFzdGVyb2lkc1tBc3Rlcm9pZF0ucm90YXRpb24gPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqMTgwKSArIDI3MDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIEFsbEFzdGVyb2lkc1tBc3Rlcm9pZF0uc3BlZWQgPSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgQWxsQXN0ZXJvaWRzW0FzdGVyb2lkXS5zZXRJbWFnZShNYXRoLmNlaWwoTWF0aC5yYW5kb20oKSoxOCkpO1xuXG4gICAgICAgICAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgICAgICAgICAgQWxsQXN0ZXJvaWRzW0FzdGVyb2lkXS54ID0gTWF0aC5jb3MoKGEucm90YXRpb24gLSA5MCkvMTgwKk1hdGguUEkpLzMwKkFsbEFzdGVyb2lkc1tBc3Rlcm9pZF0uc3BlZWQgKyBhLng7XG4gICAgICAgICAgICAgICAgICAgICAgICBBbGxBc3Rlcm9pZHNbQXN0ZXJvaWRdLnkgPSBNYXRoLnNpbigoYS5yb3RhdGlvbiAtIDkwKS8xODAqTWF0aC5QSSkvMzAqQWxsQXN0ZXJvaWRzW0FzdGVyb2lkXS5zcGVlZCArIGEueTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2hlY2tCdWxsZXRzKCk7XG5cbiAgICAgICAgICAgIGNvbGxpc2lvbkRldGVjdGlvbigpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gY2hlY2tCdWxsZXRzKCl7XG4gICAgICAgICAgICBmb3IodmFyIGIgaW4gQWxsQnVsbGV0cyl7XG4gICAgICAgICAgICAgICAgaWYoQWxsQnVsbGV0c1tiXS54IDwgMCB8fCBBbGxCdWxsZXRzW2JdLnggPiBjYW52LndpZHRoIHx8IEFsbEJ1bGxldHNbYl0ueSA8IDAgfHwgQWxsQnVsbGV0c1tiXS55ID4gY2Fudi5oZWlnaHQpe1xuICAgICAgICAgICAgICAgICAgICBBbGxCdWxsZXRzLnNwbGljZShiLCAxKTtcbiAgICAgICAgICAgICAgICB9ZWxzZSBpZihBbGxCdWxsZXRzW2JdLmV4cGxvZGVTdGFnZSA+MCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoQWxsQnVsbGV0c1tiXS5leHBsb2RlU3RhZ2UgPCA0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBBbGxCdWxsZXRzW2JdLmV4cGxvZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIEFsbEJ1bGxldHMuc3BsaWNlKGIsIDEpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gY29sbGlzaW9uRGV0ZWN0aW9uKCl7XG4gICAgICAgICAgICAvL1BsYXllciAtIEJ1bGxldFxuICAgICAgICAgICAgdmFyIGxpdmluZ1BsYXllcnM9W107XG4gICAgICAgICAgICBmb3IodmFyIHAgaW4gQWxsUGxheWVycyl7XG4gICAgICAgICAgICAgICAgaWYoQWxsUGxheWVyc1twXS5kYW1hZ2U8NCl7XG4gICAgICAgICAgICAgICAgICAgIGxpdmluZ1BsYXllcnMucHVzaChBbGxQbGF5ZXJzW3BdKTtcbiAgICAgICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZvcih2YXIgYiBpbiBBbGxCdWxsZXRzKXtcbiAgICAgICAgICAgICAgICAgICAgaWYoQWxsQnVsbGV0c1tiXS5leHBsb2RlU3RhZ2UgPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKEFsbEJ1bGxldHNbYl0ucGxheWVyICE9IEFsbFBsYXllcnNbcF0udXNlck5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmFkaXVzID0gTWF0aC5zcXJ0KDIpIC8gMiAqIChBbGxCdWxsZXRzW2JdLmhlaWdodCAvIDIgLSBBbGxCdWxsZXRzW2JdLndpZHRoIC8gMik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFuZ2xlID0gKDM2MCAtIChBbGxCdWxsZXRzW2JdLnJvdGF0aW9uKSkgLyAxODAgKiBNYXRoLlBJO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBidWxsZXRIZWFkWCA9IChBbGxCdWxsZXRzW2JdLnggKiBjYW52LndpZHRoIC8gMTAwIC0gKHJhZGl1cyAqIE1hdGguc2luKGFuZ2xlKSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBidWxsZXRIZWFkWSA9IChBbGxCdWxsZXRzW2JdLnkgKiBjYW52LndpZHRoIC8gMTAwIC0gKHJhZGl1cyAqIE1hdGguY29zKGFuZ2xlKSkpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNwYWNlU2hpcFggPSBBbGxQbGF5ZXJzW3BdLnggKiBjYW52LndpZHRoIC8gMTAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzcGFjZVNoaXBZID0gQWxsUGxheWVyc1twXS55ICogY2Fudi53aWR0aCAvIDEwMDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkaXN0YW5jZSA9IE1hdGguc3FydCgoYnVsbGV0SGVhZFggLSBzcGFjZVNoaXBYKSAqIChidWxsZXRIZWFkWCAtIHNwYWNlU2hpcFgpICsgKGJ1bGxldEhlYWRZIC0gc3BhY2VTaGlwWSkgKiAoYnVsbGV0SGVhZFkgLSBzcGFjZVNoaXBZKSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2hpZWxkUmF0aW8gPSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKEFsbFBsYXllcnNbcF0uc2hpZWxkKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hpZWxkUmF0aW8gPSAxLjU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRpc3RhbmNlIDwgKEFsbEJ1bGxldHNbYl0ud2lkdGggLyAyICsgQWxsUGxheWVyc1twXS53aWR0aCAvIDIgKiBzaGllbGRSYXRpbykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRhbWFnZXNvdW5kID0gbmV3IEF1ZGlvKCcuLi8uLi9hc3NldHMvQm9udXMvc2Z4X2xvc2Uub2dnJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhbWFnZXNvdW5kLnBsYXkoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIUFsbFBsYXllcnNbcF0uc2hpZWxkKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFsbFBsYXllcnNbcF0uaW5jcmVhc2VEYW1hZ2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkYXRhID0ge307XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLnVzZXJuYW1lID0gQWxsUGxheWVyc1twXS51c2VyTmFtZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEubGlmZSA9IDMtQWxsUGxheWVyc1twXS5kYW1hZ2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb2NrZXRTZXJ2aWNlLmVtaXQoXCJwbGF5ZXJMaWZlXCIsZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQWxsQnVsbGV0c1tiXS5leHBsb2RlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vUGxheWVyIC0gQXN0ZXJvaWRcbiAgICAgICAgICAgICAgICBmb3IodmFyIGEgaW4gQWxsQXN0ZXJvaWRzKXtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFzdGVyb2lkWCA9IEFsbEFzdGVyb2lkc1thXS54ICogY2Fudi53aWR0aCAvIDEwMDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFzdGVyb2lkWSA9IEFsbEFzdGVyb2lkc1thXS55ICogY2Fudi53aWR0aCAvIDEwMDtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgc3BhY2VTaGlwWCA9IEFsbFBsYXllcnNbcF0ueCAqIGNhbnYud2lkdGggLyAxMDA7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzcGFjZVNoaXBZID0gQWxsUGxheWVyc1twXS55ICogY2Fudi53aWR0aCAvIDEwMDtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgZGlzdGFuY2UgPSBNYXRoLnNxcnQoKGFzdGVyb2lkWCAtIHNwYWNlU2hpcFgpICogKGFzdGVyb2lkWCAtIHNwYWNlU2hpcFgpICsgKGFzdGVyb2lkWSAtIHNwYWNlU2hpcFkpICogKGFzdGVyb2lkWSAtIHNwYWNlU2hpcFkpKTtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgc2hpZWxkUmF0aW8gPSAxO1xuICAgICAgICAgICAgICAgICAgICBpZihBbGxQbGF5ZXJzW3BdLnNoaWVsZCl7XG4gICAgICAgICAgICAgICAgICAgICAgICBzaGllbGRSYXRpbyA9IDEuNTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChkaXN0YW5jZSA8IChBbGxBc3Rlcm9pZHNbYV0ud2lkdGggLyAyICsgQWxsUGxheWVyc1twXS53aWR0aCAvIDIgKiBzaGllbGRSYXRpbykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkYW1hZ2Vzb3VuZCA9IG5ldyBBdWRpbygnLi4vLi4vYXNzZXRzL0JvbnVzL3NmeF9sb3NlLm9nZycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGFtYWdlc291bmQucGxheSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYoQWxsUGxheWVyc1twXS5zaGllbGQpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFsbEFzdGVyb2lkc1thXS5yb3RhdGlvbiA9IEFsbEFzdGVyb2lkc1thXS5yb3RhdGlvbiArIDE4MDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBBbGxBc3Rlcm9pZHNbYV0uc3BlZWQgPSAzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFsbEFzdGVyb2lkc1thXS54ID0gTWF0aC5jb3MoKEFsbEFzdGVyb2lkc1thXS5yb3RhdGlvbiAtIDkwKS8xODAqTWF0aC5QSSkvMzAqQWxsQXN0ZXJvaWRzW2FdLnNwZWVkICsgQWxsQXN0ZXJvaWRzW2FdLng7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQWxsQXN0ZXJvaWRzW2FdLnkgPSBNYXRoLnNpbigoQWxsQXN0ZXJvaWRzW2FdLnJvdGF0aW9uIC0gOTApLzE4MCpNYXRoLlBJKS8zMCpBbGxBc3Rlcm9pZHNbYV0uc3BlZWQgKyBBbGxBc3Rlcm9pZHNbYV0ueTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFsbFBsYXllcnNbcF0uZGVhZCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkYXRhID0ge307XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS51c2VybmFtZSA9IEFsbFBsYXllcnNbcF0udXNlck5hbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5saWZlID0gMy1BbGxQbGF5ZXJzW3BdLmRhbWFnZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb2NrZXRTZXJ2aWNlLmVtaXQoXCJwbGF5ZXJMaWZlXCIsZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvL1BsYXllciAtIFBsYXllclxuICAgICAgICAgICAgICAgIGZvcih2YXIgYSBpbiBBbGxQbGF5ZXJzKXtcbiAgICAgICAgICAgICAgICAgICAgaWYoQWxsUGxheWVyc1thXS5kYW1hZ2UgPT0gNCl7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZihhIT1wKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzcGFjZVNoaXAxWCA9IEFsbFBsYXllcnNbYV0ueCAqIGNhbnYud2lkdGggLyAxMDA7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3BhY2VTaGlwMVkgPSBBbGxQbGF5ZXJzW2FdLnkgKiBjYW52LndpZHRoIC8gMTAwO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3BhY2VTaGlwWCA9IEFsbFBsYXllcnNbcF0ueCAqIGNhbnYud2lkdGggLyAxMDA7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3BhY2VTaGlwWSA9IEFsbFBsYXllcnNbcF0ueSAqIGNhbnYud2lkdGggLyAxMDA7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzaGllbGRSYXRpbyA9IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZihBbGxQbGF5ZXJzW3BdLnNoaWVsZCl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hpZWxkUmF0aW8gPSAxLjU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzaGllbGRSYXRpbzEgPSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYoQWxsUGxheWVyc1thXS5zaGllbGQpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNoaWVsZFJhdGlvMSA9IDEuNTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRpc3RhbmNlID0gTWF0aC5zcXJ0KChzcGFjZVNoaXAxWCAtIHNwYWNlU2hpcFgpICogKHNwYWNlU2hpcDFYIC0gc3BhY2VTaGlwWCkgKyAoc3BhY2VTaGlwMVkgLSBzcGFjZVNoaXBZKSAqIChzcGFjZVNoaXAxWSAtIHNwYWNlU2hpcFkpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkaXN0YW5jZSA8IChBbGxQbGF5ZXJzW2FdLndpZHRoIC8gMiAqIHNoaWVsZFJhdGlvMSArIEFsbFBsYXllcnNbcF0ud2lkdGggLyAyICogc2hpZWxkUmF0aW8pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRhbWFnZXNvdW5kID0gbmV3IEF1ZGlvKCcuLi8uLi9hc3NldHMvQm9udXMvc2Z4X2xvc2Uub2dnJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGFtYWdlc291bmQucGxheSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFsbFBsYXllcnNbcF0uZGVhZCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFsbFBsYXllcnNbYV0uZGVhZCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkYXRhID0ge307XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS51c2VybmFtZSA9IEFsbFBsYXllcnNbcF0udXNlck5hbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5saWZlID0gMy1BbGxQbGF5ZXJzW3BdLmRhbWFnZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb2NrZXRTZXJ2aWNlLmVtaXQoXCJwbGF5ZXJMaWZlXCIsZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS51c2VybmFtZSA9IEFsbFBsYXllcnNbYV0udXNlck5hbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5saWZlID0gMy1BbGxQbGF5ZXJzW2FdLmRhbWFnZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb2NrZXRTZXJ2aWNlLmVtaXQoXCJwbGF5ZXJMaWZlXCIsZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvL1BsYXllciAtIFdhbGxcbiAgICAgICAgICAgICAgICBpZihBbGxQbGF5ZXJzW3BdLngqY2Fudi53aWR0aC8xMDAgPCBBbGxQbGF5ZXJzW3BdLmhlaWdodC8yIHx8IEFsbFBsYXllcnNbcF0ueCpjYW52LndpZHRoLzEwMCA+IGNhbnYud2lkdGgtKEFsbFBsYXllcnNbcF0uaGVpZ2h0LzIpfHxcbiAgICAgICAgICAgICAgICAgICAgQWxsUGxheWVyc1twXS55KmNhbnYud2lkdGgvMTAwIDwgQWxsUGxheWVyc1twXS5oZWlnaHQvMiB8fCBBbGxQbGF5ZXJzW3BdLnkqY2Fudi53aWR0aC8xMDAgPiBjYW52LndpZHRoLShBbGxQbGF5ZXJzW3BdLmhlaWdodC8yKSl7XG4gICAgICAgICAgICAgICAgICAgIHZhciBkYW1hZ2Vzb3VuZCA9IG5ldyBBdWRpbygnLi4vLi4vYXNzZXRzL0JvbnVzL3NmeF9sb3NlLm9nZycpO1xuICAgICAgICAgICAgICAgICAgICBkYW1hZ2Vzb3VuZC5wbGF5KCk7XG4gICAgICAgICAgICAgICAgICAgIEFsbFBsYXllcnNbcF0uZGVhZCgpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IHt9O1xuICAgICAgICAgICAgICAgICAgICBkYXRhLnVzZXJuYW1lID0gQWxsUGxheWVyc1twXS51c2VyTmFtZTtcbiAgICAgICAgICAgICAgICAgICAgZGF0YS5saWZlID0gMy1BbGxQbGF5ZXJzW3BdLmRhbWFnZTtcbiAgICAgICAgICAgICAgICAgICAgc29ja2V0U2VydmljZS5lbWl0KFwicGxheWVyTGlmZVwiLGRhdGEpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vUGxheWVyIC0gUG93ZXJ1cFxuICAgICAgICAgICAgICAgIGZvcih2YXIgYSBpbiBBbGxQb3dlclVwcyl7XG4gICAgICAgICAgICAgICAgICAgIHZhciBwb3dlcnVwWCA9IEFsbFBvd2VyVXBzW2FdLnggKiBjYW52LndpZHRoIC8gMTAwO1xuICAgICAgICAgICAgICAgICAgICB2YXIgcG93ZXJ1cFkgPSBBbGxQb3dlclVwc1thXS55ICogY2Fudi53aWR0aCAvIDEwMDtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgc3BhY2VTaGlwWCA9IEFsbFBsYXllcnNbcF0ueCAqIGNhbnYud2lkdGggLyAxMDA7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzcGFjZVNoaXBZID0gQWxsUGxheWVyc1twXS55ICogY2Fudi53aWR0aCAvIDEwMDtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgZGlzdGFuY2UgPSBNYXRoLnNxcnQoKHBvd2VydXBYIC0gc3BhY2VTaGlwWCkgKiAocG93ZXJ1cFggLSBzcGFjZVNoaXBYKSArIChwb3dlcnVwWSAtIHNwYWNlU2hpcFkpICogKHBvd2VydXBZIC0gc3BhY2VTaGlwWSkpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGlzdGFuY2UgPCAoQWxsUG93ZXJVcHNbYV0ud2lkdGggLyAyICsgQWxsUGxheWVyc1twXS53aWR0aCAvIDIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcG93ZXJ1cFNvdW5kID0gbmV3IEF1ZGlvKCcuLi8uLi9hc3NldHMvQm9udXMvc2Z4X3phcC5vZ2cnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvd2VydXBTb3VuZC5wbGF5KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZihBbGxQb3dlclVwc1thXS5ib29sU2VsZiA9PSAxKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IodmFyIHBsYXllciBpbiBBbGxQbGF5ZXJzKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYocGxheWVyICE9IHApe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQWxsUGxheWVyc1twbGF5ZXJdLmFkZFBvd2VydXAoQWxsUG93ZXJVcHNbYV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQWxsUGxheWVyc1twXS5hZGRQb3dlcnVwKEFsbFBvd2VyVXBzW2FdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKEFsbFBvd2VyVXBzW2FdLnR5cGUgPT0gMyl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGEgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLnVzZXJuYW1lID0gQWxsUGxheWVyc1twXS51c2VyTmFtZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLmxpZmUgPSAzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvY2tldFNlcnZpY2UuZW1pdChcInBsYXllckxpZmVcIiwgZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBBbGxQb3dlclVwcy5zcGxpY2UoYSwgMSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy9CdWxsZXQgLSBBc3Rlcm9pZFxuICAgICAgICAgICAgZm9yKHZhciBhIGluIEFsbEFzdGVyb2lkcykge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGIgaW4gQWxsQnVsbGV0cykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoQWxsQnVsbGV0c1tiXS5leHBsb2RlU3RhZ2UgPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKEFsbEJ1bGxldHNbYl0ucGxheWVyICE9IEFsbEFzdGVyb2lkc1thXS51c2VyTmFtZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByYWRpdXMgPSBNYXRoLnNxcnQoMikgLyAyICogKEFsbEJ1bGxldHNbYl0uaGVpZ2h0IC8gMiAtIEFsbEJ1bGxldHNbYl0ud2lkdGggLyAyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYW5nbGUgPSAoMzYwIC0gKEFsbEJ1bGxldHNbYl0ucm90YXRpb24pKSAvIDE4MCAqIE1hdGguUEk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGJ1bGxldEhlYWRYID0gKEFsbEJ1bGxldHNbYl0ueCAqIGNhbnYud2lkdGggLyAxMDAgLSAocmFkaXVzICogTWF0aC5zaW4oYW5nbGUpKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGJ1bGxldEhlYWRZID0gKEFsbEJ1bGxldHNbYl0ueSAqIGNhbnYud2lkdGggLyAxMDAgLSAocmFkaXVzICogTWF0aC5jb3MoYW5nbGUpKSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYXN0ZXJvaWRYID0gQWxsQXN0ZXJvaWRzW2FdLnggKiBjYW52LndpZHRoIC8gMTAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhc3Rlcm9pZFkgPSBBbGxBc3Rlcm9pZHNbYV0ueSAqIGNhbnYud2lkdGggLyAxMDA7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGlzdGFuY2UgPSBNYXRoLnNxcnQoKGJ1bGxldEhlYWRYIC0gYXN0ZXJvaWRYKSAqIChidWxsZXRIZWFkWCAtIGFzdGVyb2lkWCkgKyAoYnVsbGV0SGVhZFkgLSBhc3Rlcm9pZFkpICogKGJ1bGxldEhlYWRZIC0gYXN0ZXJvaWRZKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRpc3RhbmNlIDwgKEFsbEJ1bGxldHNbYl0ud2lkdGggLyAyICsgQWxsQXN0ZXJvaWRzW2FdLndpZHRoIC8gMikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGEgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS51c2VybmFtZSA9IEFsbEFzdGVyb2lkc1thXS51c2VyTmFtZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5saWZlID0gMyAtIEFsbEFzdGVyb2lkc1thXS5kYW1hZ2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvY2tldFNlcnZpY2UuZW1pdChcInBsYXllckxpZmVcIiwgZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFsbEJ1bGxldHNbYl0uZXhwbG9kZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy9cblxuICAgICAgICAgICAgaWYobGl2aW5nUGxheWVycy5sZW5ndGg9PTEpe1xuICAgICAgICAgICAgICAgIGVuZEdhbWUobGl2aW5nUGxheWVycyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBlbmRHYW1lKGxpdmluZ1BsYXllcnMpe1xuICAgICAgICAgICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKGN5Y2xlKSkge1xuICAgICAgICAgICAgICAgICRpbnRlcnZhbC5jYW5jZWwoY3ljbGUpO1xuICAgICAgICAgICAgICAgIGN5Y2xlID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgJHNjb3BlLmVuZEdhbWU9dHJ1ZTtcbiAgICAgICAgICAgICRzY29wZS5lbmRHYW1lVGV4dD0gbGl2aW5nUGxheWVyc1swXS51c2VyTmFtZSArIFwiIGlzIHRoZSB3aW5uZXIhXCI7XG4gICAgICAgICAgICBzb2NrZXRTZXJ2aWNlLmVtaXQoXCJlbmRHYW1lXCIsIGxpdmluZ1BsYXllcnNbMF0udXNlck5hbWUpO1xuICAgICAgICB9XG4gICAgICAgICRzY29wZS5yZXN0YXJ0R2FtZSA9IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAkc2NvcGUuZW5kR2FtZT1mYWxzZTtcbiAgICAgICAgICAgIHZhciB0ZWxsZXI9MDtcbiAgICAgICAgICAgIGZvcih2YXIgcCBpbiBBbGxQbGF5ZXJzKXtcbiAgICAgICAgICAgICAgICBBbGxQbGF5ZXJzW3BdLnJlc2V0KGRlZmF1bHRWYXJzW3RlbGxlcl0ueCxkZWZhdWx0VmFyc1t0ZWxsZXJdLnksZGVmYXVsdFZhcnNbdGVsbGVyXS5yb3RhdGlvbik7XG4gICAgICAgICAgICAgICAgdGVsbGVyKys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBBbGxBc3Rlcm9pZHM9W107XG4gICAgICAgICAgICBmb3IodmFyIGkgPSAwOyBpPDE1OyBpKyspe1xuICAgICAgICAgICAgICAgIC8vQWxsQXN0ZXJvaWRzLnB1c2gobmV3IEFzdGVyb2lkKGNyZWF0ZUNvb3JkaW5hdGVYKCksIGNyZWF0ZUNvb3JkaW5hdGVZKCksIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSozNjEpLCBNYXRoLmNlaWwoTWF0aC5yYW5kb20oKSoxOCkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIEFsbEJ1bGxldHMgPSBbXTtcbiAgICAgICAgICAgIEFsbFBvd2VyVXBzID0gW107XG4gICAgICAgICAgICBQb3dlcnVwU3Bhd25UaW1lID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKjUwMCArIDUwMCk7XG5cbiAgICAgICAgICAgIGN0eC5jbGVhclJlY3QoMCwwLGNhbnYud2lkdGgsIGNhbnYuaGVpZ2h0KTtcbiAgICAgICAgICAgIHNvY2tldFNlcnZpY2UuZW1pdChcInJlc3RhcnRHYW1lXCIsbnVsbCk7XG4gICAgICAgICAgICBjeWNsZSA9ICRpbnRlcnZhbChkcmF3LCAxMCk7XG4gICAgICAgIH07XG4gICAgfTtcblxuICAgIGFuZ3VsYXIubW9kdWxlKFwiYXBwXCIpLmNvbnRyb2xsZXIoXCJwbGF5Q29udHJvbGxlclwiLCBbXCIkc2NvcGVcIiwgXCIkaW50ZXJ2YWxcIiwgXCIkd2luZG93XCIsIFwic29ja2V0U2VydmljZVwiLCBcImRpc3BsYXlTZXJ2aWNlXCIsIFwicGxheWVyU2VydmljZVwiLCBwbGF5Q29udHJvbGxlcl0pXG59KSgpOyIsIi8qKlxuICogQ3JlYXRlZCBieSBqdXN0aWpuZGVwb3ZlciBvbiAxNi8xMi8xNS5cbiAqL1xuKGZ1bmN0aW9uKCl7XG4gICAgdmFyIGNhbnZhc0RpcmVjdGl2ZSA9IGZ1bmN0aW9uKCR3aW5kb3cpe1xuICAgICAgICByZXR1cm57XG4gICAgICAgICAgICByZXN0cmljdDogJ0UnLFxuICAgICAgICAgICAgbGluazpsaW5rLFxuICAgICAgICAgICAgcmVwbGFjZTp0cnVlLFxuICAgICAgICAgICAgdGVtcGxhdGU6JzxjYW52YXMgaWQ9XCJnYW1lXCIgY2xhc3M9XCJwbGF5QXJlYVwiIHdpZHRoPVwie3t3aWR0aH19XCIgaGVpZ2h0PVwie3t3aWR0aH19XCIgLz4nXG4gICAgICAgIH07XG5cbiAgICAgICAgZnVuY3Rpb24gbGluayhzY29wZSwgZWxlbWVudCwgYXR0cnMpe1xuICAgICAgICAgICAgaWYoJHdpbmRvdy5pbm5lcldpZHRoIDwgJHdpbmRvdy5pbm5lckhlaWdodCl7XG4gICAgICAgICAgICAgICAgc2NvcGUud2lkdGggPSAkd2luZG93LmlubmVyV2lkdGggLSAyMDtcbiAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgIHNjb3BlLndpZHRoID0gJHdpbmRvdy5pbm5lckhlaWdodCAtIDIwO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBhbmd1bGFyLmVsZW1lbnQoJHdpbmRvdykuYmluZCgncmVzaXplJywgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICBpZigkd2luZG93LmlubmVyV2lkdGggPCAkd2luZG93LmlubmVySGVpZ2h0KXtcbiAgICAgICAgICAgICAgICAgICAgc2NvcGUud2lkdGggPSAkd2luZG93LmlubmVyV2lkdGggLSAyMDtcbiAgICAgICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgc2NvcGUud2lkdGggPSAkd2luZG93LmlubmVySGVpZ2h0IC0gMjA7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgc2NvcGUuJGRpZ2VzdCgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgYW5ndWxhci5tb2R1bGUoJ2FwcCcpLmRpcmVjdGl2ZShcImNhbnZhc0RpcmVjdGl2ZVwiLCBbXCIkd2luZG93XCIsIGNhbnZhc0RpcmVjdGl2ZV0pO1xufSkoKTsiLCIvKipcbiAqIENyZWF0ZWQgYnkgTWljaGllbCBvbiAxNi8xMi8yMDE1LlxuICovXG4vKipcbiAqIENyZWF0ZWQgYnkganVzdGlqbmRlcG92ZXIgb24gMTYvMTIvMTUuXG4gKi9cblxuXG4oZnVuY3Rpb24oKXtcbiAgICB2YXIgZGlzcGxheVNlcnZpY2UgPSBmdW5jdGlvbigpe1xuICAgICAgICAvL0xvZ2luIENvbnRyb2xsZXJcbiAgICAgICAgdmFyIExDU2hvdyA9IHRydWU7XG4gICAgICAgIC8vUGxheSBjb250cm9sbGVyXG4gICAgICAgIHZhciBQQ1Nob3cgPSBmYWxzZTtcblxuICAgICAgICByZXR1cm57XG4gICAgICAgICAgICBnZXRMQ1Nob3c6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgcmV0dXJuIExDU2hvdztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXRMQ1Nob3c6IGZ1bmN0aW9uKHZhbHVlKXtcbiAgICAgICAgICAgICAgICBMQ1Nob3cgPSB2YWx1ZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXRQQ1Nob3c6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFBDU2hvdztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXRQQ1Nob3c6IGZ1bmN0aW9uKHZhbHVlKXtcbiAgICAgICAgICAgICAgICBQQ1Nob3cgPSB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBhbmd1bGFyLm1vZHVsZSgnYXBwJykuZmFjdG9yeSgnZGlzcGxheVNlcnZpY2UnLCBbZGlzcGxheVNlcnZpY2VdKTtcbn0pKCk7IiwiLyoqXG4gKiBDcmVhdGVkIGJ5IGp1c3Rpam5kZXBvdmVyIG9uIDE3LzEyLzE1LlxuICovXG5cbihmdW5jdGlvbigpe1xuICAgIHZhciBwbGF5ZXJTZXJ2aWNlID0gZnVuY3Rpb24oKXtcbiAgICAgICAgLy9Mb2dpbiBDb250cm9sbGVyXG4gICAgICAgIHZhciBwbGF5ZXJzID0gW107XG5cbiAgICAgICAgcmV0dXJue1xuICAgICAgICAgICAgZ2V0UGxheWVyczogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGxheWVycztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXRQbGF5ZXJzOiBmdW5jdGlvbihwbGF5ZXJzQXJyYXkpe1xuICAgICAgICAgICAgICAgIHBsYXllcnMgPSBwbGF5ZXJzQXJyYXk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgYW5ndWxhci5tb2R1bGUoJ2FwcCcpLmZhY3RvcnkoJ3BsYXllclNlcnZpY2UnLCBbcGxheWVyU2VydmljZV0pO1xufSkoKTsiLCIvKipcbiAqIENyZWF0ZWQgYnkganVzdGlqbmRlcG92ZXIgb24gMDkvMTIvMTUuXG4gKi9cblxuXG52YXIgQXN0ZXJvaWQgPSBmdW5jdGlvbih4LCB5LCByb3RhdGlvbiwgc3RhZ2Upe1xuICAgIHRoaXMueCA9IHg7XG4gICAgdGhpcy55ID0geTtcbiAgICB0aGlzLndpZHRoID0gMDtcbiAgICB0aGlzLmhlaWdodCA9IDA7XG4gICAgdGhpcy5yb3RhdGlvbiA9IHJvdGF0aW9uO1xuICAgIHRoaXMuc3RhZ2UgPSBzdGFnZTtcbiAgICB0aGlzLmltYWdlID0gbmV3IEltYWdlKCk7XG4gICAgdGhpcy5pbWFnZS5zcmMgPSAoXCIuLi9hc3NldHMvUE5HL01ldGVvcnMvbWV0ZW9yX1wiICsgc3RhZ2UgKyBcIi5wbmdcIik7XG4gICAgdGhpcy5zcGVlZCA9IDE7XG59O1xuXG5Bc3Rlcm9pZC5wcm90b3R5cGUuc2V0SW1hZ2UgPSBmdW5jdGlvbihzdGFnZSl7XG4gICAgdGhpcy5zdGFnZSA9IHN0YWdlO1xuICAgIHRoaXMuaW1hZ2Uuc3JjID0gKFwiLi4vYXNzZXRzL1BORy9NZXRlb3JzL21ldGVvcl9cIiArIHN0YWdlICsgXCIucG5nXCIpO1xufTsiLCIvKipcbiAqIENyZWF0ZWQgYnkganVzdGlqbmRlcG92ZXIgb24gMjIvMTIvMTUuXG4gKi9cblxudmFyIEJ1bGxldCA9IGZ1bmN0aW9uKHgsIHkscm90YXRpb24sIGNvbG9yLCBwbGF5ZXIpe1xuICAgIHRoaXMueCA9IHg7XG4gICAgdGhpcy55ID0geTtcbiAgICB0aGlzLnJvdGF0aW9uID0gcm90YXRpb247XG4gICAgdGhpcy5pbWFnZSA9IG5ldyBJbWFnZSgpO1xuICAgIHRoaXMuY29sb3IgPSBjb2xvcjtcbiAgICB0aGlzLndpZHRoID0gMDtcbiAgICB0aGlzLmhlaWdodCA9IDA7XG4gICAgdGhpcy5wbGF5ZXIgPSBwbGF5ZXI7XG4gICAgdGhpcy5leHBsb3Npb25JbWFnZSA9IG5ldyBJbWFnZSgpO1xuICAgIHRoaXMuZXhwbG9kZVN0YWdlID0gMDtcbiAgICBpZih0aGlzLmNvbG9yID09IFwib3JhbmdlXCIpe1xuICAgICAgICB0aGlzLmNvbG9yID0gJ3JlZCc7XG4gICAgfVxuICAgIHRoaXMuaW1hZ2Uuc3JjID0gJy4uL2Fzc2V0cy9QTkcvTGFzZXJzL2xhc2VyJysgdGhpcy5jb2xvci5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHRoaXMuY29sb3Iuc2xpY2UoMSkgKycwMS5wbmcnXG59O1xuXG5CdWxsZXQucHJvdG90eXBlLmV4cGxvZGUgPSBmdW5jdGlvbigpe1xuICAgIGlmKHRoaXMuZXhwbG9kZVN0YWdlIDwgNCl7XG4gICAgICAgIHRoaXMuZXhwbG9kZVN0YWdlKys7XG4gICAgICAgIHZhciBudW1iZXI7XG4gICAgICAgIGlmKHRoaXMuZXhwbG9kZVN0YWdlIDwgMyl7XG4gICAgICAgICAgIG51bWJlciA9IDFcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICBudW1iZXIgPSAyXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5leHBsb3Npb25JbWFnZS5zcmMgPSAnLi4vYXNzZXRzL1BORy9MYXNlcnMvbGFzZXInICsgdGhpcy5jb2xvci5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHRoaXMuY29sb3Iuc2xpY2UoMSkgKyAnRXhwbG9kZScrIG51bWJlciArJy5wbmcnO1xuICAgIH1lbHNle1xuICAgICAgICB0aGlzLmV4cGxvc2lvbkltYWdlLnNyYyA9ICcnO1xuICAgIH1cbn07XG4iLCIvKipcbiAqIENyZWF0ZWQgYnkganVzdGlqbmRlcG92ZXIgb24gMDUvMDEvMTYuXG4gKi9cblxuXG52YXIgUG93ZXJ1cCA9IGZ1bmN0aW9uKHgsIHksIHR5cGUsIGJvb2xTZWxmKXtcbiAgICB0aGlzLnggPSB4O1xuICAgIHRoaXMueSA9IHk7XG4gICAgdGhpcy53aWR0aCA9IDA7XG4gICAgdGhpcy5oZWlnaHQgPSAwO1xuICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gICAgdGhpcy5kdXJhdGlvbiA9IDEwMDA7XG4gICAgdGhpcy5wbGF5ZXJkdXJhdGlvbiA9IDEwMDA7XG4gICAgdmFyIGltYWdlVHlwZTtcbiAgICB0aGlzLmltYWdlID0gbmV3IEltYWdlKCk7XG4gICAgdGhpcy5ib29sU2VsZiA9IGJvb2xTZWxmO1xuICAgIHN3aXRjaCh0eXBlKXtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgaW1hZ2VUeXBlID0gXCJib2x0X1wiO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgIGltYWdlVHlwZSA9IFwic2hpZWxkX1wiO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgIGltYWdlVHlwZSA9IFwic3Rhcl9cIjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIHN3aXRjaChib29sU2VsZil7XG4gICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgIGltYWdlVHlwZSArPSBcImdvbGQucG5nXCI7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgaW1hZ2VUeXBlICs9IFwic2lsdmVyLnBuZ1wiO1xuICAgIH1cbiAgICB0aGlzLmltYWdlLnNyYyA9IFwiLi4vYXNzZXRzL1BORy9Qb3dlci11cHMvXCIgKyBpbWFnZVR5cGU7XG59O1xuXG5Qb3dlcnVwLnByb3RvdHlwZS5kZWNyZWFzZUR1cmF0aW9uID0gZnVuY3Rpb24oKXtcbiAgaWYodGhpcy5kdXJhdGlvbiA+IDApe1xuICAgICAgdGhpcy5kdXJhdGlvbiAtLTtcbiAgfVxufTsiLCIvKipcbiAqIENyZWF0ZWQgYnkganVzdGlqbmRlcG92ZXIgb24gMDkvMTIvMTUuXG4gKi9cblxudmFyIFNwYWNlc2hpcCA9IGZ1bmN0aW9uKHVzZXJOYW1lLCB4LCB5LCBjb2xvciwgcm90YXRpb24pe1xuICAgIHRoaXMudXNlck5hbWUgPSB1c2VyTmFtZTtcbiAgICB0aGlzLnggPSB4O1xuICAgIHRoaXMueSA9IHk7XG4gICAgdGhpcy5zcGVlZCA9IDE7XG4gICAgdGhpcy5jb2xvciA9IGNvbG9yO1xuICAgIHRoaXMucm90YXRpb24gPSByb3RhdGlvbjtcbiAgICB0aGlzLmltYWdlID0gbmV3IEltYWdlKCk7XG4gICAgdGhpcy5kYW1hZ2UgPSAwO1xuICAgIHRoaXMud2lkdGggPSAwO1xuICAgIHRoaXMuaGVpZ2h0ID0gMDtcbiAgICB0aGlzLnBvd2VydXBzID0gW107XG4gICAgdGhpcy5zaGllbGQgPSBmYWxzZTtcbiAgICB0aGlzLnNoaWVsZEltYWdlID0gbmV3IEltYWdlKCk7XG4gICAgdGhpcy5zaGllbGRJbWFnZS5zcmMgPSBcIi4uL2Fzc2V0cy9QTkcvRWZmZWN0cy9zaGllbGQxLnBuZ1wiO1xuICAgIHRoaXMuZGFtYWdlSW1hZ2UgPSBuZXcgSW1hZ2UoKTtcbiAgICB0aGlzLmltYWdlLnNyYyA9ICcuLi9hc3NldHMvUE5HL3BsYXllclNoaXAxXycrIHRoaXMuY29sb3IgKycucG5nJztcbiAgICB0aGlzLmV4cGxvZGVTdGFnZSA9IC0xO1xufTtcblxuU3BhY2VzaGlwLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uICh4LCB5LCByb3RhdGlvbikge1xuICAgIHRoaXMuc3BlZWQgPSAxO1xuICAgIHRoaXMuZGFtYWdlID0gMDtcbiAgICB0aGlzLmRhbWFnZUltYWdlID0gbmV3IEltYWdlKCk7XG4gICAgdGhpcy5pbWFnZS5zcmMgPSAnLi4vYXNzZXRzL1BORy9wbGF5ZXJTaGlwMV8nKyB0aGlzLmNvbG9yICsnLnBuZyc7XG4gICAgdGhpcy54ID0geDtcbiAgICB0aGlzLnkgPSB5O1xuICAgIHRoaXMucm90YXRpb24gPSByb3RhdGlvbjtcbiAgICB0aGlzLnNoaWVsZCA9IGZhbHNlO1xuICAgIHRoaXMuZXhwbG9kZVN0YWdlID0gLTE7XG59O1xuXG5TcGFjZXNoaXAucHJvdG90eXBlLm1vdmVTcGFjZXNoaXAgPSBmdW5jdGlvbih4LCB5KXtcbiAgICB0aGlzLnggPSB4O1xuICAgIHRoaXMueSA9IHk7XG59O1xuXG5TcGFjZXNoaXAucHJvdG90eXBlLm1vdmVTcGFjZXNoaXBSZWxhdGl2ZSA9IGZ1bmN0aW9uKHgsIHkpe1xuICAgIHRoaXMueCA9IHRoaXMueCt4O1xuICAgIHRoaXMueSA9IHRoaXMueSt5O1xufTtcblxuU3BhY2VzaGlwLnByb3RvdHlwZS5yb3RhdGVTcGFjZXNoaXAgPSBmdW5jdGlvbihkZWdyZWUpe1xuICAgIHRoaXMucm90YXRpb24gPSBkZWdyZWU7XG59O1xuXG5TcGFjZXNoaXAucHJvdG90eXBlLnJvdGF0ZVNwYWNlc2hpcFJlbGF0aXZlID0gZnVuY3Rpb24oZGVncmVlKXtcbiAgICBpZihkZWdyZWU+ODApe1xuICAgICAgICBkZWdyZWU9ODA7XG4gICAgfWVsc2UgaWYgKGRlZ3JlZTwtODApe1xuICAgICAgICBkZWdyZWUgPSAtODA7XG4gICAgfVxuICAgIHRoaXMucm90YXRpb24gPSB0aGlzLnJvdGF0aW9uICsgZGVncmVlLzU7XG4gICAgaWYodGhpcy5yb3RhdGlvbiA8IC0zNjApe1xuICAgICAgICB0aGlzLnJvdGF0aW9uID0gdGhpcy5yb3RhdGlvbiArIDcyMDtcbiAgICB9XG4gICAgaWYodGhpcy5yb3RhdGlvbiA+IDM2MCl7XG4gICAgICAgIHRoaXMucm90YXRpb24gPSB0aGlzLnJvdGF0aW9uIC0gNzIwO1xuICAgIH1cbn07XG5cblNwYWNlc2hpcC5wcm90b3R5cGUuaW5jcmVhc2VEYW1hZ2UgPSBmdW5jdGlvbigpe1xuICAgIGlmKHRoaXMuZGFtYWdlIDwgNCl7XG4gICAgICAgIHRoaXMuZGFtYWdlICs9IDE7XG4gICAgfVxuXG4gICAgaWYodGhpcy5kYW1hZ2UgPD0gMyAmJiB0aGlzLmRhbWFnZSA+IDApe1xuICAgICAgICB0aGlzLmRhbWFnZUltYWdlLnNyYyA9ICcuLi9hc3NldHMvUE5HL0RhbWFnZS9wbGF5ZXJTaGlwMV9kYW1hZ2UnKyB0aGlzLmRhbWFnZSArICcucG5nJztcbiAgICB9ZWxzZSBpZih0aGlzLmRhbWFnZT09NCl7XG4gICAgICAgIHRoaXMuZXhwbG9kZSgpO1xuICAgIH1cbn07XG5cblNwYWNlc2hpcC5wcm90b3R5cGUuZGVhZCA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmRhbWFnZSA9IDQ7XG4gICAgdGhpcy5leHBsb2RlKCk7XG59O1xuXG5TcGFjZXNoaXAucHJvdG90eXBlLmV4cGxvZGUgPSBmdW5jdGlvbigpe1xuICAgIGlmKHRoaXMuZXhwbG9kZVN0YWdlIDw9IDE0MCl7XG4gICAgICAgIHRoaXMuZXhwbG9kZVN0YWdlICsrO1xuICAgICAgICB0aGlzLmRhbWFnZUltYWdlLnNyYyA9IFwiLi4vYXNzZXRzL1BORy9EYW1hZ2UvZnJhbWVcIiArIE1hdGguZmxvb3IodGhpcy5leHBsb2RlU3RhZ2UvMTApICsgXCIuZ2lmXCI7XG4gICAgfVxufTtcblxuU3BhY2VzaGlwLnByb3RvdHlwZS5kZWNyZWFzZURhbWFnZSA9IGZ1bmN0aW9uKCl7XG4gICAgaWYodGhpcy5kYW1hZ2UgPiAwKXtcbiAgICAgICAgdGhpcy5kYW1hZ2UgLT0gMTtcbiAgICB9XG5cbiAgICBpZih0aGlzLmRhbWFnZSA8PSAzICYmIHRoaXMuZGFtYWdlID4gMCl7XG4gICAgICAgIHRoaXMuZGFtYWdlSW1hZ2Uuc3JjID0gJy4uL2Fzc2V0cy9QTkcvRGFtYWdlL3BsYXllclNoaXAxX2RhbWFnZScrIHRoaXMuZGFtYWdlICsgJy5wbmcnO1xuICAgIH1cbn07XG5cblNwYWNlc2hpcC5wcm90b3R5cGUuYWRkUG93ZXJ1cCA9IGZ1bmN0aW9uKHBvd2VydXApe1xuICAgIHN3aXRjaChwb3dlcnVwLnR5cGUpe1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICB0aGlzLnNwZWVkICsrO1xuICAgICAgICAgICAgdGhpcy5wb3dlcnVwcy5wdXNoKHBvd2VydXApO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgIHRoaXMuc2hpZWxkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMucG93ZXJ1cHMucHVzaChwb3dlcnVwKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICB0aGlzLmRhbWFnZSA9IDA7XG4gICAgICAgICAgICB0aGlzLmRhbWFnZUltYWdlLnNyYyA9IFwiXCI7XG4gICAgICAgICAgICBicmVhaztcbiAgICB9XG59O1xuXG5TcGFjZXNoaXAucHJvdG90eXBlLmNoZWNrUG93ZXJ1cCA9IGZ1bmN0aW9uKCl7XG4gICAgZm9yKHZhciBwIGluIHRoaXMucG93ZXJ1cHMpe1xuICAgICAgICBpZih0aGlzLnBvd2VydXBzW3BdLnBsYXllcmR1cmF0aW9uID4gMCl7XG4gICAgICAgICAgICB0aGlzLnBvd2VydXBzW3BdLnBsYXllcmR1cmF0aW9uIC0tO1xuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIHN3aXRjaCh0aGlzLnBvd2VydXBzW3BdLnR5cGUpe1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zcGVlZCAtLTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNoaWVsZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMucG93ZXJ1cHMpO1xuICAgICAgICAgICAgdGhpcy5wb3dlcnVwcy5zcGxpY2UocCwgMSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnBvd2VydXBzKTtcbiAgICAgICAgfVxuICAgIH1cbn07XG5cbiIsIi8qKlxuICogQ3JlYXRlZCBieSBqdXN0aWpuZGVwb3ZlciBvbiAwOS8xMi8xNS5cbiAqL1xuXG4oZnVuY3Rpb24oKXtcblxuICAgIHZhciBzb2NrZXRTZXJ2aWNlID0gZnVuY3Rpb24oJHJvb3RTY29wZSl7XG4gICAgICAgIFwidXNlIHN0cmljdFwiO1xuICAgICAgICAvL3ByaXZhdGVcbiAgICAgICAgdmFyIHNvY2tldCA9IGlvLmNvbm5lY3Qod2luZG93LmxvY2F0aW9uLmhvc3QpO1xuICAgICAgICAvL2Z1bmN0aW9uc1xuICAgICAgICB2YXIgb24gPSBmdW5jdGlvbiAoZXZlbnROYW1lLCBjYWxsYmFjaykge1xuICAgICAgICAgICAgc29ja2V0Lm9uKGV2ZW50TmFtZSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzO1xuICAgICAgICAgICAgICAgICRyb290U2NvcGUuJGFwcGx5KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2suYXBwbHkoc29ja2V0LCBhcmdzKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBlbWl0ID0gZnVuY3Rpb24gKGV2ZW50TmFtZSwgZGF0YSwgY2FsbGJhY2spIHtcbiAgICAgICAgICAgIHNvY2tldC5lbWl0KGV2ZW50TmFtZSwgZGF0YSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzO1xuICAgICAgICAgICAgICAgICRyb290U2NvcGUuJGFwcGx5KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjay5hcHBseShzb2NrZXQsIGFyZ3MpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KVxuICAgICAgICB9O1xuXG4gICAgICAgIC8vcHVibGljXG4gICAgICAgIHJldHVybntcbiAgICAgICAgICAgIG9uOiBvbixcbiAgICAgICAgICAgIGVtaXQ6IGVtaXQsXG4gICAgICAgICAgICBzb2NrZXQ6IHNvY2tldFxuICAgICAgICB9XG4gICAgfTtcblxuICAgIGFuZ3VsYXIubW9kdWxlKFwiYXBwXCIpLmZhY3RvcnkoXCJzb2NrZXRTZXJ2aWNlXCIsIFtcIiRyb290U2NvcGVcIiwgc29ja2V0U2VydmljZV0pO1xuXG59KSgpOyJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
