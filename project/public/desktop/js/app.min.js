!function(){angular.module("app",[])}(),function(){var e=function(e,t,a,i){e.LCShow=a.getLCShow;var o=function(){t.emit("pcconnect",null)};e.room="",t.on("requestRoom",function(t){e.room=t}),t.on("deviceOrientation",function(e){var t=(e.username,{});t.gamma=e.gamma,t.beta=e.beta,t.alpha=e.alpha}),e.usernames={},e.checkUserCount=!1,t.on("updateusers",function(t){i.setPlayers(t),e.usernames=t,e.checkUserCount=Object.keys(e.usernames).length<0}),e.startGame=function(){t.emit("startGame",null),a.setLCShow(!1),a.setPCShow(!0)},function(){o()}()};angular.module("app").controller("loginController",["$scope","socketService","displayService","playerService",e])}(),function(){"use strict";var e=function(e,t,a,i,o,r){function s(){var e=Math.floor(100*Math.random());for(var t in w)if(Math.abs(w[t].x-e)<10)return s();return e}function h(){var e=Math.floor(100*Math.random());for(var t in w)if(Math.abs(w[t].y-e)<10)return h();return e}function n(e,t){return t.username==e.userName}function d(){w.length>0&&(w[0].speed=0),0==M?(M=Math.floor(500*Math.random()+500),x.push(new Powerup(Math.floor(100*Math.random()),Math.floor(100*Math.random()),Math.ceil(3*Math.random()),Math.floor(2*Math.random())))):M--,f.clearRect(0,0,u.width,u.height);var e=u.width/100;if(0!=x.length)for(var t in x){var a=x[t];a.width=u.width/50,a.height=a.width*a.image.height/a.image.width,f.save(),f.translate(a.x*e,a.y*e),f.drawImage(a.image,-a.width/2,-a.height/2,a.width,a.height),f.restore(),a.decreaseDuration(),0==a.duration&&x.splice(t,1)}if(0!=y.length){var i=u.width/100,o=i*y[0].image.height/y[0].image.width;for(var r in y){var s=y[r];s.width=i,s.height=o,0==s.explodeStage?(f.save(),f.translate(s.x*e,s.y*e),f.rotate(s.rotation/180*Math.PI),f.drawImage(s.image,-i/2,-o/2,i,o),f.restore(),y[r].x=Math.cos((s.rotation-90)/180*Math.PI)+s.x,y[r].y=Math.sin((s.rotation-90)/180*Math.PI)+s.y):s.explodeStage<4&&(f.save(),f.translate(s.x*e,s.y*e),f.drawImage(s.explosionImage,-i,-i,2*i,2*i),f.restore())}}if(0!=w.length){var h=u.width/20,n=h*w[0].image.height/w[0].image.width;for(var d in w){var a=w[d];if(a.width=h,a.height=n,f.save(),f.translate(a.x*e,a.y*e),-1==a.explodeStage?(f.rotate(a.rotation/180*Math.PI),f.drawImage(a.image,-h/2,-n/2,h,n)):w[d].explode(),a.damage>0&&a.explodeStage<=140&&f.drawImage(a.damageImage,-h/2,-n/2,h,n),a.damage<4&&(w[d].x=Math.cos((a.rotation-90)/180*Math.PI)/10*a.speed+a.x,w[d].y=Math.sin((a.rotation-90)/180*Math.PI)/10*a.speed+a.y),a.shield&&-1==a.explodeStage){var g=1.5*h,c=g/a.shieldImage.width*a.shieldImage.height;f.drawImage(a.shieldImage,-g/2,-c/2,g,c)}w[d].checkPowerup(),f.restore()}}if(v.length>0)for(var m in v){var S=v[m];if(S.width=u.width/700*S.image.width,S.height=S.width*S.image.height/S.image.width,f.save(),f.translate(S.x*e,S.y*e),f.rotate(S.rotation/180*Math.PI),f.drawImage(S.image,-S.width/2,-S.height/2,S.width,S.height),f.restore(),S.x<-5||S.x>105||S.y<-5||S.y>105){var I=Math.random();.25>I?(v[m].x=-4,v[m].y=Math.floor(100*Math.random()),v[m].rotation=Math.floor(180*Math.random())):.5>I?(v[m].x=Math.floor(100*Math.random()),v[m].y=-4,v[m].rotation=Math.floor(180*Math.random())+90):.75>I?(v[m].x=104,v[m].y=Math.floor(100*Math.random()),v[m].rotation=Math.floor(180*Math.random())+180):(v[m].x=Math.floor(100*Math.random()),v[m].y=104,v[m].rotation=Math.floor(180*Math.random())+270),v[m].speed=1,v[m].setImage(Math.ceil(18*Math.random()))}else v[m].x=Math.cos((S.rotation-90)/180*Math.PI)/30*v[m].speed+S.x,v[m].y=Math.sin((S.rotation-90)/180*Math.PI)/30*v[m].speed+S.y}l(),p()}function l(){for(var e in y)y[e].x<0||y[e].x>u.width||y[e].y<0||y[e].y>u.height?y.splice(e,1):y[e].explodeStage>0&&(y[e].explodeStage<4?y[e].explode():y.splice(e,1))}function p(){var e=[];for(var t in w)if(w[t].damage<4){e.push(w[t]);for(var a in y)if(0==y[a].explodeStage&&y[a].player!=w[t].userName){var o=Math.sqrt(2)/2*(y[a].height/2-y[a].width/2),r=(360-y[a].rotation)/180*Math.PI,s=y[a].x*u.width/100-o*Math.sin(r),h=y[a].y*u.width/100-o*Math.cos(r),n=w[t].x*u.width/100,d=w[t].y*u.width/100,l=Math.sqrt((s-n)*(s-n)+(h-d)*(h-d)),p=1;if(w[t].shield&&(p=1.5),l<y[a].width/2+w[t].width/2*p){var c=new Audio("../../assets/Bonus/sfx_lose.ogg");if(c.play(),!w[t].shield){w[t].increaseDamage();var m={};m.username=w[t].userName,m.life=3-w[t].damage,i.emit("playerLife",m)}y[a].explode()}}for(var f in v){var M=v[f].x*u.width/100,S=v[f].y*u.width/100,n=w[t].x*u.width/100,d=w[t].y*u.width/100,l=Math.sqrt((M-n)*(M-n)+(S-d)*(S-d)),p=1;if(w[t].shield&&(p=1.5),l<v[f].width/2+w[t].width/2*p){if(0==v[f].box){v[f].box=!0;var c=new Audio("../../assets/Bonus/sfx_lose.ogg");if(c.play(),w[t].shield){var r=Math.atan((v[f].y-w[t].y)/(v[f].x-w[t].x));v[f].rotation=r,v[f].speed=6*w[t].speed}else{w[t].dead();var m={};m.username=w[t].userName,m.life=3-w[t].damage,i.emit("playerLife",m)}}}else l>v[f].width/2+w[t].width/2*p+100&&(v[f].box=!1)}for(var f in w)if(4!=w[f].damage&&f!=t){var I=w[f].x*u.width/100,P=w[f].y*u.width/100,n=w[t].x*u.width/100,d=w[t].y*u.width/100,p=1;w[t].shield&&(p=1.5);var N=1;w[f].shield&&(N=1.5);var l=Math.sqrt((I-n)*(I-n)+(P-d)*(P-d));if(l<w[f].width/2*N+w[t].width/2*p){var c=new Audio("../../assets/Bonus/sfx_lose.ogg");c.play(),w[t].dead(),w[f].dead();var m={};m.username=w[t].userName,m.life=3-w[t].damage,i.emit("playerLife",m),m.username=w[f].userName,m.life=3-w[f].damage,i.emit("playerLife",m)}}if(w[t].x*u.width/100<w[t].height/2||w[t].x*u.width/100>u.width-w[t].height/2||w[t].y*u.width/100<w[t].height/2||w[t].y*u.width/100>u.width-w[t].height/2){var c=new Audio("../../assets/Bonus/sfx_lose.ogg");c.play(),w[t].dead();var m={};m.username=w[t].userName,m.life=3-w[t].damage,i.emit("playerLife",m)}for(var f in x){var G=x[f].x*u.width/100,b=x[f].y*u.width/100,n=w[t].x*u.width/100,d=w[t].y*u.width/100,l=Math.sqrt((G-n)*(G-n)+(b-d)*(b-d));if(l<x[f].width/2+w[t].width/2){var A=new Audio("../../assets/Bonus/sfx_zap.ogg");if(A.play(),1==x[f].boolSelf)for(var C in w)C!=t&&w[C].addPowerup(x[f]);else w[t].addPowerup(x[f]);if(3==x[f].type){var m={};m.username=w[t].userName,m.life=3,i.emit("playerLife",m)}x.splice(f,1)}}}for(var f in v)for(var a in y)if(0==y[a].explodeStage&&y[a].player!=v[f].userName){var o=Math.sqrt(2)/2*(y[a].height/2-y[a].width/2),r=(360-y[a].rotation)/180*Math.PI,s=y[a].x*u.width/100-o*Math.sin(r),h=y[a].y*u.width/100-o*Math.cos(r),M=v[f].x*u.width/100,S=v[f].y*u.width/100,l=Math.sqrt((s-M)*(s-M)+(h-S)*(h-S));if(l<y[a].width/2+v[f].width/2){var m={};m.username=v[f].userName,m.life=3-v[f].damage,i.emit("playerLife",m),y[a].explode()}}1==e.length&&g(e)}function g(a){angular.isDefined(m)&&(t.cancel(m),m=void 0),e.endGame=!0,e.endGameText=a[0].userName+" is the winner!",i.emit("endGame",a[0].userName)}var c=[{x:10,y:10,rotation:135},{x:90,y:10,rotation:225},{x:90,y:90,rotation:315},{x:10,y:90,rotation:45}];e.PCShow=o.getPCShow,e.endGame=!1;var m,u=document.getElementById("game"),f=u.getContext("2d"),w=new Array,y=new Array,v=new Array,x=new Array;i.on("initGame",function(){var e=r.getPlayers(),a=0;for(var i in e){var o=e[i];w.push(new Spaceship(o.username,c[a].x,c[a].y,o.color,c[a].rotation)),a++}for(var n=0;15>n;n++)v.push(new Asteroid(s(),h(),Math.floor(361*Math.random()),Math.ceil(18*Math.random())));m=t(d,10)}),i.on("userleft",function(e){var t=null;for(var a in w)1==n(w[a],e)&&(t=a);w.splice(t,1)}),i.on("updateGameData",function(e){var t=null;for(var a in w)1==n(w[a],e)&&(t=a);null!=t&&w[t].rotateSpaceshipRelative(e.orientation)}),i.on("playerShot",function(t){if(0==e.endGame){var a=null;for(var i in w)1==n(w[i],t)&&(a=i);if(null!=a){var o=w[a],r=(360-(o.rotation+180))/180*Math.PI,s=o.x+u.width/400*Math.sin(r),h=o.y+u.width/400*Math.cos(r);y.push(new Bullet(s,h,o.rotation,o.color,o.userName));var d="../../assets/Bonus/sfx_laser2.ogg";a%2==0&&(d="../../assets/Bonus/sfx_laser1.ogg");var l=new Audio(d);l.play()}}});var M=Math.floor(500*Math.random()+500);e.restartGame=function(){e.endGame=!1;var a=0;for(var o in w)w[o].reset(c[a].x,c[a].y,c[a].rotation),a++;v=[];for(var r=0;15>r;r++)v.push(new Asteroid(s(),h(),Math.floor(361*Math.random()),Math.ceil(18*Math.random())));y=[],x=[],M=Math.floor(500*Math.random()+500),f.clearRect(0,0,u.width,u.height),i.emit("restartGame",null),m=t(d,10)}};angular.module("app").controller("playController",["$scope","$interval","$window","socketService","displayService","playerService",e])}(),function(){var e=function(e){function t(t,a,i){e.innerWidth<e.innerHeight?t.width=e.innerWidth-20:t.width=e.innerHeight-20,angular.element(e).bind("resize",function(){e.innerWidth<e.innerHeight?t.width=e.innerWidth-20:t.width=e.innerHeight-20,t.$digest()})}return{restrict:"E",link:t,replace:!0,template:'<canvas id="game" class="playArea" width="{{width}}" height="{{width}}" />'}};angular.module("app").directive("canvasDirective",["$window",e])}();var Bullet=function(e,t,a,i,o){this.x=e,this.y=t,this.rotation=a,this.image=new Image,this.color=i,this.width=0,this.height=0,this.player=o,this.explosionImage=new Image,this.explodeStage=0,"orange"==this.color&&(this.color="red"),this.image.src="../assets/PNG/Lasers/laser"+this.color.charAt(0).toUpperCase()+this.color.slice(1)+"01.png"};Bullet.prototype.explode=function(){if(this.explodeStage<4){this.explodeStage++;var e;e=this.explodeStage<3?1:2,this.explosionImage.src="../assets/PNG/Lasers/laser"+this.color.charAt(0).toUpperCase()+this.color.slice(1)+"Explode"+e+".png"}else this.explosionImage.src=""};var Powerup=function(e,t,a,i){this.x=e,this.y=t,this.width=0,this.height=0,this.type=a,this.duration=1e3,this.playerduration=1e3;var o;switch(this.image=new Image,this.boolSelf=i,a){case 1:o="bolt_";break;case 2:o="shield_";break;case 3:o="star_"}switch(i){case 0:o+="gold.png";break;case 1:o+="silver.png"}this.image.src="../assets/PNG/Power-ups/"+o};Powerup.prototype.decreaseDuration=function(){this.duration>0&&this.duration--};var Spaceship=function(e,t,a,i,o){this.userName=e,this.x=t,this.y=a,this.speed=1,this.color=i,this.rotation=o,this.image=new Image,this.damage=0,this.width=0,this.height=0,this.powerups=[],this.shield=!0,this.shieldImage=new Image,this.shieldImage.src="../assets/PNG/Effects/shield1.png",this.damageImage=new Image,this.image.src="../assets/PNG/playerShip1_"+this.color+".png",this.explodeStage=-1};Spaceship.prototype.reset=function(e,t,a){this.speed=1,this.damage=0,this.damageImage=new Image,this.image.src="../assets/PNG/playerShip1_"+this.color+".png",this.x=e,this.y=t,this.rotation=a,this.explodeStage=-1},Spaceship.prototype.moveSpaceship=function(e,t){this.x=e,this.y=t},Spaceship.prototype.moveSpaceshipRelative=function(e,t){this.x=this.x+e,this.y=this.y+t},Spaceship.prototype.rotateSpaceship=function(e){this.rotation=e},Spaceship.prototype.rotateSpaceshipRelative=function(e){e>80?e=80:-80>e&&(e=-80),this.rotation=this.rotation+e/5,this.rotation<-360&&(this.rotation=this.rotation+720),this.rotation>360&&(this.rotation=this.rotation-720)},Spaceship.prototype.increaseDamage=function(){this.damage<4&&(this.damage+=1),this.damage<=3&&this.damage>0?this.damageImage.src="../assets/PNG/Damage/playerShip1_damage"+this.damage+".png":4==this.damage&&this.explode()},Spaceship.prototype.dead=function(){this.damage=4,this.explode()},Spaceship.prototype.explode=function(){this.explodeStage<=140&&(this.explodeStage++,this.damageImage.src="../assets/PNG/Damage/frame"+Math.floor(this.explodeStage/10)+".gif")},Spaceship.prototype.decreaseDamage=function(){this.damage>0&&(this.damage-=1),this.damage<=3&&this.damage>0&&(this.damageImage.src="../assets/PNG/Damage/playerShip1_damage"+this.damage+".png")},Spaceship.prototype.addPowerup=function(e){switch(e.type){case 1:this.speed++,this.powerups.push(e);break;case 2:this.shield=!0,this.powerups.push(e);break;case 3:this.damage=0,this.damageImage.src=""}},Spaceship.prototype.checkPowerup=function(){for(var e in this.powerups)if(this.powerups[e].playerduration>0)this.powerups[e].playerduration--;else{switch(this.powerups[e].type){case 1:this.speed--;break;case 2:this.shield=!1}console.log("-------------"),console.log(this.powerups),this.powerups.splice(e,1),console.log(this.powerups)}};var Asteroid=function(e,t,a,i){this.x=e,this.y=t,this.width=0,this.height=0,this.rotation=a,this.stage=i,this.image=new Image,this.image.src="../assets/PNG/Meteors/meteor_"+i+".png",this.speed=1,this.box=!1};Asteroid.prototype.setImage=function(e){this.stage=e,this.image.src="../assets/PNG/Meteors/meteor_"+e+".png"},function(){var e=function(){var e=!0,t=!1;return{getLCShow:function(){return e},setLCShow:function(t){e=t},getPCShow:function(){return t},setPCShow:function(e){t=e}}};angular.module("app").factory("displayService",[e])}(),function(){var e=function(){var e=[];return{getPlayers:function(){return e},setPlayers:function(t){e=t}}};angular.module("app").factory("playerService",[e])}(),function(){var e=function(e){"use strict";var t=io.connect(window.location.host),a=function(a,i){t.on(a,function(){var a=arguments;e.$apply(function(){i.apply(t,a)})})},i=function(a,i,o){t.emit(a,i,function(){var a=arguments;e.$apply(function(){o&&o.apply(t,a)})})};return{on:a,emit:i,socket:t}};angular.module("app").factory("socketService",["$rootScope",e])}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsImNvbnRyb2xsZXIvbG9naW5Db250cm9sbGVyLmpzIiwiY29udHJvbGxlci9wbGF5Q29udHJvbGxlci5qcyIsImRpcmVjdGl2ZXMvY2FudmFzRGlyZWN0aXZlLmpzIiwibW9kZWxzL0J1bGxldC5qcyIsIm1vZGVscy9Qb3dlcnVwLmpzIiwibW9kZWxzL1NwYWNlc2hpcC5qcyIsIm1vZGVscy9hc3RlcmlvZC5qcyIsInNlcnZpY2VzL2Rpc3BsYXlTZXJ2aWNlLmpzIiwic2VydmljZXMvcGxheWVyU2VydmljZS5qcyIsInNlcnZpY2VzL3NvY2tldFNlcnZpY2UuanMiXSwibmFtZXMiOlsiYW5ndWxhciIsIm1vZHVsZSIsImxvZ2luQ29udHJvbGxlciIsIiRzY29wZSIsInNvY2tldFNlcnZpY2UiLCJkaXNwbGF5U2VydmljZSIsInBsYXllclNlcnZpY2UiLCJMQ1Nob3ciLCJnZXRMQ1Nob3ciLCJtYWtlUm9vbSIsImVtaXQiLCJyb29tIiwib24iLCJkYXRhIiwiZGV2aWNlT3JpZW50YXRpb24iLCJ1c2VybmFtZSIsImdhbW1hIiwiYmV0YSIsImFscGhhIiwidXNlcm5hbWVzIiwiY2hlY2tVc2VyQ291bnQiLCJzZXRQbGF5ZXJzIiwiT2JqZWN0Iiwia2V5cyIsImxlbmd0aCIsInN0YXJ0R2FtZSIsInNldExDU2hvdyIsInNldFBDU2hvdyIsImNvbnRyb2xsZXIiLCJwbGF5Q29udHJvbGxlciIsIiRpbnRlcnZhbCIsIiR3aW5kb3ciLCJjcmVhdGVDb29yZGluYXRlWCIsIngiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJwIiwiQWxsUGxheWVycyIsImFicyIsImNyZWF0ZUNvb3JkaW5hdGVZIiwieSIsImZpbHRlclBsYXllcnMiLCJvYmoiLCJ1c2VyTmFtZSIsImRyYXciLCJzcGVlZCIsIlBvd2VydXBTcGF3blRpbWUiLCJBbGxQb3dlclVwcyIsInB1c2giLCJQb3dlcnVwIiwiY2VpbCIsImN0eCIsImNsZWFyUmVjdCIsImNhbnYiLCJ3aWR0aCIsImhlaWdodCIsInJhdGlvIiwicG93ZXJ1cCIsImltYWdlIiwic2F2ZSIsInRyYW5zbGF0ZSIsImRyYXdJbWFnZSIsInJlc3RvcmUiLCJkZWNyZWFzZUR1cmF0aW9uIiwiZHVyYXRpb24iLCJzcGxpY2UiLCJBbGxCdWxsZXRzIiwiQnVsbGV0V2lkdGgiLCJCdWxsZXRIZWlnaHQiLCJidWxsZXQiLCJiIiwiZXhwbG9kZVN0YWdlIiwicm90YXRlIiwicm90YXRpb24iLCJQSSIsImNvcyIsInNpbiIsImV4cGxvc2lvbkltYWdlIiwiU3BhY2VzaGlwV2lkdGgiLCJTcGFjZXNoaXBIZWlnaHQiLCJwbGF5ZXIiLCJleHBsb2RlIiwiZGFtYWdlIiwiZGFtYWdlSW1hZ2UiLCJzaGllbGQiLCJTaGllbGRXaWR0aCIsIlNoaWVsZEhlaWdodCIsInNoaWVsZEltYWdlIiwiY2hlY2tQb3dlcnVwIiwiQWxsQXN0ZXJvaWRzIiwiQXN0ZXJvaWQiLCJhIiwia2V1emUiLCJzZXRJbWFnZSIsImNoZWNrQnVsbGV0cyIsImNvbGxpc2lvbkRldGVjdGlvbiIsImxpdmluZ1BsYXllcnMiLCJyYWRpdXMiLCJzcXJ0IiwiYW5nbGUiLCJidWxsZXRIZWFkWCIsImJ1bGxldEhlYWRZIiwic3BhY2VTaGlwWCIsInNwYWNlU2hpcFkiLCJkaXN0YW5jZSIsInNoaWVsZFJhdGlvIiwiZGFtYWdlc291bmQiLCJBdWRpbyIsInBsYXkiLCJpbmNyZWFzZURhbWFnZSIsImxpZmUiLCJhc3Rlcm9pZFgiLCJhc3Rlcm9pZFkiLCJib3giLCJhdGFuIiwiZGVhZCIsInNwYWNlU2hpcDFYIiwic3BhY2VTaGlwMVkiLCJzaGllbGRSYXRpbzEiLCJwb3dlcnVwWCIsInBvd2VydXBZIiwicG93ZXJ1cFNvdW5kIiwiYm9vbFNlbGYiLCJhZGRQb3dlcnVwIiwidHlwZSIsImVuZEdhbWUiLCJpc0RlZmluZWQiLCJjeWNsZSIsImNhbmNlbCIsInVuZGVmaW5lZCIsImVuZEdhbWVUZXh0IiwiZGVmYXVsdFZhcnMiLCJQQ1Nob3ciLCJnZXRQQ1Nob3ciLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiZ2V0Q29udGV4dCIsIkFycmF5IiwiQnVmZmVyUGxheWVyIiwiZ2V0UGxheWVycyIsInRlbGxlciIsIlNwYWNlc2hpcCIsImNvbG9yIiwiaSIsInJvdGF0ZVNwYWNlc2hpcFJlbGF0aXZlIiwib3JpZW50YXRpb24iLCJ0ZW1wIiwiQnVsbGV0IiwiYXVkaW9VcmwiLCJzaG90IiwicmVzdGFydEdhbWUiLCJyZXNldCIsImNhbnZhc0RpcmVjdGl2ZSIsImxpbmsiLCJzY29wZSIsImVsZW1lbnQiLCJhdHRycyIsImlubmVyV2lkdGgiLCJpbm5lckhlaWdodCIsImJpbmQiLCIkZGlnZXN0IiwicmVzdHJpY3QiLCJyZXBsYWNlIiwidGVtcGxhdGUiLCJkaXJlY3RpdmUiLCJ0aGlzIiwiSW1hZ2UiLCJzcmMiLCJjaGFyQXQiLCJ0b1VwcGVyQ2FzZSIsInNsaWNlIiwicHJvdG90eXBlIiwibnVtYmVyIiwicGxheWVyZHVyYXRpb24iLCJpbWFnZVR5cGUiLCJwb3dlcnVwcyIsIm1vdmVTcGFjZXNoaXAiLCJtb3ZlU3BhY2VzaGlwUmVsYXRpdmUiLCJyb3RhdGVTcGFjZXNoaXAiLCJkZWdyZWUiLCJkZWNyZWFzZURhbWFnZSIsImNvbnNvbGUiLCJsb2ciLCJzdGFnZSIsInZhbHVlIiwiZmFjdG9yeSIsInBsYXllcnMiLCJwbGF5ZXJzQXJyYXkiLCIkcm9vdFNjb3BlIiwic29ja2V0IiwiaW8iLCJjb25uZWN0Iiwid2luZG93IiwibG9jYXRpb24iLCJob3N0IiwiZXZlbnROYW1lIiwiY2FsbGJhY2siLCJhcmdzIiwiYXJndW1lbnRzIiwiJGFwcGx5IiwiYXBwbHkiXSwibWFwcGluZ3MiOiJDQUdBLFdBRUFBLFFBQUFDLE9BQUEsYUNEQSxXQUNBLEdBQUFDLEdBQUEsU0FBQUMsRUFBQUMsRUFBQUMsRUFBQUMsR0FFQUgsRUFBQUksT0FBQUYsRUFBQUcsU0FHQSxJQUFBQyxHQUFBLFdBQ0FMLEVBQUFNLEtBQUEsWUFBQSxNQUVBUCxHQUFBUSxLQUFBLEdBQ0FQLEVBQUFRLEdB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R0FBQXdMLEVBQUEsV0FDQSxHQUFBRSxHQUFBQyxTQUNBVixHQUFBVyxPQUFBLFdBQ0FILEVBQUFJLE1BQUFYLEVBQUFRLFFBS0E1TCxFQUFBLFNBQUEwTCxFQUFBdkwsRUFBQXdMLEdBQ0FQLEVBQUFwTCxLQUFBMEwsRUFBQXZMLEVBQUEsV0FDQSxHQUFBeUwsR0FBQUMsU0FDQVYsR0FBQVcsT0FBQSxXQUNBSCxHQUNBQSxFQUFBSSxNQUFBWCxFQUFBUSxPQU9BLFFBQ0ExTCxHQUFBQSxFQUNBRixLQUFBQSxFQUNBb0wsT0FBQUEsR0FJQTlMLFNBQUFDLE9BQUEsT0FBQXlMLFFBQUEsaUJBQUEsYUFBQXRMIiwiZmlsZSI6ImFwcC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENyZWF0ZWQgYnkgTWljaGllbCBvbiAyNS8xMS8yMDE1LlxuICovXG4oZnVuY3Rpb24oKXtcblxuICAgIHZhciBhcHAgPSBhbmd1bGFyLm1vZHVsZShcImFwcFwiLFtdKTtcbn0pKCk7IiwiLyoqXG4gKiBDcmVhdGVkIGJ5IE1pY2hpZWwgb24gMTEvMTIvMjAxNS5cbiAqL1xuXG4oZnVuY3Rpb24oKXtcbiAgICB2YXIgbG9naW5Db250cm9sbGVyID0gZnVuY3Rpb24oJHNjb3BlLCBzb2NrZXRTZXJ2aWNlLCBkaXNwbGF5U2VydmljZSwgcGxheWVyU2VydmljZSl7XG5cbiAgICAgICAgJHNjb3BlLkxDU2hvdyA9IGRpc3BsYXlTZXJ2aWNlLmdldExDU2hvdztcblxuICAgICAgICAvL2Z1bmN0aW9uc1xuICAgICAgICB2YXIgbWFrZVJvb20gPSBmdW5jdGlvbigpe1xuICAgICAgICAgICAgc29ja2V0U2VydmljZS5lbWl0KFwicGNjb25uZWN0XCIsIG51bGwpO1xuICAgICAgICB9O1xuICAgICAgICAkc2NvcGUucm9vbSA9IFwiXCI7XG4gICAgICAgIHNvY2tldFNlcnZpY2Uub24oJ3JlcXVlc3RSb29tJyxmdW5jdGlvbihkYXRhKXtcbiAgICAgICAgICAgICRzY29wZS5yb29tID0gZGF0YTtcbiAgICAgICAgfSk7XG4gICAgICAgIHNvY2tldFNlcnZpY2Uub24oJ2RldmljZU9yaWVudGF0aW9uJywgZnVuY3Rpb24oZGF0YSl7XG4gICAgICAgICAgICB2YXIgdXNlcm5hbWUgPSBkYXRhLnVzZXJuYW1lO1xuICAgICAgICAgICAgdmFyIGRldmljZU9yaWVudGF0aW9uID0ge307XG4gICAgICAgICAgICBkZXZpY2VPcmllbnRhdGlvbi5nYW1tYSA9IGRhdGEuZ2FtbWE7XG4gICAgICAgICAgICBkZXZpY2VPcmllbnRhdGlvbi5iZXRhID0gZGF0YS5iZXRhO1xuICAgICAgICAgICAgZGV2aWNlT3JpZW50YXRpb24uYWxwaGEgPSBkYXRhLmFscGhhO1xuICAgICAgICB9KTtcbiAgICAgICAgJHNjb3BlLnVzZXJuYW1lcyA9IHt9O1xuICAgICAgICAkc2NvcGUuY2hlY2tVc2VyQ291bnQgPSBmYWxzZTtcbiAgICAgICAgc29ja2V0U2VydmljZS5vbigndXBkYXRldXNlcnMnLCBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgcGxheWVyU2VydmljZS5zZXRQbGF5ZXJzKGRhdGEpO1xuICAgICAgICAgICAgJHNjb3BlLnVzZXJuYW1lcyA9IGRhdGE7XG4gICAgICAgICAgICAkc2NvcGUuY2hlY2tVc2VyQ291bnQgPSBPYmplY3Qua2V5cygkc2NvcGUudXNlcm5hbWVzKS5sZW5ndGggPCAwO1xuICAgICAgICB9KTtcblxuICAgICAgICAkc2NvcGUuc3RhcnRHYW1lPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBzb2NrZXRTZXJ2aWNlLmVtaXQoXCJzdGFydEdhbWVcIiwgbnVsbCk7XG4gICAgICAgICAgICBkaXNwbGF5U2VydmljZS5zZXRMQ1Nob3coZmFsc2UpO1xuICAgICAgICAgICAgZGlzcGxheVNlcnZpY2Uuc2V0UENTaG93KHRydWUpO1xuICAgICAgICB9O1xuXG5cbiAgICAgICAgKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgbWFrZVJvb20oKTtcbiAgICAgICAgfSkoKTtcblxuICAgIH07XG5cbiAgICBhbmd1bGFyLm1vZHVsZShcImFwcFwiKS5jb250cm9sbGVyKFwibG9naW5Db250cm9sbGVyXCIsIFtcIiRzY29wZVwiLCBcInNvY2tldFNlcnZpY2VcIiAsIFwiZGlzcGxheVNlcnZpY2VcIiwgXCJwbGF5ZXJTZXJ2aWNlXCIsIGxvZ2luQ29udHJvbGxlcl0pO1xufSkoKTsiLCIvKipcbiAqIENyZWF0ZWQgYnkgTWljaGllbCBvbiAxNi8xMi8yMDE1LlxuICovXG5cbihmdW5jdGlvbigpe1xuICAgIFwidXNlIHN0cmljdFwiO1xuICAgIHZhciBwbGF5Q29udHJvbGxlciA9IGZ1bmN0aW9uKCRzY29wZSwgJGludGVydmFsLCAkd2luZG93LCBzb2NrZXRTZXJ2aWNlLCBkaXNwbGF5U2VydmljZSwgcGxheWVyU2VydmljZSl7XG4gICAgICAgIHZhciBkZWZhdWx0VmFycyA9IFt7eDoxMCwgeToxMCxyb3RhdGlvbjoxMzV9LHt4OjkwLCB5OjEwLHJvdGF0aW9uOjIyNX0se3g6OTAsIHk6OTAscm90YXRpb246MzE1fSx7eDoxMCwgeTo5MCxyb3RhdGlvbjo0NX1dO1xuICAgICAgICAkc2NvcGUuUENTaG93ID0gZGlzcGxheVNlcnZpY2UuZ2V0UENTaG93O1xuICAgICAgICAkc2NvcGUuZW5kR2FtZSA9IGZhbHNlO1xuICAgICAgICB2YXIgY2FudiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdnYW1lJyk7XG4gICAgICAgIHZhciBjdHggPSBjYW52LmdldENvbnRleHQoJzJkJyk7XG5cbiAgICAgICAgdmFyIEFsbFBsYXllcnMgPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgdmFyIEFsbEJ1bGxldHMgPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgdmFyIEFsbEFzdGVyb2lkcyA9IG5ldyBBcnJheSgpO1xuICAgICAgICB2YXIgQWxsUG93ZXJVcHMgPSBuZXcgQXJyYXkoKTtcblxuICAgICAgICB2YXIgY3ljbGU7XG5cbiAgICAgICAgc29ja2V0U2VydmljZS5vbihcImluaXRHYW1lXCIsIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICB2YXIgQnVmZmVyUGxheWVyID0gcGxheWVyU2VydmljZS5nZXRQbGF5ZXJzKCk7XG4gICAgICAgICAgICB2YXIgdGVsbGVyPSAwO1xuICAgICAgICAgICAgZm9yKHZhciBwbGF5ZXIgaW4gQnVmZmVyUGxheWVyKXtcbiAgICAgICAgICAgICAgICB2YXIgcCA9IEJ1ZmZlclBsYXllcltwbGF5ZXJdO1xuICAgICAgICAgICAgICAgIEFsbFBsYXllcnMucHVzaChuZXcgU3BhY2VzaGlwKHAudXNlcm5hbWUsIGRlZmF1bHRWYXJzW3RlbGxlcl0ueCwgZGVmYXVsdFZhcnNbdGVsbGVyXS55LCBwLmNvbG9yLCBkZWZhdWx0VmFyc1t0ZWxsZXJdLnJvdGF0aW9uKSk7XG4gICAgICAgICAgICAgICAgdGVsbGVyKys7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZvcih2YXIgaSA9IDA7IGk8MTU7IGkrKyl7XG4gICAgICAgICAgICAgICAgQWxsQXN0ZXJvaWRzLnB1c2gobmV3IEFzdGVyb2lkKGNyZWF0ZUNvb3JkaW5hdGVYKCksIGNyZWF0ZUNvb3JkaW5hdGVZKCksIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSozNjEpLCBNYXRoLmNlaWwoTWF0aC5yYW5kb20oKSoxOCkpKTtcbiAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICBjeWNsZSA9ICRpbnRlcnZhbChkcmF3LCAxMCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGZ1bmN0aW9uIGNyZWF0ZUNvb3JkaW5hdGVYKCl7XG4gICAgICAgICAgICB2YXIgeCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSoxMDApO1xuICAgICAgICAgICAgZm9yKHZhciBwIGluIEFsbFBsYXllcnMpe1xuICAgICAgICAgICAgICAgIGlmKE1hdGguYWJzKEFsbFBsYXllcnNbcF0ueCAtIHgpIDwgMTApe1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlQ29vcmRpbmF0ZVgoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4geDtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGNyZWF0ZUNvb3JkaW5hdGVZKCl7XG4gICAgICAgICAgICB2YXIgeSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSoxMDApO1xuICAgICAgICAgICAgZm9yKHZhciBwIGluIEFsbFBsYXllcnMpe1xuICAgICAgICAgICAgICAgIGlmKE1hdGguYWJzKEFsbFBsYXllcnNbcF0ueSAtIHkpIDwgMTApe1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlQ29vcmRpbmF0ZVkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4geTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNvY2tldFNlcnZpY2Uub24oXCJ1c2VybGVmdFwiLCBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgdmFyIHAgPSBudWxsO1xuICAgICAgICAgICAgZm9yKHZhciBpIGluIEFsbFBsYXllcnMpe1xuICAgICAgICAgICAgICAgIGlmKGZpbHRlclBsYXllcnMoQWxsUGxheWVyc1tpXSxkYXRhKSA9PSB0cnVlKXtcbiAgICAgICAgICAgICAgICAgICAgcCA9IGk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgQWxsUGxheWVycy5zcGxpY2UocCwxKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgc29ja2V0U2VydmljZS5vbihcInVwZGF0ZUdhbWVEYXRhXCIsIGZ1bmN0aW9uKGRhdGEpe1xuICAgICAgICAgICAgdmFyIHAgPSBudWxsO1xuICAgICAgICAgICAgZm9yKHZhciBpIGluIEFsbFBsYXllcnMpe1xuICAgICAgICAgICAgICAgIGlmKGZpbHRlclBsYXllcnMoQWxsUGxheWVyc1tpXSxkYXRhKSA9PSB0cnVlKXtcbiAgICAgICAgICAgICAgICAgICAgcCA9IGk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYocCAhPSBudWxsKXtcbiAgICAgICAgICAgICAgICBBbGxQbGF5ZXJzW3BdLnJvdGF0ZVNwYWNlc2hpcFJlbGF0aXZlKGRhdGEub3JpZW50YXRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBzb2NrZXRTZXJ2aWNlLm9uKFwicGxheWVyU2hvdFwiLCBmdW5jdGlvbihkYXRhKXtcbiAgICAgICAgICAgIGlmKCRzY29wZS5lbmRHYW1lPT1mYWxzZSkge1xuICAgICAgICAgICAgICAgIHZhciBwID0gbnVsbDtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpIGluIEFsbFBsYXllcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZpbHRlclBsYXllcnMoQWxsUGxheWVyc1tpXSwgZGF0YSkgPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcCA9IGk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHAgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IEFsbFBsYXllcnNbcF07XG4gICAgICAgICAgICAgICAgICAgIHZhciBhbmdsZSA9ICgzNjAgLSAodGVtcC5yb3RhdGlvbiArIDE4MCkpIC8gMTgwICogTWF0aC5QSTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHggPSB0ZW1wLnggKyAoY2Fudi53aWR0aCAvIDQwMCAqIE1hdGguc2luKGFuZ2xlKSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciB5ID0gdGVtcC55ICsgKGNhbnYud2lkdGggLyA0MDAgKiBNYXRoLmNvcyhhbmdsZSkpO1xuICAgICAgICAgICAgICAgICAgICBBbGxCdWxsZXRzLnB1c2gobmV3IEJ1bGxldCh4LCB5LCB0ZW1wLnJvdGF0aW9uLCB0ZW1wLmNvbG9yLCB0ZW1wLnVzZXJOYW1lKSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBhdWRpb1VybCA9ICcuLi8uLi9hc3NldHMvQm9udXMvc2Z4X2xhc2VyMi5vZ2cnO1xuICAgICAgICAgICAgICAgICAgICBpZiAocCAlIDIgPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXVkaW9VcmwgPSAnLi4vLi4vYXNzZXRzL0JvbnVzL3NmeF9sYXNlcjEub2dnJztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB2YXIgc2hvdCA9IG5ldyBBdWRpbyhhdWRpb1VybCk7XG4gICAgICAgICAgICAgICAgICAgIHNob3QucGxheSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgZnVuY3Rpb24gZmlsdGVyUGxheWVycyhvYmosZGF0YSl7XG4gICAgICAgICAgICByZXR1cm4gZGF0YS51c2VybmFtZSA9PSBvYmoudXNlck5hbWU7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgUG93ZXJ1cFNwYXduVGltZSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSo1MDAgKyA1MDApO1xuXG4gICAgICAgIGZ1bmN0aW9uIGRyYXcoKXtcbiAgICAgICAgICAgIGlmKEFsbFBsYXllcnMubGVuZ3RoPjApe1xuICAgICAgICAgICAgICAgIEFsbFBsYXllcnNbMF0uc3BlZWQgPSAwO1xuICAgICAgICAgICAgICAgIC8vQWxsUGxheWVyc1sxXS5zcGVlZCA9IDA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmKFBvd2VydXBTcGF3blRpbWUgPT0gMCl7XG4gICAgICAgICAgICAgICAgUG93ZXJ1cFNwYXduVGltZSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSo1MDAgKyA1MDApO1xuICAgICAgICAgICAgICAgIEFsbFBvd2VyVXBzLnB1c2gobmV3IFBvd2VydXAoTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKjEwMCksTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKjEwMCksIE1hdGguY2VpbChNYXRoLnJhbmRvbSgpKjMpLE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSoyKSkpXG4gICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICBQb3dlcnVwU3Bhd25UaW1lIC0tO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjdHguY2xlYXJSZWN0KDAsMCxjYW52LndpZHRoLCBjYW52LmhlaWdodCk7XG4gICAgICAgICAgICB2YXIgcmF0aW8gPSBjYW52LndpZHRoLzEwMDtcblxuICAgICAgICAgICAgaWYoQWxsUG93ZXJVcHMubGVuZ3RoICE9IDApe1xuICAgICAgICAgICAgICAgIGZvcih2YXIgcG93ZXJ1cCBpbiBBbGxQb3dlclVwcyl7XG4gICAgICAgICAgICAgICAgICAgIHZhciBwID0gQWxsUG93ZXJVcHNbcG93ZXJ1cF07XG4gICAgICAgICAgICAgICAgICAgIHAud2lkdGggPSBjYW52LndpZHRoLzUwO1xuICAgICAgICAgICAgICAgICAgICBwLmhlaWdodCA9IHAud2lkdGggKiBwLmltYWdlLmhlaWdodC8gcC5pbWFnZS53aWR0aDtcbiAgICAgICAgICAgICAgICAgICAgY3R4LnNhdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgY3R4LnRyYW5zbGF0ZShwLngqcmF0aW8sIHAueSpyYXRpbyk7XG4gICAgICAgICAgICAgICAgICAgIGN0eC5kcmF3SW1hZ2UocC5pbWFnZSwgLXAud2lkdGgvMiwgLXAuaGVpZ2h0LzIsIHAud2lkdGgsIHAuaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICAgICAgY3R4LnJlc3RvcmUoKTtcbiAgICAgICAgICAgICAgICAgICAgcC5kZWNyZWFzZUR1cmF0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmKHAuZHVyYXRpb24gPT0gMCl7XG4gICAgICAgICAgICAgICAgICAgICAgICBBbGxQb3dlclVwcy5zcGxpY2UocG93ZXJ1cCwgMSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmKEFsbEJ1bGxldHMubGVuZ3RoICE9IDApe1xuICAgICAgICAgICAgICAgIHZhciBCdWxsZXRXaWR0aCA9IGNhbnYud2lkdGgvMTAwO1xuICAgICAgICAgICAgICAgIHZhciBCdWxsZXRIZWlnaHQgPSBCdWxsZXRXaWR0aCAqIEFsbEJ1bGxldHNbMF0uaW1hZ2UuaGVpZ2h0L0FsbEJ1bGxldHNbMF0uaW1hZ2Uud2lkdGg7XG5cbiAgICAgICAgICAgICAgICBmb3IodmFyIGJ1bGxldCBpbiBBbGxCdWxsZXRzKXtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGIgPSBBbGxCdWxsZXRzW2J1bGxldF07XG4gICAgICAgICAgICAgICAgICAgIGIud2lkdGggPSBCdWxsZXRXaWR0aDtcbiAgICAgICAgICAgICAgICAgICAgYi5oZWlnaHQgPSBCdWxsZXRIZWlnaHQ7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYoYi5leHBsb2RlU3RhZ2UgPT0gMCl7XG4gICAgICAgICAgICAgICAgICAgICAgICAvL0RyYXcgYnVsbGV0XG4gICAgICAgICAgICAgICAgICAgICAgICBjdHguc2F2ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3R4LnRyYW5zbGF0ZShiLngqcmF0aW8sIGIueSpyYXRpbyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdHgucm90YXRlKGIucm90YXRpb24vMTgwKk1hdGguUEkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3R4LmRyYXdJbWFnZShiLmltYWdlLCAtQnVsbGV0V2lkdGgvMiwgLUJ1bGxldEhlaWdodC8yLCBCdWxsZXRXaWR0aCwgQnVsbGV0SGVpZ2h0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN0eC5yZXN0b3JlKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIEFsbEJ1bGxldHNbYnVsbGV0XS54ID0gTWF0aC5jb3MoKGIucm90YXRpb24gLSA5MCkvMTgwKk1hdGguUEkpICsgYi54O1xuICAgICAgICAgICAgICAgICAgICAgICAgQWxsQnVsbGV0c1tidWxsZXRdLnkgPSBNYXRoLnNpbigoYi5yb3RhdGlvbiAtIDkwKS8xODAqTWF0aC5QSSkrIGIueTtcbiAgICAgICAgICAgICAgICAgICAgfWVsc2UgaWYoYi5leHBsb2RlU3RhZ2UgPCA0KXtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vRHJhdyBleHBsb3Npb25cbiAgICAgICAgICAgICAgICAgICAgICAgIGN0eC5zYXZlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdHgudHJhbnNsYXRlKGIueCpyYXRpbywgYi55KnJhdGlvKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN0eC5kcmF3SW1hZ2UoYi5leHBsb3Npb25JbWFnZSwgLUJ1bGxldFdpZHRoLCAtQnVsbGV0V2lkdGgsIEJ1bGxldFdpZHRoKjIsIEJ1bGxldFdpZHRoKjIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3R4LnJlc3RvcmUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYoQWxsUGxheWVycy5sZW5ndGggIT0gMCl7XG4gICAgICAgICAgICAgICAgdmFyIFNwYWNlc2hpcFdpZHRoID0gY2Fudi53aWR0aC8yMDtcbiAgICAgICAgICAgICAgICB2YXIgU3BhY2VzaGlwSGVpZ2h0ID0gU3BhY2VzaGlwV2lkdGggKiBBbGxQbGF5ZXJzWzBdLmltYWdlLmhlaWdodC8gQWxsUGxheWVyc1swXS5pbWFnZS53aWR0aDtcblxuICAgICAgICAgICAgICAgIGZvcih2YXIgcGxheWVyIGluIEFsbFBsYXllcnMpe1xuICAgICAgICAgICAgICAgICAgICB2YXIgcCA9IEFsbFBsYXllcnNbcGxheWVyXTtcbiAgICAgICAgICAgICAgICAgICAgcC53aWR0aCA9IFNwYWNlc2hpcFdpZHRoO1xuICAgICAgICAgICAgICAgICAgICBwLmhlaWdodCA9IFNwYWNlc2hpcEhlaWdodDtcbiAgICAgICAgICAgICAgICAgICAgY3R4LnNhdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgY3R4LnRyYW5zbGF0ZShwLngqcmF0aW8sIHAueSpyYXRpbyk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYocC5leHBsb2RlU3RhZ2UgPT0gLTEpe1xuICAgICAgICAgICAgICAgICAgICAgICAgY3R4LnJvdGF0ZShwLnJvdGF0aW9uLzE4MCpNYXRoLlBJKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN0eC5kcmF3SW1hZ2UocC5pbWFnZSwgLVNwYWNlc2hpcFdpZHRoLzIsIC1TcGFjZXNoaXBIZWlnaHQvMiwgU3BhY2VzaGlwV2lkdGgsIFNwYWNlc2hpcEhlaWdodCk7XG4gICAgICAgICAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgICAgICAgICAgQWxsUGxheWVyc1twbGF5ZXJdLmV4cGxvZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZihwLmRhbWFnZSA+IDAgJiYgcC5leHBsb2RlU3RhZ2UgPD0gMTQwKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN0eC5kcmF3SW1hZ2UocC5kYW1hZ2VJbWFnZSwgLVNwYWNlc2hpcFdpZHRoLzIsIC1TcGFjZXNoaXBIZWlnaHQvMiwgU3BhY2VzaGlwV2lkdGgsIFNwYWNlc2hpcEhlaWdodCk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZihwLmRhbWFnZTw0KXtcbiAgICAgICAgICAgICAgICAgICAgICAgIEFsbFBsYXllcnNbcGxheWVyXS54ID0gTWF0aC5jb3MoKHAucm90YXRpb24gLSA5MCkvMTgwKk1hdGguUEkpLzEwKiBwLnNwZWVkICsgcC54O1xuICAgICAgICAgICAgICAgICAgICAgICAgQWxsUGxheWVyc1twbGF5ZXJdLnkgPSBNYXRoLnNpbigocC5yb3RhdGlvbiAtIDkwKS8xODAqTWF0aC5QSSkvMTAqIHAuc3BlZWQgKyBwLnk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYocC5zaGllbGQgJiYgcC5leHBsb2RlU3RhZ2UgPT0gLTEpe1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIFNoaWVsZFdpZHRoID0gU3BhY2VzaGlwV2lkdGggKiAxLjU7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgU2hpZWxkSGVpZ2h0ID0gU2hpZWxkV2lkdGggLyBwLnNoaWVsZEltYWdlLndpZHRoICogcC5zaGllbGRJbWFnZS5oZWlnaHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdHguZHJhd0ltYWdlKHAuc2hpZWxkSW1hZ2UsIC1TaGllbGRXaWR0aC8yLCAtU2hpZWxkSGVpZ2h0LzIsIFNoaWVsZFdpZHRoLCBTaGllbGRIZWlnaHQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIEFsbFBsYXllcnNbcGxheWVyXS5jaGVja1Bvd2VydXAoKTtcbiAgICAgICAgICAgICAgICAgICAgY3R4LnJlc3RvcmUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmKEFsbEFzdGVyb2lkcy5sZW5ndGg+MCl7XG4gICAgICAgICAgICAgICAgZm9yKHZhciBBc3Rlcm9pZCBpbiBBbGxBc3Rlcm9pZHMpe1xuICAgICAgICAgICAgICAgICAgICB2YXIgYSA9IEFsbEFzdGVyb2lkc1tBc3Rlcm9pZF07XG4gICAgICAgICAgICAgICAgICAgIGEud2lkdGggPSBjYW52LndpZHRoLzcwMCogYS5pbWFnZS53aWR0aDtcbiAgICAgICAgICAgICAgICAgICAgYS5oZWlnaHQgPSBhLndpZHRoKiBhLmltYWdlLmhlaWdodC8gYS5pbWFnZS53aWR0aDtcbiAgICAgICAgICAgICAgICAgICAgY3R4LnNhdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgY3R4LnRyYW5zbGF0ZShhLngqcmF0aW8sIGEueSpyYXRpbyk7XG4gICAgICAgICAgICAgICAgICAgIGN0eC5yb3RhdGUoYS5yb3RhdGlvbi8xODAqTWF0aC5QSSk7XG4gICAgICAgICAgICAgICAgICAgIGN0eC5kcmF3SW1hZ2UoYS5pbWFnZSwgLWEud2lkdGgvMiwgLWEuaGVpZ2h0LzIsIGEud2lkdGgsIGEuaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICAgICAgY3R4LnJlc3RvcmUoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYoYS54IDwgLTUgfHwgYS54ID4gMTA1IHx8IGEueSA8IC01IHx8IGEueSA+IDEwNSl7XG4gICAgICAgICAgICAgICAgICAgICAgICAvL25pZXV3ZSBhc3Rlcm9pZCB0ZWtlbmVuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIga2V1emUgPSBNYXRoLnJhbmRvbSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYoa2V1emUgPCAwLjI1KXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2xpbmtzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQWxsQXN0ZXJvaWRzW0FzdGVyb2lkXS54ID0gLTQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQWxsQXN0ZXJvaWRzW0FzdGVyb2lkXS55ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKjEwMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQWxsQXN0ZXJvaWRzW0FzdGVyb2lkXS5yb3RhdGlvbiA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSoxODApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2UgaWYoa2V1emUgPCAwLjUpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vYm92ZW5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBBbGxBc3Rlcm9pZHNbQXN0ZXJvaWRdLnggPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqMTAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBBbGxBc3Rlcm9pZHNbQXN0ZXJvaWRdLnkgPSAtNDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBBbGxBc3Rlcm9pZHNbQXN0ZXJvaWRdLnJvdGF0aW9uID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKjE4MCkgKyA5MDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNlIGlmKGtldXplIDwgMC43NSl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9yZWNodHNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBBbGxBc3Rlcm9pZHNbQXN0ZXJvaWRdLnggPSAxMDQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQWxsQXN0ZXJvaWRzW0FzdGVyb2lkXS55ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKjEwMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQWxsQXN0ZXJvaWRzW0FzdGVyb2lkXS5yb3RhdGlvbiA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSoxODApICsgMTgwO1xuICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9vbmRlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFsbEFzdGVyb2lkc1tBc3Rlcm9pZF0ueCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSoxMDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFsbEFzdGVyb2lkc1tBc3Rlcm9pZF0ueSA9IDEwNDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBBbGxBc3Rlcm9pZHNbQXN0ZXJvaWRdLnJvdGF0aW9uID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKjE4MCkgKyAyNzA7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBBbGxBc3Rlcm9pZHNbQXN0ZXJvaWRdLnNwZWVkID0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIEFsbEFzdGVyb2lkc1tBc3Rlcm9pZF0uc2V0SW1hZ2UoTWF0aC5jZWlsKE1hdGgucmFuZG9tKCkqMTgpKTtcblxuICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgICAgIEFsbEFzdGVyb2lkc1tBc3Rlcm9pZF0ueCA9IE1hdGguY29zKChhLnJvdGF0aW9uIC0gOTApLzE4MCpNYXRoLlBJKS8zMCpBbGxBc3Rlcm9pZHNbQXN0ZXJvaWRdLnNwZWVkICsgYS54O1xuICAgICAgICAgICAgICAgICAgICAgICAgQWxsQXN0ZXJvaWRzW0FzdGVyb2lkXS55ID0gTWF0aC5zaW4oKGEucm90YXRpb24gLSA5MCkvMTgwKk1hdGguUEkpLzMwKkFsbEFzdGVyb2lkc1tBc3Rlcm9pZF0uc3BlZWQgKyBhLnk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNoZWNrQnVsbGV0cygpO1xuXG4gICAgICAgICAgICBjb2xsaXNpb25EZXRlY3Rpb24oKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGNoZWNrQnVsbGV0cygpe1xuICAgICAgICAgICAgZm9yKHZhciBiIGluIEFsbEJ1bGxldHMpe1xuICAgICAgICAgICAgICAgIGlmKEFsbEJ1bGxldHNbYl0ueCA8IDAgfHwgQWxsQnVsbGV0c1tiXS54ID4gY2Fudi53aWR0aCB8fCBBbGxCdWxsZXRzW2JdLnkgPCAwIHx8IEFsbEJ1bGxldHNbYl0ueSA+IGNhbnYuaGVpZ2h0KXtcbiAgICAgICAgICAgICAgICAgICAgQWxsQnVsbGV0cy5zcGxpY2UoYiwgMSk7XG4gICAgICAgICAgICAgICAgfWVsc2UgaWYoQWxsQnVsbGV0c1tiXS5leHBsb2RlU3RhZ2UgPjApIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKEFsbEJ1bGxldHNbYl0uZXhwbG9kZVN0YWdlIDwgNCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgQWxsQnVsbGV0c1tiXS5leHBsb2RlKCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBBbGxCdWxsZXRzLnNwbGljZShiLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGNvbGxpc2lvbkRldGVjdGlvbigpe1xuICAgICAgICAgICAgLy9QbGF5ZXIgLSBCdWxsZXRcbiAgICAgICAgICAgIHZhciBsaXZpbmdQbGF5ZXJzPVtdO1xuICAgICAgICAgICAgZm9yKHZhciBwIGluIEFsbFBsYXllcnMpe1xuICAgICAgICAgICAgICAgIGlmKEFsbFBsYXllcnNbcF0uZGFtYWdlPDQpe1xuICAgICAgICAgICAgICAgICAgICBsaXZpbmdQbGF5ZXJzLnB1c2goQWxsUGxheWVyc1twXSk7XG4gICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmb3IodmFyIGIgaW4gQWxsQnVsbGV0cyl7XG4gICAgICAgICAgICAgICAgICAgIGlmKEFsbEJ1bGxldHNbYl0uZXhwbG9kZVN0YWdlID09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChBbGxCdWxsZXRzW2JdLnBsYXllciAhPSBBbGxQbGF5ZXJzW3BdLnVzZXJOYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJhZGl1cyA9IE1hdGguc3FydCgyKSAvIDIgKiAoQWxsQnVsbGV0c1tiXS5oZWlnaHQgLyAyIC0gQWxsQnVsbGV0c1tiXS53aWR0aCAvIDIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhbmdsZSA9ICgzNjAgLSAoQWxsQnVsbGV0c1tiXS5yb3RhdGlvbikpIC8gMTgwICogTWF0aC5QSTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYnVsbGV0SGVhZFggPSAoQWxsQnVsbGV0c1tiXS54ICogY2Fudi53aWR0aCAvIDEwMCAtIChyYWRpdXMgKiBNYXRoLnNpbihhbmdsZSkpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYnVsbGV0SGVhZFkgPSAoQWxsQnVsbGV0c1tiXS55ICogY2Fudi53aWR0aCAvIDEwMCAtIChyYWRpdXMgKiBNYXRoLmNvcyhhbmdsZSkpKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzcGFjZVNoaXBYID0gQWxsUGxheWVyc1twXS54ICogY2Fudi53aWR0aCAvIDEwMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3BhY2VTaGlwWSA9IEFsbFBsYXllcnNbcF0ueSAqIGNhbnYud2lkdGggLyAxMDA7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGlzdGFuY2UgPSBNYXRoLnNxcnQoKGJ1bGxldEhlYWRYIC0gc3BhY2VTaGlwWCkgKiAoYnVsbGV0SGVhZFggLSBzcGFjZVNoaXBYKSArIChidWxsZXRIZWFkWSAtIHNwYWNlU2hpcFkpICogKGJ1bGxldEhlYWRZIC0gc3BhY2VTaGlwWSkpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNoaWVsZFJhdGlvID0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihBbGxQbGF5ZXJzW3BdLnNoaWVsZCl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNoaWVsZFJhdGlvID0gMS41O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkaXN0YW5jZSA8IChBbGxCdWxsZXRzW2JdLndpZHRoIC8gMiArIEFsbFBsYXllcnNbcF0ud2lkdGggLyAyICogc2hpZWxkUmF0aW8pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkYW1hZ2Vzb3VuZCA9IG5ldyBBdWRpbygnLi4vLi4vYXNzZXRzL0JvbnVzL3NmeF9sb3NlLm9nZycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYW1hZ2Vzb3VuZC5wbGF5KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCFBbGxQbGF5ZXJzW3BdLnNoaWVsZCl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBbGxQbGF5ZXJzW3BdLmluY3JlYXNlRGFtYWdlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IHt9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS51c2VybmFtZSA9IEFsbFBsYXllcnNbcF0udXNlck5hbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLmxpZmUgPSAzLUFsbFBsYXllcnNbcF0uZGFtYWdlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc29ja2V0U2VydmljZS5lbWl0KFwicGxheWVyTGlmZVwiLGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFsbEJ1bGxldHNbYl0uZXhwbG9kZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvL1BsYXllciAtIEFzdGVyb2lkXG4gICAgICAgICAgICAgICAgZm9yKHZhciBhIGluIEFsbEFzdGVyb2lkcyl7XG4gICAgICAgICAgICAgICAgICAgIHZhciBhc3Rlcm9pZFggPSBBbGxBc3Rlcm9pZHNbYV0ueCAqIGNhbnYud2lkdGggLyAxMDA7XG4gICAgICAgICAgICAgICAgICAgIHZhciBhc3Rlcm9pZFkgPSBBbGxBc3Rlcm9pZHNbYV0ueSAqIGNhbnYud2lkdGggLyAxMDA7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIHNwYWNlU2hpcFggPSBBbGxQbGF5ZXJzW3BdLnggKiBjYW52LndpZHRoIC8gMTAwO1xuICAgICAgICAgICAgICAgICAgICB2YXIgc3BhY2VTaGlwWSA9IEFsbFBsYXllcnNbcF0ueSAqIGNhbnYud2lkdGggLyAxMDA7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGRpc3RhbmNlID0gTWF0aC5zcXJ0KChhc3Rlcm9pZFggLSBzcGFjZVNoaXBYKSAqIChhc3Rlcm9pZFggLSBzcGFjZVNoaXBYKSArIChhc3Rlcm9pZFkgLSBzcGFjZVNoaXBZKSAqIChhc3Rlcm9pZFkgLSBzcGFjZVNoaXBZKSk7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIHNoaWVsZFJhdGlvID0gMTtcbiAgICAgICAgICAgICAgICAgICAgaWYoQWxsUGxheWVyc1twXS5zaGllbGQpe1xuICAgICAgICAgICAgICAgICAgICAgICAgc2hpZWxkUmF0aW8gPSAxLjU7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAoZGlzdGFuY2UgPCAoQWxsQXN0ZXJvaWRzW2FdLndpZHRoIC8gMiArIEFsbFBsYXllcnNbcF0ud2lkdGggLyAyICogc2hpZWxkUmF0aW8pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZihBbGxBc3Rlcm9pZHNbYV0uYm94ID09IGZhbHNlKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBBbGxBc3Rlcm9pZHNbYV0uYm94ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGFtYWdlc291bmQgPSBuZXcgQXVkaW8oJy4uLy4uL2Fzc2V0cy9Cb251cy9zZnhfbG9zZS5vZ2cnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYW1hZ2Vzb3VuZC5wbGF5KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoQWxsUGxheWVyc1twXS5zaGllbGQpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYW5nbGUgPSBNYXRoLmF0YW4oKChBbGxBc3Rlcm9pZHNbYV0ueSAtIEFsbFBsYXllcnNbcF0ueSkvKEFsbEFzdGVyb2lkc1thXS54IC0gQWxsUGxheWVyc1twXS54KSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBbGxBc3Rlcm9pZHNbYV0ucm90YXRpb24gPSBhbmdsZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQWxsQXN0ZXJvaWRzW2FdLnNwZWVkID0gNipBbGxQbGF5ZXJzW3BdLnNwZWVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBbGxQbGF5ZXJzW3BdLmRlYWQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGEgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS51c2VybmFtZSA9IEFsbFBsYXllcnNbcF0udXNlck5hbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEubGlmZSA9IDMtQWxsUGxheWVyc1twXS5kYW1hZ2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvY2tldFNlcnZpY2UuZW1pdChcInBsYXllckxpZmVcIixkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1lbHNlIGlmKGRpc3RhbmNlID4gKEFsbEFzdGVyb2lkc1thXS53aWR0aCAvIDIgKyBBbGxQbGF5ZXJzW3BdLndpZHRoIC8gMiAqIHNoaWVsZFJhdGlvICsgMTAwKSl7XG4gICAgICAgICAgICAgICAgICAgICAgICBBbGxBc3Rlcm9pZHNbYV0uYm94ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvL1BsYXllciAtIFBsYXllclxuICAgICAgICAgICAgICAgIGZvcih2YXIgYSBpbiBBbGxQbGF5ZXJzKXtcbiAgICAgICAgICAgICAgICAgICAgaWYoQWxsUGxheWVyc1thXS5kYW1hZ2UgPT0gNCl7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZihhIT1wKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzcGFjZVNoaXAxWCA9IEFsbFBsYXllcnNbYV0ueCAqIGNhbnYud2lkdGggLyAxMDA7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3BhY2VTaGlwMVkgPSBBbGxQbGF5ZXJzW2FdLnkgKiBjYW52LndpZHRoIC8gMTAwO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3BhY2VTaGlwWCA9IEFsbFBsYXllcnNbcF0ueCAqIGNhbnYud2lkdGggLyAxMDA7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3BhY2VTaGlwWSA9IEFsbFBsYXllcnNbcF0ueSAqIGNhbnYud2lkdGggLyAxMDA7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzaGllbGRSYXRpbyA9IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZihBbGxQbGF5ZXJzW3BdLnNoaWVsZCl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hpZWxkUmF0aW8gPSAxLjU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzaGllbGRSYXRpbzEgPSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYoQWxsUGxheWVyc1thXS5zaGllbGQpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNoaWVsZFJhdGlvMSA9IDEuNTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRpc3RhbmNlID0gTWF0aC5zcXJ0KChzcGFjZVNoaXAxWCAtIHNwYWNlU2hpcFgpICogKHNwYWNlU2hpcDFYIC0gc3BhY2VTaGlwWCkgKyAoc3BhY2VTaGlwMVkgLSBzcGFjZVNoaXBZKSAqIChzcGFjZVNoaXAxWSAtIHNwYWNlU2hpcFkpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkaXN0YW5jZSA8IChBbGxQbGF5ZXJzW2FdLndpZHRoIC8gMiAqIHNoaWVsZFJhdGlvMSArIEFsbFBsYXllcnNbcF0ud2lkdGggLyAyICogc2hpZWxkUmF0aW8pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRhbWFnZXNvdW5kID0gbmV3IEF1ZGlvKCcuLi8uLi9hc3NldHMvQm9udXMvc2Z4X2xvc2Uub2dnJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGFtYWdlc291bmQucGxheSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFsbFBsYXllcnNbcF0uZGVhZCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFsbFBsYXllcnNbYV0uZGVhZCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkYXRhID0ge307XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS51c2VybmFtZSA9IEFsbFBsYXllcnNbcF0udXNlck5hbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5saWZlID0gMy1BbGxQbGF5ZXJzW3BdLmRhbWFnZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb2NrZXRTZXJ2aWNlLmVtaXQoXCJwbGF5ZXJMaWZlXCIsZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS51c2VybmFtZSA9IEFsbFBsYXllcnNbYV0udXNlck5hbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5saWZlID0gMy1BbGxQbGF5ZXJzW2FdLmRhbWFnZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb2NrZXRTZXJ2aWNlLmVtaXQoXCJwbGF5ZXJMaWZlXCIsZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvL1BsYXllciAtIFdhbGxcbiAgICAgICAgICAgICAgICBpZihBbGxQbGF5ZXJzW3BdLngqY2Fudi53aWR0aC8xMDAgPCBBbGxQbGF5ZXJzW3BdLmhlaWdodC8yIHx8IEFsbFBsYXllcnNbcF0ueCpjYW52LndpZHRoLzEwMCA+IGNhbnYud2lkdGgtKEFsbFBsYXllcnNbcF0uaGVpZ2h0LzIpfHxcbiAgICAgICAgICAgICAgICAgICAgQWxsUGxheWVyc1twXS55KmNhbnYud2lkdGgvMTAwIDwgQWxsUGxheWVyc1twXS5oZWlnaHQvMiB8fCBBbGxQbGF5ZXJzW3BdLnkqY2Fudi53aWR0aC8xMDAgPiBjYW52LndpZHRoLShBbGxQbGF5ZXJzW3BdLmhlaWdodC8yKSl7XG4gICAgICAgICAgICAgICAgICAgIHZhciBkYW1hZ2Vzb3VuZCA9IG5ldyBBdWRpbygnLi4vLi4vYXNzZXRzL0JvbnVzL3NmeF9sb3NlLm9nZycpO1xuICAgICAgICAgICAgICAgICAgICBkYW1hZ2Vzb3VuZC5wbGF5KCk7XG4gICAgICAgICAgICAgICAgICAgIEFsbFBsYXllcnNbcF0uZGVhZCgpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IHt9O1xuICAgICAgICAgICAgICAgICAgICBkYXRhLnVzZXJuYW1lID0gQWxsUGxheWVyc1twXS51c2VyTmFtZTtcbiAgICAgICAgICAgICAgICAgICAgZGF0YS5saWZlID0gMy1BbGxQbGF5ZXJzW3BdLmRhbWFnZTtcbiAgICAgICAgICAgICAgICAgICAgc29ja2V0U2VydmljZS5lbWl0KFwicGxheWVyTGlmZVwiLGRhdGEpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vUGxheWVyIC0gUG93ZXJ1cFxuICAgICAgICAgICAgICAgIGZvcih2YXIgYSBpbiBBbGxQb3dlclVwcyl7XG4gICAgICAgICAgICAgICAgICAgIHZhciBwb3dlcnVwWCA9IEFsbFBvd2VyVXBzW2FdLnggKiBjYW52LndpZHRoIC8gMTAwO1xuICAgICAgICAgICAgICAgICAgICB2YXIgcG93ZXJ1cFkgPSBBbGxQb3dlclVwc1thXS55ICogY2Fudi53aWR0aCAvIDEwMDtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgc3BhY2VTaGlwWCA9IEFsbFBsYXllcnNbcF0ueCAqIGNhbnYud2lkdGggLyAxMDA7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzcGFjZVNoaXBZID0gQWxsUGxheWVyc1twXS55ICogY2Fudi53aWR0aCAvIDEwMDtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgZGlzdGFuY2UgPSBNYXRoLnNxcnQoKHBvd2VydXBYIC0gc3BhY2VTaGlwWCkgKiAocG93ZXJ1cFggLSBzcGFjZVNoaXBYKSArIChwb3dlcnVwWSAtIHNwYWNlU2hpcFkpICogKHBvd2VydXBZIC0gc3BhY2VTaGlwWSkpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGlzdGFuY2UgPCAoQWxsUG93ZXJVcHNbYV0ud2lkdGggLyAyICsgQWxsUGxheWVyc1twXS53aWR0aCAvIDIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcG93ZXJ1cFNvdW5kID0gbmV3IEF1ZGlvKCcuLi8uLi9hc3NldHMvQm9udXMvc2Z4X3phcC5vZ2cnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvd2VydXBTb3VuZC5wbGF5KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZihBbGxQb3dlclVwc1thXS5ib29sU2VsZiA9PSAxKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IodmFyIHBsYXllciBpbiBBbGxQbGF5ZXJzKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYocGxheWVyICE9IHApe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQWxsUGxheWVyc1twbGF5ZXJdLmFkZFBvd2VydXAoQWxsUG93ZXJVcHNbYV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQWxsUGxheWVyc1twXS5hZGRQb3dlcnVwKEFsbFBvd2VyVXBzW2FdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKEFsbFBvd2VyVXBzW2FdLnR5cGUgPT0gMyl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGEgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLnVzZXJuYW1lID0gQWxsUGxheWVyc1twXS51c2VyTmFtZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLmxpZmUgPSAzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvY2tldFNlcnZpY2UuZW1pdChcInBsYXllckxpZmVcIiwgZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBBbGxQb3dlclVwcy5zcGxpY2UoYSwgMSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy9CdWxsZXQgLSBBc3Rlcm9pZFxuICAgICAgICAgICAgZm9yKHZhciBhIGluIEFsbEFzdGVyb2lkcykge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGIgaW4gQWxsQnVsbGV0cykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoQWxsQnVsbGV0c1tiXS5leHBsb2RlU3RhZ2UgPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKEFsbEJ1bGxldHNbYl0ucGxheWVyICE9IEFsbEFzdGVyb2lkc1thXS51c2VyTmFtZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByYWRpdXMgPSBNYXRoLnNxcnQoMikgLyAyICogKEFsbEJ1bGxldHNbYl0uaGVpZ2h0IC8gMiAtIEFsbEJ1bGxldHNbYl0ud2lkdGggLyAyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYW5nbGUgPSAoMzYwIC0gKEFsbEJ1bGxldHNbYl0ucm90YXRpb24pKSAvIDE4MCAqIE1hdGguUEk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGJ1bGxldEhlYWRYID0gKEFsbEJ1bGxldHNbYl0ueCAqIGNhbnYud2lkdGggLyAxMDAgLSAocmFkaXVzICogTWF0aC5zaW4oYW5nbGUpKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGJ1bGxldEhlYWRZID0gKEFsbEJ1bGxldHNbYl0ueSAqIGNhbnYud2lkdGggLyAxMDAgLSAocmFkaXVzICogTWF0aC5jb3MoYW5nbGUpKSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYXN0ZXJvaWRYID0gQWxsQXN0ZXJvaWRzW2FdLnggKiBjYW52LndpZHRoIC8gMTAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhc3Rlcm9pZFkgPSBBbGxBc3Rlcm9pZHNbYV0ueSAqIGNhbnYud2lkdGggLyAxMDA7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGlzdGFuY2UgPSBNYXRoLnNxcnQoKGJ1bGxldEhlYWRYIC0gYXN0ZXJvaWRYKSAqIChidWxsZXRIZWFkWCAtIGFzdGVyb2lkWCkgKyAoYnVsbGV0SGVhZFkgLSBhc3Rlcm9pZFkpICogKGJ1bGxldEhlYWRZIC0gYXN0ZXJvaWRZKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRpc3RhbmNlIDwgKEFsbEJ1bGxldHNbYl0ud2lkdGggLyAyICsgQWxsQXN0ZXJvaWRzW2FdLndpZHRoIC8gMikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGEgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS51c2VybmFtZSA9IEFsbEFzdGVyb2lkc1thXS51c2VyTmFtZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5saWZlID0gMyAtIEFsbEFzdGVyb2lkc1thXS5kYW1hZ2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvY2tldFNlcnZpY2UuZW1pdChcInBsYXllckxpZmVcIiwgZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFsbEJ1bGxldHNbYl0uZXhwbG9kZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy9cblxuICAgICAgICAgICAgaWYobGl2aW5nUGxheWVycy5sZW5ndGg9PTEpe1xuICAgICAgICAgICAgICAgIGVuZEdhbWUobGl2aW5nUGxheWVycyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBlbmRHYW1lKGxpdmluZ1BsYXllcnMpe1xuICAgICAgICAgICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKGN5Y2xlKSkge1xuICAgICAgICAgICAgICAgICRpbnRlcnZhbC5jYW5jZWwoY3ljbGUpO1xuICAgICAgICAgICAgICAgIGN5Y2xlID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgJHNjb3BlLmVuZEdhbWU9dHJ1ZTtcbiAgICAgICAgICAgICRzY29wZS5lbmRHYW1lVGV4dD0gbGl2aW5nUGxheWVyc1swXS51c2VyTmFtZSArIFwiIGlzIHRoZSB3aW5uZXIhXCI7XG4gICAgICAgICAgICBzb2NrZXRTZXJ2aWNlLmVtaXQoXCJlbmRHYW1lXCIsIGxpdmluZ1BsYXllcnNbMF0udXNlck5hbWUpO1xuICAgICAgICB9XG4gICAgICAgICRzY29wZS5yZXN0YXJ0R2FtZSA9IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAkc2NvcGUuZW5kR2FtZT1mYWxzZTtcbiAgICAgICAgICAgIHZhciB0ZWxsZXI9MDtcbiAgICAgICAgICAgIGZvcih2YXIgcCBpbiBBbGxQbGF5ZXJzKXtcbiAgICAgICAgICAgICAgICBBbGxQbGF5ZXJzW3BdLnJlc2V0KGRlZmF1bHRWYXJzW3RlbGxlcl0ueCxkZWZhdWx0VmFyc1t0ZWxsZXJdLnksZGVmYXVsdFZhcnNbdGVsbGVyXS5yb3RhdGlvbik7XG4gICAgICAgICAgICAgICAgdGVsbGVyKys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBBbGxBc3Rlcm9pZHM9W107XG4gICAgICAgICAgICBmb3IodmFyIGkgPSAwOyBpPDE1OyBpKyspe1xuICAgICAgICAgICAgICAgIEFsbEFzdGVyb2lkcy5wdXNoKG5ldyBBc3Rlcm9pZChjcmVhdGVDb29yZGluYXRlWCgpLCBjcmVhdGVDb29yZGluYXRlWSgpLCBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqMzYxKSwgTWF0aC5jZWlsKE1hdGgucmFuZG9tKCkqMTgpKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBBbGxCdWxsZXRzID0gW107XG4gICAgICAgICAgICBBbGxQb3dlclVwcyA9IFtdO1xuICAgICAgICAgICAgUG93ZXJ1cFNwYXduVGltZSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSo1MDAgKyA1MDApO1xuXG4gICAgICAgICAgICBjdHguY2xlYXJSZWN0KDAsMCxjYW52LndpZHRoLCBjYW52LmhlaWdodCk7XG4gICAgICAgICAgICBzb2NrZXRTZXJ2aWNlLmVtaXQoXCJyZXN0YXJ0R2FtZVwiLG51bGwpO1xuICAgICAgICAgICAgY3ljbGUgPSAkaW50ZXJ2YWwoZHJhdywgMTApO1xuICAgICAgICB9O1xuICAgIH07XG5cbiAgICBhbmd1bGFyLm1vZHVsZShcImFwcFwiKS5jb250cm9sbGVyKFwicGxheUNvbnRyb2xsZXJcIiwgW1wiJHNjb3BlXCIsIFwiJGludGVydmFsXCIsIFwiJHdpbmRvd1wiLCBcInNvY2tldFNlcnZpY2VcIiwgXCJkaXNwbGF5U2VydmljZVwiLCBcInBsYXllclNlcnZpY2VcIiwgcGxheUNvbnRyb2xsZXJdKVxufSkoKTsiLCIvKipcbiAqIENyZWF0ZWQgYnkganVzdGlqbmRlcG92ZXIgb24gMTYvMTIvMTUuXG4gKi9cbihmdW5jdGlvbigpe1xuICAgIHZhciBjYW52YXNEaXJlY3RpdmUgPSBmdW5jdGlvbigkd2luZG93KXtcbiAgICAgICAgcmV0dXJue1xuICAgICAgICAgICAgcmVzdHJpY3Q6ICdFJyxcbiAgICAgICAgICAgIGxpbms6bGluayxcbiAgICAgICAgICAgIHJlcGxhY2U6dHJ1ZSxcbiAgICAgICAgICAgIHRlbXBsYXRlOic8Y2FudmFzIGlkPVwiZ2FtZVwiIGNsYXNzPVwicGxheUFyZWFcIiB3aWR0aD1cInt7d2lkdGh9fVwiIGhlaWdodD1cInt7d2lkdGh9fVwiIC8+J1xuICAgICAgICB9O1xuXG4gICAgICAgIGZ1bmN0aW9uIGxpbmsoc2NvcGUsIGVsZW1lbnQsIGF0dHJzKXtcbiAgICAgICAgICAgIGlmKCR3aW5kb3cuaW5uZXJXaWR0aCA8ICR3aW5kb3cuaW5uZXJIZWlnaHQpe1xuICAgICAgICAgICAgICAgIHNjb3BlLndpZHRoID0gJHdpbmRvdy5pbm5lcldpZHRoIC0gMjA7XG4gICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICBzY29wZS53aWR0aCA9ICR3aW5kb3cuaW5uZXJIZWlnaHQgLSAyMDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYW5ndWxhci5lbGVtZW50KCR3aW5kb3cpLmJpbmQoJ3Jlc2l6ZScsIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgaWYoJHdpbmRvdy5pbm5lcldpZHRoIDwgJHdpbmRvdy5pbm5lckhlaWdodCl7XG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLndpZHRoID0gJHdpbmRvdy5pbm5lcldpZHRoIC0gMjA7XG4gICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLndpZHRoID0gJHdpbmRvdy5pbm5lckhlaWdodCAtIDIwO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHNjb3BlLiRkaWdlc3QoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIGFuZ3VsYXIubW9kdWxlKCdhcHAnKS5kaXJlY3RpdmUoXCJjYW52YXNEaXJlY3RpdmVcIiwgW1wiJHdpbmRvd1wiLCBjYW52YXNEaXJlY3RpdmVdKTtcbn0pKCk7IiwiLyoqXG4gKiBDcmVhdGVkIGJ5IGp1c3Rpam5kZXBvdmVyIG9uIDIyLzEyLzE1LlxuICovXG5cbnZhciBCdWxsZXQgPSBmdW5jdGlvbih4LCB5LHJvdGF0aW9uLCBjb2xvciwgcGxheWVyKXtcbiAgICB0aGlzLnggPSB4O1xuICAgIHRoaXMueSA9IHk7XG4gICAgdGhpcy5yb3RhdGlvbiA9IHJvdGF0aW9uO1xuICAgIHRoaXMuaW1hZ2UgPSBuZXcgSW1hZ2UoKTtcbiAgICB0aGlzLmNvbG9yID0gY29sb3I7XG4gICAgdGhpcy53aWR0aCA9IDA7XG4gICAgdGhpcy5oZWlnaHQgPSAwO1xuICAgIHRoaXMucGxheWVyID0gcGxheWVyO1xuICAgIHRoaXMuZXhwbG9zaW9uSW1hZ2UgPSBuZXcgSW1hZ2UoKTtcbiAgICB0aGlzLmV4cGxvZGVTdGFnZSA9IDA7XG4gICAgaWYodGhpcy5jb2xvciA9PSBcIm9yYW5nZVwiKXtcbiAgICAgICAgdGhpcy5jb2xvciA9ICdyZWQnO1xuICAgIH1cbiAgICB0aGlzLmltYWdlLnNyYyA9ICcuLi9hc3NldHMvUE5HL0xhc2Vycy9sYXNlcicrIHRoaXMuY29sb3IuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyB0aGlzLmNvbG9yLnNsaWNlKDEpICsnMDEucG5nJ1xufTtcblxuQnVsbGV0LnByb3RvdHlwZS5leHBsb2RlID0gZnVuY3Rpb24oKXtcbiAgICBpZih0aGlzLmV4cGxvZGVTdGFnZSA8IDQpe1xuICAgICAgICB0aGlzLmV4cGxvZGVTdGFnZSsrO1xuICAgICAgICB2YXIgbnVtYmVyO1xuICAgICAgICBpZih0aGlzLmV4cGxvZGVTdGFnZSA8IDMpe1xuICAgICAgICAgICBudW1iZXIgPSAxXG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgbnVtYmVyID0gMlxuICAgICAgICB9XG4gICAgICAgIHRoaXMuZXhwbG9zaW9uSW1hZ2Uuc3JjID0gJy4uL2Fzc2V0cy9QTkcvTGFzZXJzL2xhc2VyJyArIHRoaXMuY29sb3IuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyB0aGlzLmNvbG9yLnNsaWNlKDEpICsgJ0V4cGxvZGUnKyBudW1iZXIgKycucG5nJztcbiAgICB9ZWxzZXtcbiAgICAgICAgdGhpcy5leHBsb3Npb25JbWFnZS5zcmMgPSAnJztcbiAgICB9XG59O1xuIiwiLyoqXG4gKiBDcmVhdGVkIGJ5IGp1c3Rpam5kZXBvdmVyIG9uIDA1LzAxLzE2LlxuICovXG5cblxudmFyIFBvd2VydXAgPSBmdW5jdGlvbih4LCB5LCB0eXBlLCBib29sU2VsZil7XG4gICAgdGhpcy54ID0geDtcbiAgICB0aGlzLnkgPSB5O1xuICAgIHRoaXMud2lkdGggPSAwO1xuICAgIHRoaXMuaGVpZ2h0ID0gMDtcbiAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgIHRoaXMuZHVyYXRpb24gPSAxMDAwO1xuICAgIHRoaXMucGxheWVyZHVyYXRpb24gPSAxMDAwO1xuICAgIHZhciBpbWFnZVR5cGU7XG4gICAgdGhpcy5pbWFnZSA9IG5ldyBJbWFnZSgpO1xuICAgIHRoaXMuYm9vbFNlbGYgPSBib29sU2VsZjtcbiAgICBzd2l0Y2godHlwZSl7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgIGltYWdlVHlwZSA9IFwiYm9sdF9cIjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICBpbWFnZVR5cGUgPSBcInNoaWVsZF9cIjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICBpbWFnZVR5cGUgPSBcInN0YXJfXCI7XG4gICAgICAgICAgICBicmVhaztcbiAgICB9XG5cbiAgICBzd2l0Y2goYm9vbFNlbGYpe1xuICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICBpbWFnZVR5cGUgKz0gXCJnb2xkLnBuZ1wiO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgIGltYWdlVHlwZSArPSBcInNpbHZlci5wbmdcIjtcbiAgICB9XG4gICAgdGhpcy5pbWFnZS5zcmMgPSBcIi4uL2Fzc2V0cy9QTkcvUG93ZXItdXBzL1wiICsgaW1hZ2VUeXBlO1xufTtcblxuUG93ZXJ1cC5wcm90b3R5cGUuZGVjcmVhc2VEdXJhdGlvbiA9IGZ1bmN0aW9uKCl7XG4gIGlmKHRoaXMuZHVyYXRpb24gPiAwKXtcbiAgICAgIHRoaXMuZHVyYXRpb24gLS07XG4gIH1cbn07IiwiLyoqXG4gKiBDcmVhdGVkIGJ5IGp1c3Rpam5kZXBvdmVyIG9uIDA5LzEyLzE1LlxuICovXG5cbnZhciBTcGFjZXNoaXAgPSBmdW5jdGlvbih1c2VyTmFtZSwgeCwgeSwgY29sb3IsIHJvdGF0aW9uKXtcbiAgICB0aGlzLnVzZXJOYW1lID0gdXNlck5hbWU7XG4gICAgdGhpcy54ID0geDtcbiAgICB0aGlzLnkgPSB5O1xuICAgIHRoaXMuc3BlZWQgPSAxO1xuICAgIHRoaXMuY29sb3IgPSBjb2xvcjtcbiAgICB0aGlzLnJvdGF0aW9uID0gcm90YXRpb247XG4gICAgdGhpcy5pbWFnZSA9IG5ldyBJbWFnZSgpO1xuICAgIHRoaXMuZGFtYWdlID0gMDtcbiAgICB0aGlzLndpZHRoID0gMDtcbiAgICB0aGlzLmhlaWdodCA9IDA7XG4gICAgdGhpcy5wb3dlcnVwcyA9IFtdO1xuICAgIHRoaXMuc2hpZWxkID0gdHJ1ZTtcbiAgICB0aGlzLnNoaWVsZEltYWdlID0gbmV3IEltYWdlKCk7XG4gICAgdGhpcy5zaGllbGRJbWFnZS5zcmMgPSBcIi4uL2Fzc2V0cy9QTkcvRWZmZWN0cy9zaGllbGQxLnBuZ1wiO1xuICAgIHRoaXMuZGFtYWdlSW1hZ2UgPSBuZXcgSW1hZ2UoKTtcbiAgICB0aGlzLmltYWdlLnNyYyA9ICcuLi9hc3NldHMvUE5HL3BsYXllclNoaXAxXycrIHRoaXMuY29sb3IgKycucG5nJztcbiAgICB0aGlzLmV4cGxvZGVTdGFnZSA9IC0xO1xufTtcblxuU3BhY2VzaGlwLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uICh4LCB5LCByb3RhdGlvbikge1xuICAgIHRoaXMuc3BlZWQgPSAxO1xuICAgIHRoaXMuZGFtYWdlID0gMDtcbiAgICB0aGlzLmRhbWFnZUltYWdlID0gbmV3IEltYWdlKCk7XG4gICAgdGhpcy5pbWFnZS5zcmMgPSAnLi4vYXNzZXRzL1BORy9wbGF5ZXJTaGlwMV8nKyB0aGlzLmNvbG9yICsnLnBuZyc7XG4gICAgdGhpcy54ID0geDtcbiAgICB0aGlzLnkgPSB5O1xuICAgIHRoaXMucm90YXRpb24gPSByb3RhdGlvbjtcbiAgICAvL3RoaXMuc2hpZWxkID0gZmFsc2U7XG4gICAgdGhpcy5leHBsb2RlU3RhZ2UgPSAtMTtcbn07XG5cblNwYWNlc2hpcC5wcm90b3R5cGUubW92ZVNwYWNlc2hpcCA9IGZ1bmN0aW9uKHgsIHkpe1xuICAgIHRoaXMueCA9IHg7XG4gICAgdGhpcy55ID0geTtcbn07XG5cblNwYWNlc2hpcC5wcm90b3R5cGUubW92ZVNwYWNlc2hpcFJlbGF0aXZlID0gZnVuY3Rpb24oeCwgeSl7XG4gICAgdGhpcy54ID0gdGhpcy54K3g7XG4gICAgdGhpcy55ID0gdGhpcy55K3k7XG59O1xuXG5TcGFjZXNoaXAucHJvdG90eXBlLnJvdGF0ZVNwYWNlc2hpcCA9IGZ1bmN0aW9uKGRlZ3JlZSl7XG4gICAgdGhpcy5yb3RhdGlvbiA9IGRlZ3JlZTtcbn07XG5cblNwYWNlc2hpcC5wcm90b3R5cGUucm90YXRlU3BhY2VzaGlwUmVsYXRpdmUgPSBmdW5jdGlvbihkZWdyZWUpe1xuICAgIGlmKGRlZ3JlZT44MCl7XG4gICAgICAgIGRlZ3JlZT04MDtcbiAgICB9ZWxzZSBpZiAoZGVncmVlPC04MCl7XG4gICAgICAgIGRlZ3JlZSA9IC04MDtcbiAgICB9XG4gICAgdGhpcy5yb3RhdGlvbiA9IHRoaXMucm90YXRpb24gKyBkZWdyZWUvNTtcbiAgICBpZih0aGlzLnJvdGF0aW9uIDwgLTM2MCl7XG4gICAgICAgIHRoaXMucm90YXRpb24gPSB0aGlzLnJvdGF0aW9uICsgNzIwO1xuICAgIH1cbiAgICBpZih0aGlzLnJvdGF0aW9uID4gMzYwKXtcbiAgICAgICAgdGhpcy5yb3RhdGlvbiA9IHRoaXMucm90YXRpb24gLSA3MjA7XG4gICAgfVxufTtcblxuU3BhY2VzaGlwLnByb3RvdHlwZS5pbmNyZWFzZURhbWFnZSA9IGZ1bmN0aW9uKCl7XG4gICAgaWYodGhpcy5kYW1hZ2UgPCA0KXtcbiAgICAgICAgdGhpcy5kYW1hZ2UgKz0gMTtcbiAgICB9XG5cbiAgICBpZih0aGlzLmRhbWFnZSA8PSAzICYmIHRoaXMuZGFtYWdlID4gMCl7XG4gICAgICAgIHRoaXMuZGFtYWdlSW1hZ2Uuc3JjID0gJy4uL2Fzc2V0cy9QTkcvRGFtYWdlL3BsYXllclNoaXAxX2RhbWFnZScrIHRoaXMuZGFtYWdlICsgJy5wbmcnO1xuICAgIH1lbHNlIGlmKHRoaXMuZGFtYWdlPT00KXtcbiAgICAgICAgdGhpcy5leHBsb2RlKCk7XG4gICAgfVxufTtcblxuU3BhY2VzaGlwLnByb3RvdHlwZS5kZWFkID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZGFtYWdlID0gNDtcbiAgICB0aGlzLmV4cGxvZGUoKTtcbn07XG5cblNwYWNlc2hpcC5wcm90b3R5cGUuZXhwbG9kZSA9IGZ1bmN0aW9uKCl7XG4gICAgaWYodGhpcy5leHBsb2RlU3RhZ2UgPD0gMTQwKXtcbiAgICAgICAgdGhpcy5leHBsb2RlU3RhZ2UgKys7XG4gICAgICAgIHRoaXMuZGFtYWdlSW1hZ2Uuc3JjID0gXCIuLi9hc3NldHMvUE5HL0RhbWFnZS9mcmFtZVwiICsgTWF0aC5mbG9vcih0aGlzLmV4cGxvZGVTdGFnZS8xMCkgKyBcIi5naWZcIjtcbiAgICB9XG59O1xuXG5TcGFjZXNoaXAucHJvdG90eXBlLmRlY3JlYXNlRGFtYWdlID0gZnVuY3Rpb24oKXtcbiAgICBpZih0aGlzLmRhbWFnZSA+IDApe1xuICAgICAgICB0aGlzLmRhbWFnZSAtPSAxO1xuICAgIH1cblxuICAgIGlmKHRoaXMuZGFtYWdlIDw9IDMgJiYgdGhpcy5kYW1hZ2UgPiAwKXtcbiAgICAgICAgdGhpcy5kYW1hZ2VJbWFnZS5zcmMgPSAnLi4vYXNzZXRzL1BORy9EYW1hZ2UvcGxheWVyU2hpcDFfZGFtYWdlJysgdGhpcy5kYW1hZ2UgKyAnLnBuZyc7XG4gICAgfVxufTtcblxuU3BhY2VzaGlwLnByb3RvdHlwZS5hZGRQb3dlcnVwID0gZnVuY3Rpb24ocG93ZXJ1cCl7XG4gICAgc3dpdGNoKHBvd2VydXAudHlwZSl7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgIHRoaXMuc3BlZWQgKys7XG4gICAgICAgICAgICB0aGlzLnBvd2VydXBzLnB1c2gocG93ZXJ1cCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgdGhpcy5zaGllbGQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5wb3dlcnVwcy5wdXNoKHBvd2VydXApO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgIHRoaXMuZGFtYWdlID0gMDtcbiAgICAgICAgICAgIHRoaXMuZGFtYWdlSW1hZ2Uuc3JjID0gXCJcIjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgIH1cbn07XG5cblNwYWNlc2hpcC5wcm90b3R5cGUuY2hlY2tQb3dlcnVwID0gZnVuY3Rpb24oKXtcbiAgICBmb3IodmFyIHAgaW4gdGhpcy5wb3dlcnVwcyl7XG4gICAgICAgIGlmKHRoaXMucG93ZXJ1cHNbcF0ucGxheWVyZHVyYXRpb24gPiAwKXtcbiAgICAgICAgICAgIHRoaXMucG93ZXJ1cHNbcF0ucGxheWVyZHVyYXRpb24gLS07XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgc3dpdGNoKHRoaXMucG93ZXJ1cHNbcF0udHlwZSl7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNwZWVkIC0tO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2hpZWxkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc29sZS5sb2coXCItLS0tLS0tLS0tLS0tXCIpO1xuICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5wb3dlcnVwcyk7XG4gICAgICAgICAgICB0aGlzLnBvd2VydXBzLnNwbGljZShwLCAxKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMucG93ZXJ1cHMpO1xuICAgICAgICB9XG4gICAgfVxufTtcblxuIiwiLyoqXG4gKiBDcmVhdGVkIGJ5IGp1c3Rpam5kZXBvdmVyIG9uIDA5LzEyLzE1LlxuICovXG5cblxudmFyIEFzdGVyb2lkID0gZnVuY3Rpb24oeCwgeSwgcm90YXRpb24sIHN0YWdlKXtcbiAgICB0aGlzLnggPSB4O1xuICAgIHRoaXMueSA9IHk7XG4gICAgdGhpcy53aWR0aCA9IDA7XG4gICAgdGhpcy5oZWlnaHQgPSAwO1xuICAgIHRoaXMucm90YXRpb24gPSByb3RhdGlvbjtcbiAgICB0aGlzLnN0YWdlID0gc3RhZ2U7XG4gICAgdGhpcy5pbWFnZSA9IG5ldyBJbWFnZSgpO1xuICAgIHRoaXMuaW1hZ2Uuc3JjID0gKFwiLi4vYXNzZXRzL1BORy9NZXRlb3JzL21ldGVvcl9cIiArIHN0YWdlICsgXCIucG5nXCIpO1xuICAgIHRoaXMuc3BlZWQgPSAxO1xuICAgIHRoaXMuYm94ID0gZmFsc2U7XG59O1xuXG5Bc3Rlcm9pZC5wcm90b3R5cGUuc2V0SW1hZ2UgPSBmdW5jdGlvbihzdGFnZSl7XG4gICAgdGhpcy5zdGFnZSA9IHN0YWdlO1xuICAgIHRoaXMuaW1hZ2Uuc3JjID0gKFwiLi4vYXNzZXRzL1BORy9NZXRlb3JzL21ldGVvcl9cIiArIHN0YWdlICsgXCIucG5nXCIpO1xufTsiLCIvKipcbiAqIENyZWF0ZWQgYnkgTWljaGllbCBvbiAxNi8xMi8yMDE1LlxuICovXG4vKipcbiAqIENyZWF0ZWQgYnkganVzdGlqbmRlcG92ZXIgb24gMTYvMTIvMTUuXG4gKi9cblxuXG4oZnVuY3Rpb24oKXtcbiAgICB2YXIgZGlzcGxheVNlcnZpY2UgPSBmdW5jdGlvbigpe1xuICAgICAgICAvL0xvZ2luIENvbnRyb2xsZXJcbiAgICAgICAgdmFyIExDU2hvdyA9IHRydWU7XG4gICAgICAgIC8vUGxheSBjb250cm9sbGVyXG4gICAgICAgIHZhciBQQ1Nob3cgPSBmYWxzZTtcblxuICAgICAgICByZXR1cm57XG4gICAgICAgICAgICBnZXRMQ1Nob3c6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgcmV0dXJuIExDU2hvdztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXRMQ1Nob3c6IGZ1bmN0aW9uKHZhbHVlKXtcbiAgICAgICAgICAgICAgICBMQ1Nob3cgPSB2YWx1ZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXRQQ1Nob3c6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFBDU2hvdztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXRQQ1Nob3c6IGZ1bmN0aW9uKHZhbHVlKXtcbiAgICAgICAgICAgICAgICBQQ1Nob3cgPSB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBhbmd1bGFyLm1vZHVsZSgnYXBwJykuZmFjdG9yeSgnZGlzcGxheVNlcnZpY2UnLCBbZGlzcGxheVNlcnZpY2VdKTtcbn0pKCk7IiwiLyoqXG4gKiBDcmVhdGVkIGJ5IGp1c3Rpam5kZXBvdmVyIG9uIDE3LzEyLzE1LlxuICovXG5cbihmdW5jdGlvbigpe1xuICAgIHZhciBwbGF5ZXJTZXJ2aWNlID0gZnVuY3Rpb24oKXtcbiAgICAgICAgLy9Mb2dpbiBDb250cm9sbGVyXG4gICAgICAgIHZhciBwbGF5ZXJzID0gW107XG5cbiAgICAgICAgcmV0dXJue1xuICAgICAgICAgICAgZ2V0UGxheWVyczogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGxheWVycztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXRQbGF5ZXJzOiBmdW5jdGlvbihwbGF5ZXJzQXJyYXkpe1xuICAgICAgICAgICAgICAgIHBsYXllcnMgPSBwbGF5ZXJzQXJyYXk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgYW5ndWxhci5tb2R1bGUoJ2FwcCcpLmZhY3RvcnkoJ3BsYXllclNlcnZpY2UnLCBbcGxheWVyU2VydmljZV0pO1xufSkoKTsiLCIvKipcbiAqIENyZWF0ZWQgYnkganVzdGlqbmRlcG92ZXIgb24gMDkvMTIvMTUuXG4gKi9cblxuKGZ1bmN0aW9uKCl7XG5cbiAgICB2YXIgc29ja2V0U2VydmljZSA9IGZ1bmN0aW9uKCRyb290U2NvcGUpe1xuICAgICAgICBcInVzZSBzdHJpY3RcIjtcbiAgICAgICAgLy9wcml2YXRlXG4gICAgICAgIHZhciBzb2NrZXQgPSBpby5jb25uZWN0KHdpbmRvdy5sb2NhdGlvbi5ob3N0KTtcbiAgICAgICAgLy9mdW5jdGlvbnNcbiAgICAgICAgdmFyIG9uID0gZnVuY3Rpb24gKGV2ZW50TmFtZSwgY2FsbGJhY2spIHtcbiAgICAgICAgICAgIHNvY2tldC5vbihldmVudE5hbWUsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cztcbiAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLiRhcHBseShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrLmFwcGx5KHNvY2tldCwgYXJncyk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgZW1pdCA9IGZ1bmN0aW9uIChldmVudE5hbWUsIGRhdGEsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICBzb2NrZXQuZW1pdChldmVudE5hbWUsIGRhdGEsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cztcbiAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLiRhcHBseShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2suYXBwbHkoc29ja2V0LCBhcmdzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgfTtcblxuICAgICAgICAvL3B1YmxpY1xuICAgICAgICByZXR1cm57XG4gICAgICAgICAgICBvbjogb24sXG4gICAgICAgICAgICBlbWl0OiBlbWl0LFxuICAgICAgICAgICAgc29ja2V0OiBzb2NrZXRcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBhbmd1bGFyLm1vZHVsZShcImFwcFwiKS5mYWN0b3J5KFwic29ja2V0U2VydmljZVwiLCBbXCIkcm9vdFNjb3BlXCIsIHNvY2tldFNlcnZpY2VdKTtcblxufSkoKTsiXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
