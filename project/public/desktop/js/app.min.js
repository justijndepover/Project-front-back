!function(){angular.module("app",[])}(),function(){var e=function(e,t,a,i){e.LCShow=a.getLCShow;var o=function(){t.emit("pcconnect",null)};e.room="",t.on("requestRoom",function(t){e.room=t}),t.on("deviceOrientation",function(e){var t=(e.username,{});t.gamma=e.gamma,t.beta=e.beta,t.alpha=e.alpha}),e.usernames={},e.checkUserCount=!1,t.on("updateusers",function(t){i.setPlayers(t),e.usernames=t,e.checkUserCount=Object.keys(e.usernames).length<0}),e.startGame=function(){t.emit("startGame",null),a.setLCShow(!1),a.setPCShow(!0)},function(){o()}()};angular.module("app").controller("loginController",["$scope","socketService","displayService","playerService",e])}(),function(){"use strict";var e=function(e,t,a,i,o,r){function s(){var e=Math.floor(100*Math.random());for(var t in w)if(Math.abs(w[t].x-e)<10)return s();return e}function h(){var e=Math.floor(100*Math.random());for(var t in w)if(Math.abs(w[t].y-e)<10)return h();return e}function n(e,t){return t.username===e.userName}function d(){w.length>0&&(w[0].speed=0),0===M?(M=Math.floor(500*Math.random()+500),x.push(new Powerup(Math.floor(100*Math.random()),Math.floor(100*Math.random()),Math.ceil(3*Math.random()),Math.floor(2*Math.random())))):M--,f.clearRect(0,0,u.width,u.height);var e=u.width/100;if(0!==x.length)for(var t in x){var a=x[t];a.width=u.width/50,a.height=a.width*a.image.height/a.image.width,f.save(),f.translate(a.x*e,a.y*e),f.drawImage(a.image,-a.width/2,-a.height/2,a.width,a.height),f.restore(),a.decreaseDuration(),0===a.duration&&x.splice(t,1)}if(0!==y.length){var i=u.width/100,o=i*y[0].image.height/y[0].image.width;for(var r in y){var s=y[r];s.width=i,s.height=o,0===s.explodeStage?(f.save(),f.translate(s.x*e,s.y*e),f.rotate(s.rotation/180*Math.PI),f.drawImage(s.image,-i/2,-o/2,i,o),f.restore(),y[r].x=Math.cos((s.rotation-90)/180*Math.PI)+s.x,y[r].y=Math.sin((s.rotation-90)/180*Math.PI)+s.y):s.explodeStage<4&&(f.save(),f.translate(s.x*e,s.y*e),f.drawImage(s.explosionImage,-i,-i,2*i,2*i),f.restore())}}if(0!==w.length){var h=u.width/20,n=h*w[0].image.height/w[0].image.width;for(var d in w){var g=w[d];if(g.width=h,g.height=n,f.save(),f.translate(g.x*e,g.y*e),-1===g.explodeStage?(f.rotate(g.rotation/180*Math.PI),f.drawImage(g.image,-h/2,-n/2,h,n)):w[d].explode(),g.damage>0&&g.explodeStage<=140&&f.drawImage(g.damageImage,-h/2,-n/2,h,n),g.damage<4&&(w[d].x=Math.cos((g.rotation-90)/180*Math.PI)/10*g.speed+g.x,w[d].y=Math.sin((g.rotation-90)/180*Math.PI)/10*g.speed+g.y),g.shield&&-1===g.explodeStage){var c=1.5*h,m=c/g.shieldImage.width*g.shieldImage.height;f.drawImage(g.shieldImage,-c/2,-m/2,c,m)}w[d].checkPowerup(),f.restore()}}if(v.length>0)for(var S in v){var I=v[S];if(I.width=u.width/700*I.image.width,I.height=I.width*I.image.height/I.image.width,f.save(),f.translate(I.x*e,I.y*e),f.rotate(I.rotation/180*Math.PI),f.drawImage(I.image,-I.width/2,-I.height/2,I.width,I.height),f.restore(),I.x<-5||I.x>105||I.y<-5||I.y>105){var P=Math.random();.25>P?(v[S].x=-4,v[S].y=Math.floor(100*Math.random()),v[S].rotation=Math.floor(180*Math.random())):.5>P?(v[S].x=Math.floor(100*Math.random()),v[S].y=-4,v[S].rotation=Math.floor(180*Math.random())+90):.75>P?(v[S].x=104,v[S].y=Math.floor(100*Math.random()),v[S].rotation=Math.floor(180*Math.random())+180):(v[S].x=Math.floor(100*Math.random()),v[S].y=104,v[S].rotation=Math.floor(180*Math.random())+270),v[S].speed=1,v[S].setImage(Math.ceil(18*Math.random()))}else v[S].x=Math.cos((I.rotation-90)/180*Math.PI)/30*v[S].speed+I.x,v[S].y=Math.sin((I.rotation-90)/180*Math.PI)/30*v[S].speed+I.y}p(),l()}function p(){for(var e in y)y[e].x<0||y[e].x>u.width||y[e].y<0||y[e].y>u.height?y.splice(e,1):y[e].explodeStage>0&&(y[e].explodeStage<4?y[e].explode():y.splice(e,1))}function l(){var e=[];for(var t in w)if(w[t].damage<4){e.push(w[t]);var a=w[t].x*u.width/100,o=w[t].y*u.width/100,r=1;w[t].shield&&(r=1.5);var s={},h=new Audio("../../assets/Bonus/sfx_lose.ogg");for(var n in y)if(0===y[n].explodeStage&&y[n].player!=w[t].userName){var d=Math.sqrt(2)/2*(y[n].height/2-y[n].width/2),p=(360-y[n].rotation)/180*Math.PI,l=y[n].x*u.width/100-d*Math.sin(p),c=y[n].y*u.width/100-d*Math.cos(p),m=Math.sqrt((l-a)*(l-a)+(c-o)*(c-o));m<y[n].width/2+w[t].width/2*r&&(h.play(),w[t].shield||(w[t].increaseDamage(),s={},s.username=w[t].userName,s.life=3-w[t].damage,i.emit("playerLife",s)),y[n].explode())}for(var f in v){var M=v[f].x*u.width/100,S=v[f].y*u.width/100,I=Math.sqrt((M-a)*(M-a)+(S-o)*(S-o));I<v[f].width/2+w[t].width/2*r?v[f].box===!1&&(v[f].box=!0,h.play(),w[t].shield?(v[f].rotation=Math.atan((v[f].y-w[t].y)/(v[f].x-w[t].x)),v[f].speed=6*w[t].speed):(w[t].dead(),s={},s.username=w[t].userName,s.life=3-w[t].damage,i.emit("playerLife",s))):I>v[f].width/2+w[t].width/2*r+100&&(v[f].box=!1)}for(var P in w)if(4!==w[P].damage&&P!=t){var N=w[P].x*u.width/100,G=w[P].y*u.width/100,b=1;w[P].shield&&(b=1.5);var C=Math.sqrt((N-a)*(N-a)+(G-o)*(G-o));C<w[P].width/2*b+w[t].width/2*r&&(h.play(),w[t].dead(),w[P].dead(),s={},s.username=w[t].userName,s.life=3-w[t].damage,i.emit("playerLife",s),s.username=w[P].userName,s.life=3-w[P].damage,i.emit("playerLife",s))}(w[t].x*u.width/100<w[t].height/2||w[t].x*u.width/100>u.width-w[t].height/2||w[t].y*u.width/100<w[t].height/2||w[t].y*u.width/100>u.width-w[t].height/2)&&(h.play(),w[t].dead(),s={},s.username=w[t].userName,s.life=3-w[t].damage,i.emit("playerLife",s));for(var k in x){var L=x[k].x*u.width/100,_=x[k].y*u.width/100,D=Math.sqrt((L-a)*(L-a)+(_-o)*(_-o));if(D<x[k].width/2+w[t].width/2){var A=new Audio("../../assets/Bonus/sfx_zap.ogg");if(A.play(),1===x[k].boolSelf)for(var $ in w)$!=t&&w[$].addPowerup(x[k]);else w[t].addPowerup(x[k]);3===x[k].type&&(s={},s.username=w[t].userName,s.life=3,i.emit("playerLife",s)),x.splice(k,1)}}}for(var q in v)for(var B in y)if(0===y[B].explodeStage&&y[B].player!=v[q].userName){var R=Math.sqrt(2)/2*(y[B].height/2-y[B].width/2),E=(360-y[B].rotation)/180*Math.PI,H=y[B].x*u.width/100-R*Math.sin(E),U=y[B].y*u.width/100-R*Math.cos(E),W=v[q].x*u.width/100,z=v[q].y*u.width/100,O=Math.sqrt((H-W)*(H-W)+(U-z)*(U-z));O<y[B].width/2+v[q].width/2&&(i.emit("playerLife",{username:v[q].userName,damage:3-v[q].damage}),y[B].explode())}1===e.length&&g(e)}function g(a){angular.isDefined(m)&&(t.cancel(m),m=void 0),e.endGame=!0,e.endGameText=a[0].userName+" is the winner!",i.emit("endGame",a[0].userName)}var c=[{x:10,y:10,rotation:135},{x:90,y:10,rotation:225},{x:90,y:90,rotation:315},{x:10,y:90,rotation:45}];e.PCShow=o.getPCShow,e.endGame=!1;var m,u=document.getElementById("game"),f=u.getContext("2d"),w=[],y=[],v=[],x=[];i.on("initGame",function(){var e=r.getPlayers(),a=0;for(var i in e){var o=e[i];w.push(new Spaceship(o.username,c[a].x,c[a].y,o.color,c[a].rotation)),a++}for(var n=0;15>n;n++)v.push(new Asteroid(s(),h(),Math.floor(361*Math.random()),Math.ceil(18*Math.random())));m=t(d,10)}),i.on("userleft",function(e){var t=null;for(var a in w)n(w[a],e)===!0&&(t=a);w.splice(t,1)}),i.on("updateGameData",function(e){var t=null;for(var a in w)n(w[a],e)===!0&&(t=a);null!==t&&w[t].rotateSpaceshipRelative(e.orientation)}),i.on("playerShot",function(t){if(e.endGame===!1){var a=null;for(var i in w)n(w[i],t)===!0&&(a=i);if(null!==a){var o=w[a],r=(360-(o.rotation+180))/180*Math.PI,s=o.x+u.width/400*Math.sin(r),h=o.y+u.width/400*Math.cos(r);y.push(new Bullet(s,h,o.rotation,o.color,o.userName));var d="../../assets/Bonus/sfx_laser2.ogg";a%2===0&&(d="../../assets/Bonus/sfx_laser1.ogg");var p=new Audio(d);p.play()}}});var M=Math.floor(500*Math.random()+500);e.restartGame=function(){e.endGame=!1;var a=0;for(var o in w)w[o].reset(c[a].x,c[a].y,c[a].rotation),a++;v=[];for(var r=0;15>r;r++)v.push(new Asteroid(s(),h(),Math.floor(361*Math.random()),Math.ceil(18*Math.random())));y=[],x=[],M=Math.floor(500*Math.random()+500),f.clearRect(0,0,u.width,u.height),i.emit("restartGame",null),m=t(d,10)}};angular.module("app").controller("playController",["$scope","$interval","$window","socketService","displayService","playerService",e])}(),function(){var e=function(e){function t(t,a,i){e.innerWidth<e.innerHeight?t.width=e.innerWidth-20:t.width=e.innerHeight-20,angular.element(e).bind("resize",function(){e.innerWidth<e.innerHeight?t.width=e.innerWidth-20:t.width=e.innerHeight-20,t.$digest()})}return{restrict:"E",link:t,replace:!0,template:'<canvas id="game" class="playArea" width="{{width}}" height="{{width}}" />'}};angular.module("app").directive("canvasDirective",["$window",e])}();var Bullet=function(e,t,a,i,o){this.x=e,this.y=t,this.rotation=a,this.image=new Image,this.color=i,this.width=0,this.height=0,this.player=o,this.explosionImage=new Image,this.explodeStage=0,"orange"==this.color&&(this.color="red"),this.image.src="../assets/PNG/Lasers/laser"+this.color.charAt(0).toUpperCase()+this.color.slice(1)+"01.png"};Bullet.prototype.explode=function(){if(this.explodeStage<4){this.explodeStage++;var e;e=this.explodeStage<3?1:2,this.explosionImage.src="../assets/PNG/Lasers/laser"+this.color.charAt(0).toUpperCase()+this.color.slice(1)+"Explode"+e+".png"}else this.explosionImage.src=""};var Powerup=function(e,t,a,i){this.x=e,this.y=t,this.width=0,this.height=0,this.type=a,this.duration=1e3,this.playerduration=1e3;var o;switch(this.image=new Image,this.boolSelf=i,a){case 1:o="bolt_";break;case 2:o="shield_";break;case 3:o="star_"}switch(i){case 0:o+="gold.png";break;case 1:o+="silver.png"}this.image.src="../assets/PNG/Power-ups/"+o};Powerup.prototype.decreaseDuration=function(){this.duration>0&&this.duration--};var Spaceship=function(e,t,a,i,o){this.userName=e,this.x=t,this.y=a,this.speed=1,this.color=i,this.rotation=o,this.image=new Image,this.damage=0,this.width=0,this.height=0,this.powerups=[],this.shield=!0,this.shieldImage=new Image,this.shieldImage.src="../assets/PNG/Effects/shield1.png",this.damageImage=new Image,this.image.src="../assets/PNG/playerShip1_"+this.color+".png",this.explodeStage=-1};Spaceship.prototype.reset=function(e,t,a){this.speed=1,this.damage=0,this.damageImage=new Image,this.image.src="../assets/PNG/playerShip1_"+this.color+".png",this.x=e,this.y=t,this.rotation=a,this.explodeStage=-1},Spaceship.prototype.moveSpaceship=function(e,t){this.x=e,this.y=t},Spaceship.prototype.moveSpaceshipRelative=function(e,t){this.x=this.x+e,this.y=this.y+t},Spaceship.prototype.rotateSpaceship=function(e){this.rotation=e},Spaceship.prototype.rotateSpaceshipRelative=function(e){e>80?e=80:-80>e&&(e=-80),this.rotation=this.rotation+e/5,this.rotation<-360&&(this.rotation=this.rotation+720),this.rotation>360&&(this.rotation=this.rotation-720)},Spaceship.prototype.increaseDamage=function(){this.damage<4&&(this.damage+=1),this.damage<=3&&this.damage>0?this.damageImage.src="../assets/PNG/Damage/playerShip1_damage"+this.damage+".png":4==this.damage&&this.explode()},Spaceship.prototype.dead=function(){this.damage=4,this.explode()},Spaceship.prototype.explode=function(){this.explodeStage<=140&&(this.explodeStage++,this.damageImage.src="../assets/PNG/Damage/frame"+Math.floor(this.explodeStage/10)+".gif")},Spaceship.prototype.decreaseDamage=function(){this.damage>0&&(this.damage-=1),this.damage<=3&&this.damage>0&&(this.damageImage.src="../assets/PNG/Damage/playerShip1_damage"+this.damage+".png")},Spaceship.prototype.addPowerup=function(e){switch(e.type){case 1:this.speed++,this.powerups.push(e);break;case 2:this.shield=!0,this.powerups.push(e);break;case 3:this.damage=0,this.damageImage.src=""}},Spaceship.prototype.checkPowerup=function(){for(var e in this.powerups)if(this.powerups[e].playerduration>0)this.powerups[e].playerduration--;else{switch(this.powerups[e].type){case 1:this.speed--;break;case 2:this.shield=!1}console.log("-------------"),console.log(this.powerups),this.powerups.splice(e,1),console.log(this.powerups)}};var Asteroid=function(e,t,a,i){this.x=e,this.y=t,this.width=0,this.height=0,this.rotation=a,this.stage=i,this.image=new Image,this.image.src="../assets/PNG/Meteors/meteor_"+i+".png",this.speed=1,this.box=!1};Asteroid.prototype.setImage=function(e){this.stage=e,this.image.src="../assets/PNG/Meteors/meteor_"+e+".png"},function(){var e=function(){var e=!0,t=!1;return{getLCShow:function(){return e},setLCShow:function(t){e=t},getPCShow:function(){return t},setPCShow:function(e){t=e}}};angular.module("app").factory("displayService",[e])}(),function(){var e=function(){var e=[];return{getPlayers:function(){return e},setPlayers:function(t){e=t}}};angular.module("app").factory("playerService",[e])}(),function(){var e=function(e){"use strict";var t=io.connect(window.location.host),a=function(a,i){t.on(a,function(){var a=arguments;e.$apply(function(){i.apply(t,a)})})},i=function(a,i,o){t.emit(a,i,function(){var a=arguments;e.$apply(function(){o&&o.apply(t,a)})})};return{on:a,emit:i,socket:t}};angular.module("app").factory("socketService",["$rootScope",e])}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsImNvbnRyb2xsZXIvbG9naW5Db250cm9sbGVyLmpzIiwiY29udHJvbGxlci9wbGF5Q29udHJvbGxlci5qcyIsImRpcmVjdGl2ZXMvY2FudmFzRGlyZWN0aXZlLmpzIiwibW9kZWxzL0J1bGxldC5qcyIsIm1vZGVscy9Qb3dlcnVwLmpzIiwibW9kZWxzL1NwYWNlc2hpcC5qcyIsIm1vZGVscy9hc3RlcmlvZC5qcyIsInNlcnZpY2VzL2Rpc3BsYXlTZXJ2aWNlLmpzIiwic2VydmljZXMvcGxheWVyU2VydmljZS5qcyIsInNlcnZpY2VzL3NvY2tldFNlcnZpY2UuanMiXSwibmFtZXMiOlsiYW5ndWxhciIsIm1vZHVsZSIsImxvZ2luQ29udHJvbGxlciIsIiRzY29wZSIsInNvY2tldFNlcnZpY2UiLCJkaXNwbGF5U2VydmljZSIsInBsYXllclNlcnZpY2UiLCJMQ1Nob3ciLCJnZXRMQ1Nob3ciLCJtYWtlUm9vbSIsImVtaXQiLCJyb29tIiwib24iLCJkYXRhIiwiZGV2aWNlT3JpZW50YXRpb24iLCJ1c2VybmFtZSIsImdhbW1hIiwiYmV0YSIsImFscGhhIiwidXNlcm5hbWVzIiwiY2hlY2tVc2VyQ291bnQiLCJzZXRQbGF5ZXJzIiwiT2JqZWN0Iiwia2V5cyIsImxlbmd0aCIsInN0YXJ0R2FtZSIsInNldExDU2hvdyIsInNldFBDU2hvdyIsImNvbnRyb2xsZXIiLCJwbGF5Q29udHJvbGxlciIsIiRpbnRlcnZhbCIsIiR3aW5kb3ciLCJjcmVhdGVDb29yZGluYXRlWCIsIngiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJwIiwiQWxsUGxheWVycyIsImFicyIsImNyZWF0ZUNvb3JkaW5hdGVZIiwieSIsImZpbHRlclBsYXllcnMiLCJvYmoiLCJ1c2VyTmFtZSIsImRyYXciLCJzcGVlZCIsIlBvd2VydXBTcGF3blRpbWUiLCJBbGxQb3dlclVwcyIsInB1c2giLCJQb3dlcnVwIiwiY2VpbCIsImN0eCIsImNsZWFyUmVjdCIsImNhbnYiLCJ3aWR0aCIsImhlaWdodCIsInJhdGlvIiwicG93ZXJ1cCIsImltYWdlIiwic2F2ZSIsInRyYW5zbGF0ZSIsImRyYXdJbWFnZSIsInJlc3RvcmUiLCJkZWNyZWFzZUR1cmF0aW9uIiwiZHVyYXRpb24iLCJzcGxpY2UiLCJBbGxCdWxsZXRzIiwiQnVsbGV0V2lkdGgiLCJCdWxsZXRIZWlnaHQiLCJidWxsZXQiLCJiIiwiZXhwbG9kZVN0YWdlIiwicm90YXRlIiwicm90YXRpb24iLCJQSSIsImNvcyIsInNpbiIsImV4cGxvc2lvbkltYWdlIiwiU3BhY2VzaGlwV2lkdGgiLCJTcGFjZXNoaXBIZWlnaHQiLCJwbGF5ZXIiLCJwbCIsImV4cGxvZGUiLCJkYW1hZ2UiLCJkYW1hZ2VJbWFnZSIsInNoaWVsZCIsIlNoaWVsZFdpZHRoIiwiU2hpZWxkSGVpZ2h0Iiwic2hpZWxkSW1hZ2UiLCJjaGVja1Bvd2VydXAiLCJBbGxBc3Rlcm9pZHMiLCJBc3Rlcm9pZCIsImEiLCJrZXV6ZSIsInNldEltYWdlIiwiY2hlY2tCdWxsZXRzIiwiY29sbGlzaW9uRGV0ZWN0aW9uIiwibGl2aW5nUGxheWVycyIsInNwYWNlU2hpcFgiLCJzcGFjZVNoaXBZIiwic2hpZWxkUmF0aW8iLCJkYW1hZ2Vzb3VuZCIsIkF1ZGlvIiwicmFkaXVzIiwic3FydCIsImFuZ2xlIiwiYnVsbGV0SGVhZFgiLCJidWxsZXRIZWFkWSIsImRpc3RhbmNlIiwicGxheSIsImluY3JlYXNlRGFtYWdlIiwibGlmZSIsImFzdGVyb2lkWCIsImFzdGVyb2lkWSIsImRpc3RhbmNlUEEiLCJib3giLCJhdGFuIiwiZGVhZCIsImFwIiwic3BhY2VTaGlwMVgiLCJzcGFjZVNoaXAxWSIsInNoaWVsZFJhdGlvMSIsImRpc3RhbmNlUFAiLCJwdSIsInBvd2VydXBYIiwicG93ZXJ1cFkiLCJkaXN0YW5jZVBQVSIsInBvd2VydXBTb3VuZCIsImJvb2xTZWxmIiwiYWRkUG93ZXJ1cCIsInR5cGUiLCJhYSIsImFiIiwicmFkaXVzQiIsImFuZ2xlQiIsImFCdWxsZXRIZWFkWCIsImFCdWxsZXRIZWFkWSIsImFzdGVyb2lkYVgiLCJhc3Rlcm9pZGFZIiwiZGlzdGFuY2VCQSIsImVuZEdhbWUiLCJpc0RlZmluZWQiLCJjeWNsZSIsImNhbmNlbCIsInVuZGVmaW5lZCIsImVuZEdhbWVUZXh0IiwiZGVmYXVsdFZhcnMiLCJQQ1Nob3ciLCJnZXRQQ1Nob3ciLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiZ2V0Q29udGV4dCIsIkJ1ZmZlclBsYXllciIsImdldFBsYXllcnMiLCJ0ZWxsZXIiLCJTcGFjZXNoaXAiLCJjb2xvciIsImkiLCJyb3RhdGVTcGFjZXNoaXBSZWxhdGl2ZSIsIm9yaWVudGF0aW9uIiwidGVtcCIsIkJ1bGxldCIsImF1ZGlvVXJsIiwic2hvdCIsInJlc3RhcnRHYW1lIiwicmVzZXQiLCJjYW52YXNEaXJlY3RpdmUiLCJsaW5rIiwic2NvcGUiLCJlbGVtZW50IiwiYXR0cnMiLCJpbm5lcldpZHRoIiwiaW5uZXJIZWlnaHQiLCJiaW5kIiwiJGRpZ2VzdCIsInJlc3RyaWN0IiwicmVwbGFjZSIsInRlbXBsYXRlIiwiZGlyZWN0aXZlIiwidGhpcyIsIkltYWdlIiwic3JjIiwiY2hhckF0IiwidG9VcHBlckNhc2UiLCJzbGljZSIsInByb3RvdHlwZSIsIm51bWJlciIsInBsYXllcmR1cmF0aW9uIiwiaW1hZ2VUeXBlIiwicG93ZXJ1cHMiLCJtb3ZlU3BhY2VzaGlwIiwibW92ZVNwYWNlc2hpcFJlbGF0aXZlIiwicm90YXRlU3BhY2VzaGlwIiwiZGVncmVlIiwiZGVjcmVhc2VEYW1hZ2UiLCJjb25zb2xlIiwibG9nIiwic3RhZ2UiLCJ2YWx1ZSIsImZhY3RvcnkiLCJwbGF5ZXJzIiwicGxheWVyc0FycmF5IiwiJHJvb3RTY29wZSIsInNvY2tldCIsImlvIiwiY29ubmVjdCIsIndpbmRvdyIsImxvY2F0aW9uIiwiaG9zdCIsImV2ZW50TmFtZSIsImNhbGxiYWNrIiwiYXJncyIsImFyZ3VtZW50cyIsIiRhcHBseSIsImFwcGx5Il0sIm1hcHBpbmdzIjoiQ0FHQSxXQUVBQSxRQUFBQyxPQUFBLGFDREEsV0FDQSxHQUFBQyxHQUFBLFNBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEdBRUFILEVBQUFJLE9BQUFGLEVBQUFHLFNBR0EsSUFBQUMsR0FBQSxXQUNBTCxFQUFBTSxLQUFBLFlBQUEsTUFFQVAsR0FBQVEsS0FBQSxHQUNBUCxFQUFBUSxHQUFBLGNBQUEsU0FBQUMsR0FDQVYsRUFBQVEsS0FBQUUsSUFFQVQsRUFBQVEsR0FBQSxvQkFBQSxTQUFBQyxHQUNBLEdBQ0FDLElBREFELEVBQUFFLFlBRUFELEdBQUFFLE1BQUFILEVBQUFHLE1BQ0FGLEVBQUFHLEtBQUFKLEVBQUFJLEtBQ0FILEVBQUFJLE1BQUFMLEVBQUFLLFFBRUFmLEVBQUFnQixhQUNBaEIsRUFBQWlCLGdCQUFBLEVBQ0FoQixFQUFBUSxHQUFBLGNBQUEsU0FBQUMsR0FDQVAsRUFBQWUsV0FBQVIsR0FDQVYsRUFBQWdCLFVBQUFOLEVBQ0FWLEVBQUFpQixlQUFBRSxPQUFBQyxLQUFBcEIsRUFBQWdCLFdBQUFLLE9BQUEsSUFHQXJCLEVBQUFzQixVQUFBLFdBQ0FyQixFQUFBTSxLQUFBLFlBQUEsTUFDQUwsRUFBQXFCLFdBQUEsR0FDQXJCLEVBQUFzQixXQUFBLElBSUEsV0FDQWxCLE9BS0FULFNBQUFDLE9BQUEsT0FBQTJCLFdBQUEsbUJBQUEsU0FBQSxnQkFBQSxpQkFBQSxnQkFBQTFCLE9DekNBLFdBQ0EsWUFDQSxJQUFBMkIsR0FBQSxTQUFBMUIsRUFBQTJCLEVBQUFDLEVBQUEzQixFQUFBQyxFQUFBQyxHQStCQSxRQUFBMEIsS0FDQSxHQUFBQyxHQUFBQyxLQUFBQyxNQUFBLElBQUFELEtBQUFFLFNBQ0EsS0FBQSxHQUFBQyxLQUFBQyxHQUNBLEdBQUFKLEtBQUFLLElBQUFELEVBQUFELEdBQUFKLEVBQUFBLEdBQUEsR0FDQSxNQUFBRCxJQUdBLE9BQUFDLEdBR0EsUUFBQU8sS0FDQSxHQUFBQyxHQUFBUCxLQUFBQyxNQUFBLElBQUFELEtBQUFFLFNBQ0EsS0FBQSxHQUFBQyxLQUFBQyxHQUNBLEdBQUFKLEtBQUFLLElBQUFELEVBQUFELEdBQUFJLEVBQUFBLEdBQUEsR0FDQSxNQUFBRCxJQUdBLE9BQUFDLEdBaURBLFFBQUFDLEdBQUFDLEVBQUE5QixHQUNBLE1BQUFBLEdBQUFFLFdBQUE0QixFQUFBQyxTQUtBLFFBQUFDLEtBQ0FQLEVBQUFkLE9BQUEsSUFDQWMsRUFBQSxHQUFBUSxNQUFBLEdBSUEsSUFBQUMsR0FDQUEsRUFBQWIsS0FBQUMsTUFBQSxJQUFBRCxLQUFBRSxTQUFBLEtBQ0FZLEVBQUFDLEtBQUEsR0FBQUMsU0FBQWhCLEtBQUFDLE1BQUEsSUFBQUQsS0FBQUUsVUFBQUYsS0FBQUMsTUFBQSxJQUFBRCxLQUFBRSxVQUFBRixLQUFBaUIsS0FBQSxFQUFBakIsS0FBQUUsVUFBQUYsS0FBQUMsTUFBQSxFQUFBRCxLQUFBRSxhQUVBVyxJQUdBSyxFQUFBQyxVQUFBLEVBQUEsRUFBQUMsRUFBQUMsTUFBQUQsRUFBQUUsT0FDQSxJQUFBQyxHQUFBSCxFQUFBQyxNQUFBLEdBRUEsSUFBQSxJQUFBUCxFQUFBeEIsT0FDQSxJQUFBLEdBQUFrQyxLQUFBVixHQUFBLENBQ0EsR0FBQVgsR0FBQVcsRUFBQVUsRUFDQXJCLEdBQUFrQixNQUFBRCxFQUFBQyxNQUFBLEdBQ0FsQixFQUFBbUIsT0FBQW5CLEVBQUFrQixNQUFBbEIsRUFBQXNCLE1BQUFILE9BQUFuQixFQUFBc0IsTUFBQUosTUFDQUgsRUFBQVEsT0FDQVIsRUFBQVMsVUFBQXhCLEVBQUFKLEVBQUF3QixFQUFBcEIsRUFBQUksRUFBQWdCLEdBQ0FMLEVBQUFVLFVBQUF6QixFQUFBc0IsT0FBQXRCLEVBQUFrQixNQUFBLEdBQUFsQixFQUFBbUIsT0FBQSxFQUFBbkIsRUFBQWtCLE1BQUFsQixFQUFBbUIsUUFDQUosRUFBQVcsVUFDQTFCLEVBQUEyQixtQkFDQSxJQUFBM0IsRUFBQTRCLFVBQ0FqQixFQUFBa0IsT0FBQVIsRUFBQSxHQUtBLEdBQUEsSUFBQVMsRUFBQTNDLE9BQUEsQ0FDQSxHQUFBNEMsR0FBQWQsRUFBQUMsTUFBQSxJQUNBYyxFQUFBRCxFQUFBRCxFQUFBLEdBQUFSLE1BQUFILE9BQUFXLEVBQUEsR0FBQVIsTUFBQUosS0FFQSxLQUFBLEdBQUFlLEtBQUFILEdBQUEsQ0FDQSxHQUFBSSxHQUFBSixFQUFBRyxFQUNBQyxHQUFBaEIsTUFBQWEsRUFDQUcsRUFBQWYsT0FBQWEsRUFFQSxJQUFBRSxFQUFBQyxjQUVBcEIsRUFBQVEsT0FDQVIsRUFBQVMsVUFBQVUsRUFBQXRDLEVBQUF3QixFQUFBYyxFQUFBOUIsRUFBQWdCLEdBQ0FMLEVBQUFxQixPQUFBRixFQUFBRyxTQUFBLElBQUF4QyxLQUFBeUMsSUFDQXZCLEVBQUFVLFVBQUFTLEVBQUFaLE9BQUFTLEVBQUEsR0FBQUMsRUFBQSxFQUFBRCxFQUFBQyxHQUNBakIsRUFBQVcsVUFFQUksRUFBQUcsR0FBQXJDLEVBQUFDLEtBQUEwQyxLQUFBTCxFQUFBRyxTQUFBLElBQUEsSUFBQXhDLEtBQUF5QyxJQUFBSixFQUFBdEMsRUFDQWtDLEVBQUFHLEdBQUE3QixFQUFBUCxLQUFBMkMsS0FBQU4sRUFBQUcsU0FBQSxJQUFBLElBQUF4QyxLQUFBeUMsSUFBQUosRUFBQTlCLEdBQ0E4QixFQUFBQyxhQUFBLElBRUFwQixFQUFBUSxPQUNBUixFQUFBUyxVQUFBVSxFQUFBdEMsRUFBQXdCLEVBQUFjLEVBQUE5QixFQUFBZ0IsR0FDQUwsRUFBQVUsVUFBQVMsRUFBQU8sZ0JBQUFWLEdBQUFBLEVBQUEsRUFBQUEsRUFBQSxFQUFBQSxHQUNBaEIsRUFBQVcsWUFLQSxHQUFBLElBQUF6QixFQUFBZCxPQUFBLENBQ0EsR0FBQXVELEdBQUF6QixFQUFBQyxNQUFBLEdBQ0F5QixFQUFBRCxFQUFBekMsRUFBQSxHQUFBcUIsTUFBQUgsT0FBQWxCLEVBQUEsR0FBQXFCLE1BQUFKLEtBRUEsS0FBQSxHQUFBMEIsS0FBQTNDLEdBQUEsQ0FDQSxHQUFBNEMsR0FBQTVDLEVBQUEyQyxFQW9CQSxJQW5CQUMsRUFBQTNCLE1BQUF3QixFQUNBRyxFQUFBMUIsT0FBQXdCLEVBQ0E1QixFQUFBUSxPQUNBUixFQUFBUyxVQUFBcUIsRUFBQWpELEVBQUF3QixFQUFBeUIsRUFBQXpDLEVBQUFnQixHQUVBLEtBQUF5QixFQUFBVixjQUNBcEIsRUFBQXFCLE9BQUFTLEVBQUFSLFNBQUEsSUFBQXhDLEtBQUF5QyxJQUNBdkIsRUFBQVUsVUFBQW9CLEVBQUF2QixPQUFBb0IsRUFBQSxHQUFBQyxFQUFBLEVBQUFELEVBQUFDLElBRUExQyxFQUFBMkMsR0FBQUUsVUFFQUQsRUFBQUUsT0FBQSxHQUFBRixFQUFBVixjQUFBLEtBQ0FwQixFQUFBVSxVQUFBb0IsRUFBQUcsYUFBQU4sRUFBQSxHQUFBQyxFQUFBLEVBQUFELEVBQUFDLEdBR0FFLEVBQUFFLE9BQUEsSUFDQTlDLEVBQUEyQyxHQUFBaEQsRUFBQUMsS0FBQTBDLEtBQUFNLEVBQUFSLFNBQUEsSUFBQSxJQUFBeEMsS0FBQXlDLElBQUEsR0FBQU8sRUFBQXBDLE1BQUFvQyxFQUFBakQsRUFDQUssRUFBQTJDLEdBQUF4QyxFQUFBUCxLQUFBMkMsS0FBQUssRUFBQVIsU0FBQSxJQUFBLElBQUF4QyxLQUFBeUMsSUFBQSxHQUFBTyxFQUFBcEMsTUFBQW9DLEVBQUF6QyxHQUVBeUMsRUFBQUksUUFBQSxLQUFBSixFQUFBVixhQUFBLENBQ0EsR0FBQWUsR0FBQSxJQUFBUixFQUNBUyxFQUFBRCxFQUFBTCxFQUFBTyxZQUFBbEMsTUFBQTJCLEVBQUFPLFlBQUFqQyxNQUNBSixHQUFBVSxVQUFBb0IsRUFBQU8sYUFBQUYsRUFBQSxHQUFBQyxFQUFBLEVBQUFELEVBQUFDLEdBRUFsRCxFQUFBMkMsR0FBQVMsZUFDQXRDLEVBQUFXLFdBSUEsR0FBQTRCLEVBQUFuRSxPQUFBLEVBQ0EsSUFBQSxHQUFBb0UsS0FBQUQsR0FBQSxDQUNBLEdBQUFFLEdBQUFGLEVBQUFDLEVBUUEsSUFQQUMsRUFBQXRDLE1BQUFELEVBQUFDLE1BQUEsSUFBQXNDLEVBQUFsQyxNQUFBSixNQUNBc0MsRUFBQXJDLE9BQUFxQyxFQUFBdEMsTUFBQXNDLEVBQUFsQyxNQUFBSCxPQUFBcUMsRUFBQWxDLE1BQUFKLE1BQ0FILEVBQUFRLE9BQ0FSLEVBQUFTLFVBQUFnQyxFQUFBNUQsRUFBQXdCLEVBQUFvQyxFQUFBcEQsRUFBQWdCLEdBQ0FMLEVBQUFxQixPQUFBb0IsRUFBQW5CLFNBQUEsSUFBQXhDLEtBQUF5QyxJQUNBdkIsRUFBQVUsVUFBQStCLEVBQUFsQyxPQUFBa0MsRUFBQXRDLE1BQUEsR0FBQXNDLEVBQUFyQyxPQUFBLEVBQUFxQyxFQUFBdEMsTUFBQXNDLEVBQUFyQyxRQUNBSixFQUFBVyxVQUNBOEIsRUFBQTVELEVBQUEsSUFBQTRELEVBQUE1RCxFQUFBLEtBQUE0RCxFQUFBcEQsRUFBQSxJQUFBb0QsRUFBQXBELEVBQUEsSUFBQSxDQUVBLEdBQUFxRCxHQUFBNUQsS0FBQUUsUUFDQSxLQUFBMEQsR0FFQUgsRUFBQUMsR0FBQTNELEVBQUEsR0FDQTBELEVBQUFDLEdBQUFuRCxFQUFBUCxLQUFBQyxNQUFBLElBQUFELEtBQUFFLFVBQ0F1RCxFQUFBQyxHQUFBbEIsU0FBQXhDLEtBQUFDLE1BQUEsSUFBQUQsS0FBQUUsV0FDQSxHQUFBMEQsR0FFQUgsRUFBQUMsR0FBQTNELEVBQUFDLEtBQUFDLE1BQUEsSUFBQUQsS0FBQUUsVUFDQXVELEVBQUFDLEdBQUFuRCxFQUFBLEdBQ0FrRCxFQUFBQyxHQUFBbEIsU0FBQXhDLEtBQUFDLE1BQUEsSUFBQUQsS0FBQUUsVUFBQSxJQUNBLElBQUEwRCxHQUVBSCxFQUFBQyxHQUFBM0QsRUFBQSxJQUNBMEQsRUFBQUMsR0FBQW5ELEVBQUFQLEtBQUFDLE1BQUEsSUFBQUQsS0FBQUUsVUFDQXVELEVBQUFDLEdBQUFsQixTQUFBeEMsS0FBQUMsTUFBQSxJQUFBRCxLQUFBRSxVQUFBLE1BR0F1RCxFQUFBQyxHQUFBM0QsRUFBQUMsS0FBQUMsTUFBQSxJQUFBRCxLQUFBRSxVQUNBdUQsRUFBQUMsR0FBQW5ELEVBQUEsSUFDQWtELEVBQUFDLEdBQUFsQixTQUFBeEMsS0FBQUMsTUFBQSxJQUFBRCxLQUFBRSxVQUFBLEtBRUF1RCxFQUFBQyxHQUFBOUMsTUFBQSxFQUNBNkMsRUFBQUMsR0FBQUcsU0FBQTdELEtBQUFpQixLQUFBLEdBQUFqQixLQUFBRSxlQUdBdUQsR0FBQUMsR0FBQTNELEVBQUFDLEtBQUEwQyxLQUFBaUIsRUFBQW5CLFNBQUEsSUFBQSxJQUFBeEMsS0FBQXlDLElBQUEsR0FBQWdCLEVBQUFDLEdBQUE5QyxNQUFBK0MsRUFBQTVELEVBQ0EwRCxFQUFBQyxHQUFBbkQsRUFBQVAsS0FBQTJDLEtBQUFnQixFQUFBbkIsU0FBQSxJQUFBLElBQUF4QyxLQUFBeUMsSUFBQSxHQUFBZ0IsRUFBQUMsR0FBQTlDLE1BQUErQyxFQUFBcEQsRUFLQXVELElBRUFDLElBR0EsUUFBQUQsS0FDQSxJQUFBLEdBQUF6QixLQUFBSixHQUNBQSxFQUFBSSxHQUFBdEMsRUFBQSxHQUFBa0MsRUFBQUksR0FBQXRDLEVBQUFxQixFQUFBQyxPQUFBWSxFQUFBSSxHQUFBOUIsRUFBQSxHQUFBMEIsRUFBQUksR0FBQTlCLEVBQUFhLEVBQUFFLE9BQ0FXLEVBQUFELE9BQUFLLEVBQUEsR0FDQUosRUFBQUksR0FBQUMsYUFBQSxJQUNBTCxFQUFBSSxHQUFBQyxhQUFBLEVBQ0FMLEVBQUFJLEdBQUFZLFVBRUFoQixFQUFBRCxPQUFBSyxFQUFBLElBTUEsUUFBQTBCLEtBRUEsR0FBQUMsS0FDQSxLQUFBLEdBQUE3RCxLQUFBQyxHQUNBLEdBQUFBLEVBQUFELEdBQUErQyxPQUFBLEVBQUEsQ0FDQWMsRUFBQWpELEtBQUFYLEVBQUFELEdBTUEsSUFBQThELEdBQUE3RCxFQUFBRCxHQUFBSixFQUFBcUIsRUFBQUMsTUFBQSxJQUNBNkMsRUFBQTlELEVBQUFELEdBQUFJLEVBQUFhLEVBQUFDLE1BQUEsSUFDQThDLEVBQUEsQ0FDQS9ELEdBQUFELEdBQUFpRCxTQUNBZSxFQUFBLElBRUEsSUFBQXhGLE1BQ0F5RixFQUFBLEdBQUFDLE9BQUEsa0NBRUEsS0FBQSxHQUFBaEMsS0FBQUosR0FDQSxHQUFBLElBQUFBLEVBQUFJLEdBQUFDLGNBQ0FMLEVBQUFJLEdBQUFVLFFBQUEzQyxFQUFBRCxHQUFBTyxTQUFBLENBQ0EsR0FBQTRELEdBQUF0RSxLQUFBdUUsS0FBQSxHQUFBLEdBQUF0QyxFQUFBSSxHQUFBZixPQUFBLEVBQUFXLEVBQUFJLEdBQUFoQixNQUFBLEdBQ0FtRCxHQUFBLElBQUF2QyxFQUFBSSxHQUFBLFVBQUEsSUFBQXJDLEtBQUF5QyxHQUNBZ0MsRUFBQXhDLEVBQUFJLEdBQUF0QyxFQUFBcUIsRUFBQUMsTUFBQSxJQUFBaUQsRUFBQXRFLEtBQUEyQyxJQUFBNkIsR0FDQUUsRUFBQXpDLEVBQUFJLEdBQUE5QixFQUFBYSxFQUFBQyxNQUFBLElBQUFpRCxFQUFBdEUsS0FBQTBDLElBQUE4QixHQUVBRyxFQUFBM0UsS0FBQXVFLE1BQUFFLEVBQUFSLElBQUFRLEVBQUFSLElBQUFTLEVBQUFSLElBQUFRLEVBQUFSLEdBSUFTLEdBQUExQyxFQUFBSSxHQUFBaEIsTUFBQSxFQUFBakIsRUFBQUQsR0FBQWtCLE1BQUEsRUFBQThDLElBQ0FDLEVBQUFRLE9BQ0F4RSxFQUFBRCxHQUFBaUQsU0FDQWhELEVBQUFELEdBQUEwRSxpQkFDQWxHLEtBQ0FBLEVBQUFFLFNBQUF1QixFQUFBRCxHQUFBTyxTQUNBL0IsRUFBQW1HLEtBQUEsRUFBQTFFLEVBQUFELEdBQUErQyxPQUNBaEYsRUFBQU0sS0FBQSxhQUFBRyxJQUVBc0QsRUFBQUksR0FBQVksV0FNQSxJQUFBLEdBQUFVLEtBQUFGLEdBQUEsQ0FDQSxHQUFBc0IsR0FBQXRCLEVBQUFFLEdBQUE1RCxFQUFBcUIsRUFBQUMsTUFBQSxJQUNBMkQsRUFBQXZCLEVBQUFFLEdBQUFwRCxFQUFBYSxFQUFBQyxNQUFBLElBRUE0RCxFQUFBakYsS0FBQXVFLE1BQUFRLEVBQUFkLElBQUFjLEVBQUFkLElBQUFlLEVBQUFkLElBQUFjLEVBQUFkLEdBRUFlLEdBQUF4QixFQUFBRSxHQUFBdEMsTUFBQSxFQUFBakIsRUFBQUQsR0FBQWtCLE1BQUEsRUFBQThDLEVBQ0FWLEVBQUFFLEdBQUF1QixPQUFBLElBQ0F6QixFQUFBRSxHQUFBdUIsS0FBQSxFQUNBZCxFQUFBUSxPQUNBeEUsRUFBQUQsR0FBQWlELFFBQ0FLLEVBQUFFLEdBQUFuQixTQUFBeEMsS0FBQW1GLE1BQUExQixFQUFBRSxHQUFBcEQsRUFBQUgsRUFBQUQsR0FBQUksSUFBQWtELEVBQUFFLEdBQUE1RCxFQUFBSyxFQUFBRCxHQUFBSixJQUNBMEQsRUFBQUUsR0FBQS9DLE1BQUEsRUFBQVIsRUFBQUQsR0FBQVMsUUFFQVIsRUFBQUQsR0FBQWlGLE9BQ0F6RyxLQUNBQSxFQUFBRSxTQUFBdUIsRUFBQUQsR0FBQU8sU0FDQS9CLEVBQUFtRyxLQUFBLEVBQUExRSxFQUFBRCxHQUFBK0MsT0FDQWhGLEVBQUFNLEtBQUEsYUFBQUcsS0FHQXNHLEVBQUF4QixFQUFBRSxHQUFBdEMsTUFBQSxFQUFBakIsRUFBQUQsR0FBQWtCLE1BQUEsRUFBQThDLEVBQUEsTUFDQVYsRUFBQUUsR0FBQXVCLEtBQUEsR0FLQSxJQUFBLEdBQUFHLEtBQUFqRixHQUNBLEdBQUEsSUFBQUEsRUFBQWlGLEdBQUFuQyxRQUdBbUMsR0FBQWxGLEVBQUEsQ0FDQSxHQUFBbUYsR0FBQWxGLEVBQUFpRixHQUFBdEYsRUFBQXFCLEVBQUFDLE1BQUEsSUFDQWtFLEVBQUFuRixFQUFBaUYsR0FBQTlFLEVBQUFhLEVBQUFDLE1BQUEsSUFFQW1FLEVBQUEsQ0FDQXBGLEdBQUFpRixHQUFBakMsU0FDQW9DLEVBQUEsSUFHQSxJQUFBQyxHQUFBekYsS0FBQXVFLE1BQUFlLEVBQUFyQixJQUFBcUIsRUFBQXJCLElBQUFzQixFQUFBckIsSUFBQXFCLEVBQUFyQixHQUNBdUIsR0FBQXJGLEVBQUFpRixHQUFBaEUsTUFBQSxFQUFBbUUsRUFBQXBGLEVBQUFELEdBQUFrQixNQUFBLEVBQUE4QyxJQUNBQyxFQUFBUSxPQUNBeEUsRUFBQUQsR0FBQWlGLE9BQ0FoRixFQUFBaUYsR0FBQUQsT0FDQXpHLEtBQ0FBLEVBQUFFLFNBQUF1QixFQUFBRCxHQUFBTyxTQUNBL0IsRUFBQW1HLEtBQUEsRUFBQTFFLEVBQUFELEdBQUErQyxPQUNBaEYsRUFBQU0sS0FBQSxhQUFBRyxHQUNBQSxFQUFBRSxTQUFBdUIsRUFBQWlGLEdBQUEzRSxTQUNBL0IsRUFBQW1HLEtBQUEsRUFBQTFFLEVBQUFpRixHQUFBbkMsT0FDQWhGLEVBQUFNLEtBQUEsYUFBQUcsS0FNQXlCLEVBQUFELEdBQUFKLEVBQUFxQixFQUFBQyxNQUFBLElBQUFqQixFQUFBRCxHQUFBbUIsT0FBQSxHQUFBbEIsRUFBQUQsR0FBQUosRUFBQXFCLEVBQUFDLE1BQUEsSUFBQUQsRUFBQUMsTUFBQWpCLEVBQUFELEdBQUFtQixPQUFBLEdBQ0FsQixFQUFBRCxHQUFBSSxFQUFBYSxFQUFBQyxNQUFBLElBQUFqQixFQUFBRCxHQUFBbUIsT0FBQSxHQUFBbEIsRUFBQUQsR0FBQUksRUFBQWEsRUFBQUMsTUFBQSxJQUFBRCxFQUFBQyxNQUFBakIsRUFBQUQsR0FBQW1CLE9BQUEsS0FDQThDLEVBQUFRLE9BQ0F4RSxFQUFBRCxHQUFBaUYsT0FDQXpHLEtBQ0FBLEVBQUFFLFNBQUF1QixFQUFBRCxHQUFBTyxTQUNBL0IsRUFBQW1HLEtBQUEsRUFBQTFFLEVBQUFELEdBQUErQyxPQUNBaEYsRUFBQU0sS0FBQSxhQUFBRyxHQUlBLEtBQUEsR0FBQStHLEtBQUE1RSxHQUFBLENBQ0EsR0FBQTZFLEdBQUE3RSxFQUFBNEUsR0FBQTNGLEVBQUFxQixFQUFBQyxNQUFBLElBQ0F1RSxFQUFBOUUsRUFBQTRFLEdBQUFuRixFQUFBYSxFQUFBQyxNQUFBLElBRUF3RSxFQUFBN0YsS0FBQXVFLE1BQUFvQixFQUFBMUIsSUFBQTBCLEVBQUExQixJQUFBMkIsRUFBQTFCLElBQUEwQixFQUFBMUIsR0FDQSxJQUFBMkIsRUFBQS9FLEVBQUE0RSxHQUFBckUsTUFBQSxFQUFBakIsRUFBQUQsR0FBQWtCLE1BQUEsRUFBQSxDQUNBLEdBQUF5RSxHQUFBLEdBQUF6QixPQUFBLGlDQUVBLElBREF5QixFQUFBbEIsT0FDQSxJQUFBOUQsRUFBQTRFLEdBQUFLLFNBQ0EsSUFBQSxHQUFBaEQsS0FBQTNDLEdBQ0EyQyxHQUFBNUMsR0FDQUMsRUFBQTJDLEdBQUFpRCxXQUFBbEYsRUFBQTRFLFFBSUF0RixHQUFBRCxHQUFBNkYsV0FBQWxGLEVBQUE0RSxHQUVBLEtBQUE1RSxFQUFBNEUsR0FBQU8sT0FDQXRILEtBQ0FBLEVBQUFFLFNBQUF1QixFQUFBRCxHQUFBTyxTQUNBL0IsRUFBQW1HLEtBQUEsRUFDQTVHLEVBQUFNLEtBQUEsYUFBQUcsSUFFQW1DLEVBQUFrQixPQUFBMEQsRUFBQSxLQU9BLElBQUEsR0FBQVEsS0FBQXpDLEdBQ0EsSUFBQSxHQUFBMEMsS0FBQWxFLEdBQ0EsR0FBQSxJQUFBQSxFQUFBa0UsR0FBQTdELGNBQ0FMLEVBQUFrRSxHQUFBcEQsUUFBQVUsRUFBQXlDLEdBQUF4RixTQUFBLENBQ0EsR0FBQTBGLEdBQUFwRyxLQUFBdUUsS0FBQSxHQUFBLEdBQUF0QyxFQUFBa0UsR0FBQTdFLE9BQUEsRUFBQVcsRUFBQWtFLEdBQUE5RSxNQUFBLEdBQ0FnRixHQUFBLElBQUFwRSxFQUFBa0UsR0FBQSxVQUFBLElBQUFuRyxLQUFBeUMsR0FDQTZELEVBQUFyRSxFQUFBa0UsR0FBQXBHLEVBQUFxQixFQUFBQyxNQUFBLElBQUErRSxFQUFBcEcsS0FBQTJDLElBQUEwRCxHQUNBRSxFQUFBdEUsRUFBQWtFLEdBQUE1RixFQUFBYSxFQUFBQyxNQUFBLElBQUErRSxFQUFBcEcsS0FBQTBDLElBQUEyRCxHQUVBRyxFQUFBL0MsRUFBQXlDLEdBQUFuRyxFQUFBcUIsRUFBQUMsTUFBQSxJQUNBb0YsRUFBQWhELEVBQUF5QyxHQUFBM0YsRUFBQWEsRUFBQUMsTUFBQSxJQUVBcUYsRUFBQTFHLEtBQUF1RSxNQUFBK0IsRUFBQUUsSUFBQUYsRUFBQUUsSUFBQUQsRUFBQUUsSUFBQUYsRUFBQUUsR0FDQUMsR0FBQXpFLEVBQUFrRSxHQUFBOUUsTUFBQSxFQUFBb0MsRUFBQXlDLEdBQUE3RSxNQUFBLElBQ0FuRCxFQUFBTSxLQUFBLGNBQUFLLFNBQUE0RSxFQUFBeUMsR0FBQXhGLFNBQUF3QyxPQUFBLEVBQUFPLEVBQUF5QyxHQUFBaEQsU0FDQWpCLEVBQUFrRSxHQUFBbEQsV0FTQSxJQUFBZSxFQUFBMUUsUUFDQXFILEVBQUEzQyxHQUlBLFFBQUEyQyxHQUFBM0MsR0FDQWxHLFFBQUE4SSxVQUFBQyxLQUNBakgsRUFBQWtILE9BQUFELEdBQ0FBLEVBQUFFLFFBRUE5SSxFQUFBMEksU0FBQSxFQUNBMUksRUFBQStJLFlBQUFoRCxFQUFBLEdBQUF0RCxTQUFBLGtCQUNBeEMsRUFBQU0sS0FBQSxVQUFBd0YsRUFBQSxHQUFBdEQsVUExYkEsR0FBQXVHLEtBQUFsSCxFQUFBLEdBQUFRLEVBQUEsR0FBQWlDLFNBQUEsTUFBQXpDLEVBQUEsR0FBQVEsRUFBQSxHQUFBaUMsU0FBQSxNQUFBekMsRUFBQSxHQUFBUSxFQUFBLEdBQUFpQyxTQUFBLE1BQUF6QyxFQUFBLEdBQUFRLEVBQUEsR0FBQWlDLFNBQUEsSUFDQXZFLEdBQUFpSixPQUFBL0ksRUFBQWdKLFVBQ0FsSixFQUFBMEksU0FBQSxDQUNBLElBUUFFLEdBUkF6RixFQUFBZ0csU0FBQUMsZUFBQSxRQUNBbkcsRUFBQUUsRUFBQWtHLFdBQUEsTUFFQWxILEtBQ0E2QixLQUNBd0IsS0FDQTNDLElBSUE1QyxHQUFBUSxHQUFBLFdBQUEsV0FDQSxHQUFBNkksR0FBQW5KLEVBQUFvSixhQUNBQyxFQUFBLENBQ0EsS0FBQSxHQUFBMUUsS0FBQXdFLEdBQUEsQ0FDQSxHQUFBcEgsR0FBQW9ILEVBQUF4RSxFQUNBM0MsR0FBQVcsS0FBQSxHQUFBMkcsV0FBQXZILEVBQUF0QixTQUFBb0ksRUFBQVEsR0FBQTFILEVBQUFrSCxFQUFBUSxHQUFBbEgsRUFBQUosRUFBQXdILE1BQUFWLEVBQUFRLEdBQUFqRixXQUNBaUYsSUFHQSxJQUFBLEdBQUFHLEdBQUEsRUFBQSxHQUFBQSxFQUFBQSxJQUNBbkUsRUFBQTFDLEtBQUEsR0FBQTJDLFVBQUE1RCxJQUFBUSxJQUFBTixLQUFBQyxNQUFBLElBQUFELEtBQUFFLFVBQUFGLEtBQUFpQixLQUFBLEdBQUFqQixLQUFBRSxXQUlBMkcsR0FBQWpILEVBQUFlLEVBQUEsTUF1QkF6QyxFQUFBUSxHQUFBLFdBQUEsU0FBQUMsR0FDQSxHQUFBd0IsR0FBQSxJQUNBLEtBQUEsR0FBQXlILEtBQUF4SCxHQUNBSSxFQUFBSixFQUFBd0gsR0FBQWpKLE1BQUEsSUFDQXdCLEVBQUF5SCxFQUdBeEgsR0FBQTRCLE9BQUE3QixFQUFBLEtBR0FqQyxFQUFBUSxHQUFBLGlCQUFBLFNBQUFDLEdBQ0EsR0FBQXdCLEdBQUEsSUFDQSxLQUFBLEdBQUF5SCxLQUFBeEgsR0FDQUksRUFBQUosRUFBQXdILEdBQUFqSixNQUFBLElBQ0F3QixFQUFBeUgsRUFHQSxRQUFBekgsR0FDQUMsRUFBQUQsR0FBQTBILHdCQUFBbEosRUFBQW1KLGVBSUE1SixFQUFBUSxHQUFBLGFBQUEsU0FBQUMsR0FDQSxHQUFBVixFQUFBMEksV0FBQSxFQUFBLENBQ0EsR0FBQXhHLEdBQUEsSUFDQSxLQUFBLEdBQUF5SCxLQUFBeEgsR0FDQUksRUFBQUosRUFBQXdILEdBQUFqSixNQUFBLElBQ0F3QixFQUFBeUgsRUFHQSxJQUFBLE9BQUF6SCxFQUFBLENBQ0EsR0FBQTRILEdBQUEzSCxFQUFBRCxHQUNBcUUsR0FBQSxLQUFBdUQsRUFBQXZGLFNBQUEsTUFBQSxJQUFBeEMsS0FBQXlDLEdBQ0ExQyxFQUFBZ0ksRUFBQWhJLEVBQUFxQixFQUFBQyxNQUFBLElBQUFyQixLQUFBMkMsSUFBQTZCLEdBQ0FqRSxFQUFBd0gsRUFBQXhILEVBQUFhLEVBQUFDLE1BQUEsSUFBQXJCLEtBQUEwQyxJQUFBOEIsRUFDQXZDLEdBQUFsQixLQUFBLEdBQUFpSCxRQUFBakksRUFBQVEsRUFBQXdILEVBQUF2RixTQUFBdUYsRUFBQUosTUFBQUksRUFBQXJILFVBQ0EsSUFBQXVILEdBQUEsbUNBQ0E5SCxHQUFBLElBQUEsSUFDQThILEVBQUEsb0NBRUEsSUFBQUMsR0FBQSxHQUFBN0QsT0FBQTRELEVBQ0FDLEdBQUF0RCxVQVNBLElBQUEvRCxHQUFBYixLQUFBQyxNQUFBLElBQUFELEtBQUFFLFNBQUEsSUF3VkFqQyxHQUFBa0ssWUFBQSxXQUNBbEssRUFBQTBJLFNBQUEsQ0FDQSxJQUFBYyxHQUFBLENBQ0EsS0FBQSxHQUFBdEgsS0FBQUMsR0FDQUEsRUFBQUQsR0FBQWlJLE1BQUFuQixFQUFBUSxHQUFBMUgsRUFBQWtILEVBQUFRLEdBQUFsSCxFQUFBMEcsRUFBQVEsR0FBQWpGLFVBQ0FpRixHQUVBaEUsS0FDQSxLQUFBLEdBQUFtRSxHQUFBLEVBQUEsR0FBQUEsRUFBQUEsSUFDQW5FLEVBQUExQyxLQUFBLEdBQUEyQyxVQUFBNUQsSUFBQVEsSUFBQU4sS0FBQUMsTUFBQSxJQUFBRCxLQUFBRSxVQUFBRixLQUFBaUIsS0FBQSxHQUFBakIsS0FBQUUsV0FFQStCLE1BQ0FuQixLQUNBRCxFQUFBYixLQUFBQyxNQUFBLElBQUFELEtBQUFFLFNBQUEsS0FFQWdCLEVBQUFDLFVBQUEsRUFBQSxFQUFBQyxFQUFBQyxNQUFBRCxFQUFBRSxRQUNBcEQsRUFBQU0sS0FBQSxjQUFBLE1BQ0FxSSxFQUFBakgsRUFBQWUsRUFBQSxLQUlBN0MsU0FBQUMsT0FBQSxPQUFBMkIsV0FBQSxrQkFBQSxTQUFBLFlBQUEsVUFBQSxnQkFBQSxpQkFBQSxnQkFBQUMsT0NyZEEsV0FDQSxHQUFBMEksR0FBQSxTQUFBeEksR0FRQSxRQUFBeUksR0FBQUMsRUFBQUMsRUFBQUMsR0FDQTVJLEVBQUE2SSxXQUFBN0ksRUFBQThJLFlBQ0FKLEVBQUFsSCxNQUFBeEIsRUFBQTZJLFdBQUEsR0FFQUgsRUFBQWxILE1BQUF4QixFQUFBOEksWUFBQSxHQUdBN0ssUUFBQTBLLFFBQUEzSSxHQUFBK0ksS0FBQSxTQUFBLFdBQ0EvSSxFQUFBNkksV0FBQTdJLEVBQUE4SSxZQUNBSixFQUFBbEgsTUFBQXhCLEVBQUE2SSxXQUFBLEdBRUFILEVBQUFsSCxNQUFBeEIsRUFBQThJLFlBQUEsR0FHQUosRUFBQU0sWUFyQkEsT0FDQUMsU0FBQSxJQUNBUixLQUFBQSxFQUNBUyxTQUFBLEVBQ0FDLFNBQUEsOEVBc0JBbEwsU0FBQUMsT0FBQSxPQUFBa0wsVUFBQSxtQkFBQSxVQUFBWixNQzNCQSxJQUFBTCxRQUFBLFNBQUFqSSxFQUFBUSxFQUFBaUMsRUFBQW1GLEVBQUE1RSxHQUNBbUcsS0FBQW5KLEVBQUFBLEVBQ0FtSixLQUFBM0ksRUFBQUEsRUFDQTJJLEtBQUExRyxTQUFBQSxFQUNBMEcsS0FBQXpILE1BQUEsR0FBQTBILE9BQ0FELEtBQUF2QixNQUFBQSxFQUNBdUIsS0FBQTdILE1BQUEsRUFDQTZILEtBQUE1SCxPQUFBLEVBQ0E0SCxLQUFBbkcsT0FBQUEsRUFDQW1HLEtBQUF0RyxlQUFBLEdBQUF1RyxPQUNBRCxLQUFBNUcsYUFBQSxFQUNBLFVBQUE0RyxLQUFBdkIsUUFDQXVCLEtBQUF2QixNQUFBLE9BRUF1QixLQUFBekgsTUFBQTJILElBQUEsNkJBQUFGLEtBQUF2QixNQUFBMEIsT0FBQSxHQUFBQyxjQUFBSixLQUFBdkIsTUFBQTRCLE1BQUEsR0FBQSxTQUdBdkIsUUFBQXdCLFVBQUF2RyxRQUFBLFdBQ0EsR0FBQWlHLEtBQUE1RyxhQUFBLEVBQUEsQ0FDQTRHLEtBQUE1RyxjQUNBLElBQUFtSCxFQUVBQSxHQURBUCxLQUFBNUcsYUFBQSxFQUNBLEVBRUEsRUFFQTRHLEtBQUF0RyxlQUFBd0csSUFBQSw2QkFBQUYsS0FBQXZCLE1BQUEwQixPQUFBLEdBQUFDLGNBQUFKLEtBQUF2QixNQUFBNEIsTUFBQSxHQUFBLFVBQUFFLEVBQUEsV0FFQVAsTUFBQXRHLGVBQUF3RyxJQUFBLEdDM0JBLElBQUFwSSxTQUFBLFNBQUFqQixFQUFBUSxFQUFBMEYsRUFBQUYsR0FDQW1ELEtBQUFuSixFQUFBQSxFQUNBbUosS0FBQTNJLEVBQUFBLEVBQ0EySSxLQUFBN0gsTUFBQSxFQUNBNkgsS0FBQTVILE9BQUEsRUFDQTRILEtBQUFqRCxLQUFBQSxFQUNBaUQsS0FBQW5ILFNBQUEsSUFDQW1ILEtBQUFRLGVBQUEsR0FDQSxJQUFBQyxFQUdBLFFBRkFULEtBQUF6SCxNQUFBLEdBQUEwSCxPQUNBRCxLQUFBbkQsU0FBQUEsRUFDQUUsR0FDQSxJQUFBLEdBQ0EwRCxFQUFBLE9BQ0EsTUFDQSxLQUFBLEdBQ0FBLEVBQUEsU0FDQSxNQUNBLEtBQUEsR0FDQUEsRUFBQSxRQUlBLE9BQUE1RCxHQUNBLElBQUEsR0FDQTRELEdBQUEsVUFDQSxNQUNBLEtBQUEsR0FDQUEsR0FBQSxhQUVBVCxLQUFBekgsTUFBQTJILElBQUEsMkJBQUFPLEVBR0EzSSxTQUFBd0ksVUFBQTFILGlCQUFBLFdBQ0FvSCxLQUFBbkgsU0FBQSxHQUNBbUgsS0FBQW5ILFdDcENBLElBQUEyRixXQUFBLFNBQUFoSCxFQUFBWCxFQUFBUSxFQUFBb0gsRUFBQW5GLEdBQ0EwRyxLQUFBeEksU0FBQUEsRUFDQXdJLEtBQUFuSixFQUFBQSxFQUNBbUosS0FBQTNJLEVBQUFBLEVBQ0EySSxLQUFBdEksTUFBQSxFQUNBc0ksS0FBQXZCLE1BQUFBLEVBQ0F1QixLQUFBMUcsU0FBQUEsRUFDQTBHLEtBQUF6SCxNQUFBLEdBQUEwSCxPQUNBRCxLQUFBaEcsT0FBQSxFQUNBZ0csS0FBQTdILE1BQUEsRUFDQTZILEtBQUE1SCxPQUFBLEVBQ0E0SCxLQUFBVSxZQUNBVixLQUFBOUYsUUFBQSxFQUNBOEYsS0FBQTNGLFlBQUEsR0FBQTRGLE9BQ0FELEtBQUEzRixZQUFBNkYsSUFBQSxvQ0FDQUYsS0FBQS9GLFlBQUEsR0FBQWdHLE9BQ0FELEtBQUF6SCxNQUFBMkgsSUFBQSw2QkFBQUYsS0FBQXZCLE1BQUEsT0FDQXVCLEtBQUE1RyxhQUFBLEdBR0FvRixXQUFBOEIsVUFBQXBCLE1BQUEsU0FBQXJJLEVBQUFRLEVBQUFpQyxHQUNBMEcsS0FBQXRJLE1BQUEsRUFDQXNJLEtBQUFoRyxPQUFBLEVBQ0FnRyxLQUFBL0YsWUFBQSxHQUFBZ0csT0FDQUQsS0FBQXpILE1BQUEySCxJQUFBLDZCQUFBRixLQUFBdkIsTUFBQSxPQUNBdUIsS0FBQW5KLEVBQUFBLEVBQ0FtSixLQUFBM0ksRUFBQUEsRUFDQTJJLEtBQUExRyxTQUFBQSxFQUVBMEcsS0FBQTVHLGFBQUEsSUFHQW9GLFVBQUE4QixVQUFBSyxjQUFBLFNBQUE5SixFQUFBUSxHQUNBMkksS0FBQW5KLEVBQUFBLEVBQ0FtSixLQUFBM0ksRUFBQUEsR0FHQW1ILFVBQUE4QixVQUFBTSxzQkFBQSxTQUFBL0osRUFBQVEsR0FDQTJJLEtBQUFuSixFQUFBbUosS0FBQW5KLEVBQUFBLEVBQ0FtSixLQUFBM0ksRUFBQTJJLEtBQUEzSSxFQUFBQSxHQUdBbUgsVUFBQThCLFVBQUFPLGdCQUFBLFNBQUFDLEdBQ0FkLEtBQUExRyxTQUFBd0gsR0FHQXRDLFVBQUE4QixVQUFBM0Isd0JBQUEsU0FBQW1DLEdBQ0FBLEVBQUEsR0FDQUEsRUFBQSxHQUNBLElBQUFBLElBQ0FBLEVBQUEsS0FFQWQsS0FBQTFHLFNBQUEwRyxLQUFBMUcsU0FBQXdILEVBQUEsRUFDQWQsS0FBQTFHLFNBQUEsT0FDQTBHLEtBQUExRyxTQUFBMEcsS0FBQTFHLFNBQUEsS0FFQTBHLEtBQUExRyxTQUFBLE1BQ0EwRyxLQUFBMUcsU0FBQTBHLEtBQUExRyxTQUFBLE1BSUFrRixVQUFBOEIsVUFBQTNFLGVBQUEsV0FDQXFFLEtBQUFoRyxPQUFBLElBQ0FnRyxLQUFBaEcsUUFBQSxHQUdBZ0csS0FBQWhHLFFBQUEsR0FBQWdHLEtBQUFoRyxPQUFBLEVBQ0FnRyxLQUFBL0YsWUFBQWlHLElBQUEsMENBQUFGLEtBQUFoRyxPQUFBLE9BQ0EsR0FBQWdHLEtBQUFoRyxRQUNBZ0csS0FBQWpHLFdBSUF5RSxVQUFBOEIsVUFBQXBFLEtBQUEsV0FDQThELEtBQUFoRyxPQUFBLEVBQ0FnRyxLQUFBakcsV0FHQXlFLFVBQUE4QixVQUFBdkcsUUFBQSxXQUNBaUcsS0FBQTVHLGNBQUEsTUFDQTRHLEtBQUE1RyxlQUNBNEcsS0FBQS9GLFlBQUFpRyxJQUFBLDZCQUFBcEosS0FBQUMsTUFBQWlKLEtBQUE1RyxhQUFBLElBQUEsU0FJQW9GLFVBQUE4QixVQUFBUyxlQUFBLFdBQ0FmLEtBQUFoRyxPQUFBLElBQ0FnRyxLQUFBaEcsUUFBQSxHQUdBZ0csS0FBQWhHLFFBQUEsR0FBQWdHLEtBQUFoRyxPQUFBLElBQ0FnRyxLQUFBL0YsWUFBQWlHLElBQUEsMENBQUFGLEtBQUFoRyxPQUFBLFNBSUF3RSxVQUFBOEIsVUFBQXhELFdBQUEsU0FBQXhFLEdBQ0EsT0FBQUEsRUFBQXlFLE1BQ0EsSUFBQSxHQUNBaUQsS0FBQXRJLFFBQ0FzSSxLQUFBVSxTQUFBN0ksS0FBQVMsRUFDQSxNQUNBLEtBQUEsR0FDQTBILEtBQUE5RixRQUFBLEVBQ0E4RixLQUFBVSxTQUFBN0ksS0FBQVMsRUFDQSxNQUNBLEtBQUEsR0FDQTBILEtBQUFoRyxPQUFBLEVBQ0FnRyxLQUFBL0YsWUFBQWlHLElBQUEsS0FLQTFCLFVBQUE4QixVQUFBaEcsYUFBQSxXQUNBLElBQUEsR0FBQXJELEtBQUErSSxNQUFBVSxTQUNBLEdBQUFWLEtBQUFVLFNBQUF6SixHQUFBdUosZUFBQSxFQUNBUixLQUFBVSxTQUFBekosR0FBQXVKLHFCQUNBLENBQ0EsT0FBQVIsS0FBQVUsU0FBQXpKLEdBQUE4RixNQUNBLElBQUEsR0FDQWlELEtBQUF0SSxPQUNBLE1BQ0EsS0FBQSxHQUNBc0ksS0FBQTlGLFFBQUEsRUFHQThHLFFBQUFDLElBQUEsaUJBQ0FELFFBQUFDLElBQUFqQixLQUFBVSxVQUNBVixLQUFBVSxTQUFBNUgsT0FBQTdCLEVBQUEsR0FDQStKLFFBQUFDLElBQUFqQixLQUFBVSxXQy9IQSxJQUFBbEcsVUFBQSxTQUFBM0QsRUFBQVEsRUFBQWlDLEVBQUE0SCxHQUNBbEIsS0FBQW5KLEVBQUFBLEVBQ0FtSixLQUFBM0ksRUFBQUEsRUFDQTJJLEtBQUE3SCxNQUFBLEVBQ0E2SCxLQUFBNUgsT0FBQSxFQUNBNEgsS0FBQTFHLFNBQUFBLEVBQ0EwRyxLQUFBa0IsTUFBQUEsRUFDQWxCLEtBQUF6SCxNQUFBLEdBQUEwSCxPQUNBRCxLQUFBekgsTUFBQTJILElBQUEsZ0NBQUFnQixFQUFBLE9BQ0FsQixLQUFBdEksTUFBQSxFQUNBc0ksS0FBQWhFLEtBQUEsRUFHQXhCLFVBQUE4RixVQUFBM0YsU0FBQSxTQUFBdUcsR0FDQWxCLEtBQUFrQixNQUFBQSxFQUNBbEIsS0FBQXpILE1BQUEySCxJQUFBLGdDQUFBZ0IsRUFBQSxRQ1pBLFdBQ0EsR0FBQWpNLEdBQUEsV0FFQSxHQUFBRSxJQUFBLEVBRUE2SSxHQUFBLENBRUEsUUFDQTVJLFVBQUEsV0FDQSxNQUFBRCxJQUVBbUIsVUFBQSxTQUFBNkssR0FDQWhNLEVBQUFnTSxHQUVBbEQsVUFBQSxXQUNBLE1BQUFELElBRUF6SCxVQUFBLFNBQUE0SyxHQUNBbkQsRUFBQW1ELElBS0F2TSxTQUFBQyxPQUFBLE9BQUF1TSxRQUFBLGtCQUFBbk0sT0MzQkEsV0FDQSxHQUFBQyxHQUFBLFdBRUEsR0FBQW1NLEtBRUEsUUFDQS9DLFdBQUEsV0FDQSxNQUFBK0MsSUFFQXBMLFdBQUEsU0FBQXFMLEdBQ0FELEVBQUFDLElBS0ExTSxTQUFBQyxPQUFBLE9BQUF1TSxRQUFBLGlCQUFBbE0sT0NmQSxXQUVBLEdBQUFGLEdBQUEsU0FBQXVNLEdBQ0EsWUFFQSxJQUFBQyxHQUFBQyxHQUFBQyxRQUFBQyxPQUFBQyxTQUFBQyxNQUVBck0sRUFBQSxTQUFBc00sRUFBQUMsR0FDQVAsRUFBQWhNLEdBQUFzTSxFQUFBLFdBQ0EsR0FBQUUsR0FBQUMsU0FDQVYsR0FBQVcsT0FBQSxXQUNBSCxFQUFBSSxNQUFBWCxFQUFBUSxRQUtBMU0sRUFBQSxTQUFBd00sRUFBQXJNLEVBQUFzTSxHQUNBUCxFQUFBbE0sS0FBQXdNLEVBQUFyTSxFQUFBLFdBQ0EsR0FBQXVNLEdBQUFDLFNBQ0FWLEdBQUFXLE9BQUEsV0FDQUgsR0FDQUEsRUFBQUksTUFBQVgsRUFBQVEsT0FPQSxRQUNBeE0sR0FBQUEsRUFDQUYsS0FBQUEsRUFDQWtNLE9BQUFBLEdBSUE1TSxTQUFBQyxPQUFBLE9BQUF1TSxRQUFBLGlCQUFBLGFBQUFwTSIsImZpbGUiOiJhcHAubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDcmVhdGVkIGJ5IE1pY2hpZWwgb24gMjUvMTEvMjAxNS5cbiAqL1xuKGZ1bmN0aW9uKCl7XG5cbiAgICB2YXIgYXBwID0gYW5ndWxhci5tb2R1bGUoXCJhcHBcIixbXSk7XG59KSgpOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IE1pY2hpZWwgb24gMTEvMTIvMjAxNS5cclxuICovXHJcblxyXG4oZnVuY3Rpb24oKXtcclxuICAgIHZhciBsb2dpbkNvbnRyb2xsZXIgPSBmdW5jdGlvbigkc2NvcGUsIHNvY2tldFNlcnZpY2UsIGRpc3BsYXlTZXJ2aWNlLCBwbGF5ZXJTZXJ2aWNlKXtcclxuXHJcbiAgICAgICAgJHNjb3BlLkxDU2hvdyA9IGRpc3BsYXlTZXJ2aWNlLmdldExDU2hvdztcclxuXHJcbiAgICAgICAgLy9mdW5jdGlvbnNcclxuICAgICAgICB2YXIgbWFrZVJvb20gPSBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICBzb2NrZXRTZXJ2aWNlLmVtaXQoXCJwY2Nvbm5lY3RcIiwgbnVsbCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICAkc2NvcGUucm9vbSA9IFwiXCI7XHJcbiAgICAgICAgc29ja2V0U2VydmljZS5vbigncmVxdWVzdFJvb20nLGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgICAgICAkc2NvcGUucm9vbSA9IGRhdGE7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgc29ja2V0U2VydmljZS5vbignZGV2aWNlT3JpZW50YXRpb24nLCBmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICAgICAgdmFyIHVzZXJuYW1lID0gZGF0YS51c2VybmFtZTtcclxuICAgICAgICAgICAgdmFyIGRldmljZU9yaWVudGF0aW9uID0ge307XHJcbiAgICAgICAgICAgIGRldmljZU9yaWVudGF0aW9uLmdhbW1hID0gZGF0YS5nYW1tYTtcclxuICAgICAgICAgICAgZGV2aWNlT3JpZW50YXRpb24uYmV0YSA9IGRhdGEuYmV0YTtcclxuICAgICAgICAgICAgZGV2aWNlT3JpZW50YXRpb24uYWxwaGEgPSBkYXRhLmFscGhhO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgICRzY29wZS51c2VybmFtZXMgPSB7fTtcclxuICAgICAgICAkc2NvcGUuY2hlY2tVc2VyQ291bnQgPSBmYWxzZTtcclxuICAgICAgICBzb2NrZXRTZXJ2aWNlLm9uKCd1cGRhdGV1c2VycycsIGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgIHBsYXllclNlcnZpY2Uuc2V0UGxheWVycyhkYXRhKTtcclxuICAgICAgICAgICAgJHNjb3BlLnVzZXJuYW1lcyA9IGRhdGE7XHJcbiAgICAgICAgICAgICRzY29wZS5jaGVja1VzZXJDb3VudCA9IE9iamVjdC5rZXlzKCRzY29wZS51c2VybmFtZXMpLmxlbmd0aCA8IDA7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICRzY29wZS5zdGFydEdhbWU9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgc29ja2V0U2VydmljZS5lbWl0KFwic3RhcnRHYW1lXCIsIG51bGwpO1xyXG4gICAgICAgICAgICBkaXNwbGF5U2VydmljZS5zZXRMQ1Nob3coZmFsc2UpO1xyXG4gICAgICAgICAgICBkaXNwbGF5U2VydmljZS5zZXRQQ1Nob3codHJ1ZSk7XHJcbiAgICAgICAgfTtcclxuXHJcblxyXG4gICAgICAgIChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgbWFrZVJvb20oKTtcclxuICAgICAgICB9KSgpO1xyXG5cclxuICAgIH07XHJcblxyXG4gICAgYW5ndWxhci5tb2R1bGUoXCJhcHBcIikuY29udHJvbGxlcihcImxvZ2luQ29udHJvbGxlclwiLCBbXCIkc2NvcGVcIiwgXCJzb2NrZXRTZXJ2aWNlXCIgLCBcImRpc3BsYXlTZXJ2aWNlXCIsIFwicGxheWVyU2VydmljZVwiLCBsb2dpbkNvbnRyb2xsZXJdKTtcclxufSkoKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBNaWNoaWVsIG9uIDE2LzEyLzIwMTUuXHJcbiAqL1xyXG5cclxuKGZ1bmN0aW9uKCl7XHJcbiAgICBcInVzZSBzdHJpY3RcIjtcclxuICAgIHZhciBwbGF5Q29udHJvbGxlciA9IGZ1bmN0aW9uKCRzY29wZSwgJGludGVydmFsLCAkd2luZG93LCBzb2NrZXRTZXJ2aWNlLCBkaXNwbGF5U2VydmljZSwgcGxheWVyU2VydmljZSl7XHJcbiAgICAgICAgdmFyIGRlZmF1bHRWYXJzID0gW3t4OjEwLCB5OjEwLHJvdGF0aW9uOjEzNX0se3g6OTAsIHk6MTAscm90YXRpb246MjI1fSx7eDo5MCwgeTo5MCxyb3RhdGlvbjozMTV9LHt4OjEwLCB5OjkwLHJvdGF0aW9uOjQ1fV07XHJcbiAgICAgICAgJHNjb3BlLlBDU2hvdyA9IGRpc3BsYXlTZXJ2aWNlLmdldFBDU2hvdztcclxuICAgICAgICAkc2NvcGUuZW5kR2FtZSA9IGZhbHNlO1xyXG4gICAgICAgIHZhciBjYW52ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dhbWUnKTtcclxuICAgICAgICB2YXIgY3R4ID0gY2Fudi5nZXRDb250ZXh0KCcyZCcpO1xyXG5cclxuICAgICAgICB2YXIgQWxsUGxheWVycyA9IFtdO1xyXG4gICAgICAgIHZhciBBbGxCdWxsZXRzID0gW107XHJcbiAgICAgICAgdmFyIEFsbEFzdGVyb2lkcyA9IFtdO1xyXG4gICAgICAgIHZhciBBbGxQb3dlclVwcyA9IFtdO1xyXG5cclxuICAgICAgICB2YXIgY3ljbGU7XHJcblxyXG4gICAgICAgIHNvY2tldFNlcnZpY2Uub24oXCJpbml0R2FtZVwiLCBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICB2YXIgQnVmZmVyUGxheWVyID0gcGxheWVyU2VydmljZS5nZXRQbGF5ZXJzKCk7XHJcbiAgICAgICAgICAgIHZhciB0ZWxsZXI9IDA7XHJcbiAgICAgICAgICAgIGZvcih2YXIgcGxheWVyIGluIEJ1ZmZlclBsYXllcil7XHJcbiAgICAgICAgICAgICAgICB2YXIgcCA9IEJ1ZmZlclBsYXllcltwbGF5ZXJdO1xyXG4gICAgICAgICAgICAgICAgQWxsUGxheWVycy5wdXNoKG5ldyBTcGFjZXNoaXAocC51c2VybmFtZSwgZGVmYXVsdFZhcnNbdGVsbGVyXS54LCBkZWZhdWx0VmFyc1t0ZWxsZXJdLnksIHAuY29sb3IsIGRlZmF1bHRWYXJzW3RlbGxlcl0ucm90YXRpb24pKTtcclxuICAgICAgICAgICAgICAgIHRlbGxlcisrO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmb3IodmFyIGkgPSAwOyBpPDE1OyBpKyspe1xyXG4gICAgICAgICAgICAgICAgQWxsQXN0ZXJvaWRzLnB1c2gobmV3IEFzdGVyb2lkKGNyZWF0ZUNvb3JkaW5hdGVYKCksIGNyZWF0ZUNvb3JkaW5hdGVZKCksIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSozNjEpLCBNYXRoLmNlaWwoTWF0aC5yYW5kb20oKSoxOCkpKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgICAgIGN5Y2xlID0gJGludGVydmFsKGRyYXcsIDEwKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gY3JlYXRlQ29vcmRpbmF0ZVgoKXtcclxuICAgICAgICAgICAgdmFyIHggPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqMTAwKTtcclxuICAgICAgICAgICAgZm9yKHZhciBwIGluIEFsbFBsYXllcnMpe1xyXG4gICAgICAgICAgICAgICAgaWYoTWF0aC5hYnMoQWxsUGxheWVyc1twXS54IC0geCkgPCAxMCl7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUNvb3JkaW5hdGVYKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHg7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBjcmVhdGVDb29yZGluYXRlWSgpe1xyXG4gICAgICAgICAgICB2YXIgeSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSoxMDApO1xyXG4gICAgICAgICAgICBmb3IodmFyIHAgaW4gQWxsUGxheWVycyl7XHJcbiAgICAgICAgICAgICAgICBpZihNYXRoLmFicyhBbGxQbGF5ZXJzW3BdLnkgLSB5KSA8IDEwKXtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlQ29vcmRpbmF0ZVkoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4geTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHNvY2tldFNlcnZpY2Uub24oXCJ1c2VybGVmdFwiLCBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICB2YXIgcCA9IG51bGw7XHJcbiAgICAgICAgICAgIGZvcih2YXIgaSBpbiBBbGxQbGF5ZXJzKXtcclxuICAgICAgICAgICAgICAgIGlmKGZpbHRlclBsYXllcnMoQWxsUGxheWVyc1tpXSxkYXRhKSA9PT0gdHJ1ZSl7XHJcbiAgICAgICAgICAgICAgICAgICAgcCA9IGk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgQWxsUGxheWVycy5zcGxpY2UocCwxKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgc29ja2V0U2VydmljZS5vbihcInVwZGF0ZUdhbWVEYXRhXCIsIGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgICAgICB2YXIgcCA9IG51bGw7XHJcbiAgICAgICAgICAgIGZvcih2YXIgaSBpbiBBbGxQbGF5ZXJzKXtcclxuICAgICAgICAgICAgICAgIGlmKGZpbHRlclBsYXllcnMoQWxsUGxheWVyc1tpXSxkYXRhKSA9PT0gdHJ1ZSl7XHJcbiAgICAgICAgICAgICAgICAgICAgcCA9IGk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYocCAhPT0gbnVsbCl7XHJcbiAgICAgICAgICAgICAgICBBbGxQbGF5ZXJzW3BdLnJvdGF0ZVNwYWNlc2hpcFJlbGF0aXZlKGRhdGEub3JpZW50YXRpb24pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHNvY2tldFNlcnZpY2Uub24oXCJwbGF5ZXJTaG90XCIsIGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgICAgICBpZigkc2NvcGUuZW5kR2FtZT09PWZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcCA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpIGluIEFsbFBsYXllcnMpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZmlsdGVyUGxheWVycyhBbGxQbGF5ZXJzW2ldLCBkYXRhKSA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwID0gaTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAocCAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gQWxsUGxheWVyc1twXTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgYW5nbGUgPSAoMzYwIC0gKHRlbXAucm90YXRpb24gKyAxODApKSAvIDE4MCAqIE1hdGguUEk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHggPSB0ZW1wLnggKyAoY2Fudi53aWR0aCAvIDQwMCAqIE1hdGguc2luKGFuZ2xlKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHkgPSB0ZW1wLnkgKyAoY2Fudi53aWR0aCAvIDQwMCAqIE1hdGguY29zKGFuZ2xlKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgQWxsQnVsbGV0cy5wdXNoKG5ldyBCdWxsZXQoeCwgeSwgdGVtcC5yb3RhdGlvbiwgdGVtcC5jb2xvciwgdGVtcC51c2VyTmFtZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBhdWRpb1VybCA9ICcuLi8uLi9hc3NldHMvQm9udXMvc2Z4X2xhc2VyMi5vZ2cnO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwICUgMiA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhdWRpb1VybCA9ICcuLi8uLi9hc3NldHMvQm9udXMvc2Z4X2xhc2VyMS5vZ2cnO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB2YXIgc2hvdCA9IG5ldyBBdWRpbyhhdWRpb1VybCk7XHJcbiAgICAgICAgICAgICAgICAgICAgc2hvdC5wbGF5KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gZmlsdGVyUGxheWVycyhvYmosZGF0YSl7XHJcbiAgICAgICAgICAgIHJldHVybiBkYXRhLnVzZXJuYW1lID09PSBvYmoudXNlck5hbWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgUG93ZXJ1cFNwYXduVGltZSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSo1MDAgKyA1MDApO1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBkcmF3KCl7XHJcbiAgICAgICAgICAgIGlmKEFsbFBsYXllcnMubGVuZ3RoPjApe1xyXG4gICAgICAgICAgICAgICAgQWxsUGxheWVyc1swXS5zcGVlZCA9IDA7XHJcbiAgICAgICAgICAgICAgICAvL0FsbFBsYXllcnNbMV0uc3BlZWQgPSAwO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZihQb3dlcnVwU3Bhd25UaW1lID09PSAwKXtcclxuICAgICAgICAgICAgICAgIFBvd2VydXBTcGF3blRpbWUgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqNTAwICsgNTAwKTtcclxuICAgICAgICAgICAgICAgIEFsbFBvd2VyVXBzLnB1c2gobmV3IFBvd2VydXAoTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKjEwMCksTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKjEwMCksIE1hdGguY2VpbChNYXRoLnJhbmRvbSgpKjMpLE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSoyKSkpO1xyXG4gICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgIFBvd2VydXBTcGF3blRpbWUgLS07XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGN0eC5jbGVhclJlY3QoMCwwLGNhbnYud2lkdGgsIGNhbnYuaGVpZ2h0KTtcclxuICAgICAgICAgICAgdmFyIHJhdGlvID0gY2Fudi53aWR0aC8xMDA7XHJcblxyXG4gICAgICAgICAgICBpZihBbGxQb3dlclVwcy5sZW5ndGggIT09IDApe1xyXG4gICAgICAgICAgICAgICAgZm9yKHZhciBwb3dlcnVwIGluIEFsbFBvd2VyVXBzKXtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcCA9IEFsbFBvd2VyVXBzW3Bvd2VydXBdO1xyXG4gICAgICAgICAgICAgICAgICAgIHAud2lkdGggPSBjYW52LndpZHRoLzUwO1xyXG4gICAgICAgICAgICAgICAgICAgIHAuaGVpZ2h0ID0gcC53aWR0aCAqIHAuaW1hZ2UuaGVpZ2h0LyBwLmltYWdlLndpZHRoO1xyXG4gICAgICAgICAgICAgICAgICAgIGN0eC5zYXZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY3R4LnRyYW5zbGF0ZShwLngqcmF0aW8sIHAueSpyYXRpbyk7XHJcbiAgICAgICAgICAgICAgICAgICAgY3R4LmRyYXdJbWFnZShwLmltYWdlLCAtcC53aWR0aC8yLCAtcC5oZWlnaHQvMiwgcC53aWR0aCwgcC5oZWlnaHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGN0eC5yZXN0b3JlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcC5kZWNyZWFzZUR1cmF0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYocC5kdXJhdGlvbiA9PT0gMCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEFsbFBvd2VyVXBzLnNwbGljZShwb3dlcnVwLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmKEFsbEJ1bGxldHMubGVuZ3RoICE9PSAwKXtcclxuICAgICAgICAgICAgICAgIHZhciBCdWxsZXRXaWR0aCA9IGNhbnYud2lkdGgvMTAwO1xyXG4gICAgICAgICAgICAgICAgdmFyIEJ1bGxldEhlaWdodCA9IEJ1bGxldFdpZHRoICogQWxsQnVsbGV0c1swXS5pbWFnZS5oZWlnaHQvQWxsQnVsbGV0c1swXS5pbWFnZS53aWR0aDtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IodmFyIGJ1bGxldCBpbiBBbGxCdWxsZXRzKXtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgYiA9IEFsbEJ1bGxldHNbYnVsbGV0XTtcclxuICAgICAgICAgICAgICAgICAgICBiLndpZHRoID0gQnVsbGV0V2lkdGg7XHJcbiAgICAgICAgICAgICAgICAgICAgYi5oZWlnaHQgPSBCdWxsZXRIZWlnaHQ7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmKGIuZXhwbG9kZVN0YWdlID09PSAwKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9EcmF3IGJ1bGxldFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdHguc2F2ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdHgudHJhbnNsYXRlKGIueCpyYXRpbywgYi55KnJhdGlvKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3R4LnJvdGF0ZShiLnJvdGF0aW9uLzE4MCpNYXRoLlBJKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3R4LmRyYXdJbWFnZShiLmltYWdlLCAtQnVsbGV0V2lkdGgvMiwgLUJ1bGxldEhlaWdodC8yLCBCdWxsZXRXaWR0aCwgQnVsbGV0SGVpZ2h0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3R4LnJlc3RvcmUoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEFsbEJ1bGxldHNbYnVsbGV0XS54ID0gTWF0aC5jb3MoKGIucm90YXRpb24gLSA5MCkvMTgwKk1hdGguUEkpICsgYi54O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBBbGxCdWxsZXRzW2J1bGxldF0ueSA9IE1hdGguc2luKChiLnJvdGF0aW9uIC0gOTApLzE4MCpNYXRoLlBJKSsgYi55O1xyXG4gICAgICAgICAgICAgICAgICAgIH1lbHNlIGlmKGIuZXhwbG9kZVN0YWdlIDwgNCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vRHJhdyBleHBsb3Npb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgY3R4LnNhdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3R4LnRyYW5zbGF0ZShiLngqcmF0aW8sIGIueSpyYXRpbyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN0eC5kcmF3SW1hZ2UoYi5leHBsb3Npb25JbWFnZSwgLUJ1bGxldFdpZHRoLCAtQnVsbGV0V2lkdGgsIEJ1bGxldFdpZHRoKjIsIEJ1bGxldFdpZHRoKjIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdHgucmVzdG9yZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYoQWxsUGxheWVycy5sZW5ndGggIT09IDApe1xyXG4gICAgICAgICAgICAgICAgdmFyIFNwYWNlc2hpcFdpZHRoID0gY2Fudi53aWR0aC8yMDtcclxuICAgICAgICAgICAgICAgIHZhciBTcGFjZXNoaXBIZWlnaHQgPSBTcGFjZXNoaXBXaWR0aCAqIEFsbFBsYXllcnNbMF0uaW1hZ2UuaGVpZ2h0LyBBbGxQbGF5ZXJzWzBdLmltYWdlLndpZHRoO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvcih2YXIgcGxheWVyIGluIEFsbFBsYXllcnMpe1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBwbCA9IEFsbFBsYXllcnNbcGxheWVyXTtcclxuICAgICAgICAgICAgICAgICAgICBwbC53aWR0aCA9IFNwYWNlc2hpcFdpZHRoO1xyXG4gICAgICAgICAgICAgICAgICAgIHBsLmhlaWdodCA9IFNwYWNlc2hpcEhlaWdodDtcclxuICAgICAgICAgICAgICAgICAgICBjdHguc2F2ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGN0eC50cmFuc2xhdGUocGwueCpyYXRpbywgcGwueSpyYXRpbyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmKHBsLmV4cGxvZGVTdGFnZSA9PT0gLTEpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdHgucm90YXRlKHBsLnJvdGF0aW9uLzE4MCpNYXRoLlBJKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3R4LmRyYXdJbWFnZShwbC5pbWFnZSwgLVNwYWNlc2hpcFdpZHRoLzIsIC1TcGFjZXNoaXBIZWlnaHQvMiwgU3BhY2VzaGlwV2lkdGgsIFNwYWNlc2hpcEhlaWdodCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEFsbFBsYXllcnNbcGxheWVyXS5leHBsb2RlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmKHBsLmRhbWFnZSA+IDAgJiYgcGwuZXhwbG9kZVN0YWdlIDw9IDE0MCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN0eC5kcmF3SW1hZ2UocGwuZGFtYWdlSW1hZ2UsIC1TcGFjZXNoaXBXaWR0aC8yLCAtU3BhY2VzaGlwSGVpZ2h0LzIsIFNwYWNlc2hpcFdpZHRoLCBTcGFjZXNoaXBIZWlnaHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYocGwuZGFtYWdlPDQpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBBbGxQbGF5ZXJzW3BsYXllcl0ueCA9IE1hdGguY29zKChwbC5yb3RhdGlvbiAtIDkwKS8xODAqTWF0aC5QSSkvMTAqIHBsLnNwZWVkICsgcGwueDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgQWxsUGxheWVyc1twbGF5ZXJdLnkgPSBNYXRoLnNpbigocGwucm90YXRpb24gLSA5MCkvMTgwKk1hdGguUEkpLzEwKiBwbC5zcGVlZCArIHBsLnk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmKHBsLnNoaWVsZCAmJiBwbC5leHBsb2RlU3RhZ2UgPT09IC0xKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIFNoaWVsZFdpZHRoID0gU3BhY2VzaGlwV2lkdGggKiAxLjU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBTaGllbGRIZWlnaHQgPSBTaGllbGRXaWR0aCAvIHBsLnNoaWVsZEltYWdlLndpZHRoICogcGwuc2hpZWxkSW1hZ2UuaGVpZ2h0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdHguZHJhd0ltYWdlKHBsLnNoaWVsZEltYWdlLCAtU2hpZWxkV2lkdGgvMiwgLVNoaWVsZEhlaWdodC8yLCBTaGllbGRXaWR0aCwgU2hpZWxkSGVpZ2h0KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgQWxsUGxheWVyc1twbGF5ZXJdLmNoZWNrUG93ZXJ1cCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGN0eC5yZXN0b3JlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmKEFsbEFzdGVyb2lkcy5sZW5ndGg+MCl7XHJcbiAgICAgICAgICAgICAgICBmb3IodmFyIEFzdGVyb2lkIGluIEFsbEFzdGVyb2lkcyl7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGEgPSBBbGxBc3Rlcm9pZHNbQXN0ZXJvaWRdO1xyXG4gICAgICAgICAgICAgICAgICAgIGEud2lkdGggPSBjYW52LndpZHRoLzcwMCogYS5pbWFnZS53aWR0aDtcclxuICAgICAgICAgICAgICAgICAgICBhLmhlaWdodCA9IGEud2lkdGgqIGEuaW1hZ2UuaGVpZ2h0LyBhLmltYWdlLndpZHRoO1xyXG4gICAgICAgICAgICAgICAgICAgIGN0eC5zYXZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY3R4LnRyYW5zbGF0ZShhLngqcmF0aW8sIGEueSpyYXRpbyk7XHJcbiAgICAgICAgICAgICAgICAgICAgY3R4LnJvdGF0ZShhLnJvdGF0aW9uLzE4MCpNYXRoLlBJKTtcclxuICAgICAgICAgICAgICAgICAgICBjdHguZHJhd0ltYWdlKGEuaW1hZ2UsIC1hLndpZHRoLzIsIC1hLmhlaWdodC8yLCBhLndpZHRoLCBhLmhlaWdodCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY3R4LnJlc3RvcmUoKTtcclxuICAgICAgICAgICAgICAgICAgICBpZihhLnggPCAtNSB8fCBhLnggPiAxMDUgfHwgYS55IDwgLTUgfHwgYS55ID4gMTA1KXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9uaWV1d2UgYXN0ZXJvaWQgdGVrZW5lblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIga2V1emUgPSBNYXRoLnJhbmRvbSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZihrZXV6ZSA8IDAuMjUpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9saW5rc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQWxsQXN0ZXJvaWRzW0FzdGVyb2lkXS54ID0gLTQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBBbGxBc3Rlcm9pZHNbQXN0ZXJvaWRdLnkgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqMTAwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFsbEFzdGVyb2lkc1tBc3Rlcm9pZF0ucm90YXRpb24gPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqMTgwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2UgaWYoa2V1emUgPCAwLjUpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9ib3ZlblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQWxsQXN0ZXJvaWRzW0FzdGVyb2lkXS54ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKjEwMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBBbGxBc3Rlcm9pZHNbQXN0ZXJvaWRdLnkgPSAtNDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFsbEFzdGVyb2lkc1tBc3Rlcm9pZF0ucm90YXRpb24gPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqMTgwKSArIDkwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZSBpZihrZXV6ZSA8IDAuNzUpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9yZWNodHNcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFsbEFzdGVyb2lkc1tBc3Rlcm9pZF0ueCA9IDEwNDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFsbEFzdGVyb2lkc1tBc3Rlcm9pZF0ueSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSoxMDApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQWxsQXN0ZXJvaWRzW0FzdGVyb2lkXS5yb3RhdGlvbiA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSoxODApICsgMTgwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vb25kZXJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFsbEFzdGVyb2lkc1tBc3Rlcm9pZF0ueCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSoxMDApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQWxsQXN0ZXJvaWRzW0FzdGVyb2lkXS55ID0gMTA0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQWxsQXN0ZXJvaWRzW0FzdGVyb2lkXS5yb3RhdGlvbiA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSoxODApICsgMjcwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEFsbEFzdGVyb2lkc1tBc3Rlcm9pZF0uc3BlZWQgPSAxO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBBbGxBc3Rlcm9pZHNbQXN0ZXJvaWRdLnNldEltYWdlKE1hdGguY2VpbChNYXRoLnJhbmRvbSgpKjE4KSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBBbGxBc3Rlcm9pZHNbQXN0ZXJvaWRdLnggPSBNYXRoLmNvcygoYS5yb3RhdGlvbiAtIDkwKS8xODAqTWF0aC5QSSkvMzAqQWxsQXN0ZXJvaWRzW0FzdGVyb2lkXS5zcGVlZCArIGEueDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgQWxsQXN0ZXJvaWRzW0FzdGVyb2lkXS55ID0gTWF0aC5zaW4oKGEucm90YXRpb24gLSA5MCkvMTgwKk1hdGguUEkpLzMwKkFsbEFzdGVyb2lkc1tBc3Rlcm9pZF0uc3BlZWQgKyBhLnk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjaGVja0J1bGxldHMoKTtcclxuXHJcbiAgICAgICAgICAgIGNvbGxpc2lvbkRldGVjdGlvbigpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gY2hlY2tCdWxsZXRzKCl7XHJcbiAgICAgICAgICAgIGZvcih2YXIgYiBpbiBBbGxCdWxsZXRzKXtcclxuICAgICAgICAgICAgICAgIGlmKEFsbEJ1bGxldHNbYl0ueCA8IDAgfHwgQWxsQnVsbGV0c1tiXS54ID4gY2Fudi53aWR0aCB8fCBBbGxCdWxsZXRzW2JdLnkgPCAwIHx8IEFsbEJ1bGxldHNbYl0ueSA+IGNhbnYuaGVpZ2h0KXtcclxuICAgICAgICAgICAgICAgICAgICBBbGxCdWxsZXRzLnNwbGljZShiLCAxKTtcclxuICAgICAgICAgICAgICAgIH1lbHNlIGlmKEFsbEJ1bGxldHNbYl0uZXhwbG9kZVN0YWdlID4wKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKEFsbEJ1bGxldHNbYl0uZXhwbG9kZVN0YWdlIDwgNCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBBbGxCdWxsZXRzW2JdLmV4cGxvZGUoKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBBbGxCdWxsZXRzLnNwbGljZShiLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGNvbGxpc2lvbkRldGVjdGlvbigpe1xyXG4gICAgICAgICAgICAvL1BsYXllciAtIEJ1bGxldFxyXG4gICAgICAgICAgICB2YXIgbGl2aW5nUGxheWVycz1bXTtcclxuICAgICAgICAgICAgZm9yKHZhciBwIGluIEFsbFBsYXllcnMpe1xyXG4gICAgICAgICAgICAgICAgaWYoQWxsUGxheWVyc1twXS5kYW1hZ2U8NCl7XHJcbiAgICAgICAgICAgICAgICAgICAgbGl2aW5nUGxheWVycy5wdXNoKEFsbFBsYXllcnNbcF0pO1xyXG4gICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAgICAgICAgIHZhciBzcGFjZVNoaXBYID0gQWxsUGxheWVyc1twXS54ICogY2Fudi53aWR0aCAvIDEwMDtcclxuICAgICAgICAgICAgICAgIHZhciBzcGFjZVNoaXBZID0gQWxsUGxheWVyc1twXS55ICogY2Fudi53aWR0aCAvIDEwMDtcclxuICAgICAgICAgICAgICAgIHZhciBzaGllbGRSYXRpbyA9IDE7XHJcbiAgICAgICAgICAgICAgICBpZihBbGxQbGF5ZXJzW3BdLnNoaWVsZCl7XHJcbiAgICAgICAgICAgICAgICAgICAgc2hpZWxkUmF0aW8gPSAxLjU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgdmFyIGRhbWFnZXNvdW5kID0gbmV3IEF1ZGlvKCcuLi8uLi9hc3NldHMvQm9udXMvc2Z4X2xvc2Uub2dnJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yKHZhciBiIGluIEFsbEJ1bGxldHMpe1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKEFsbEJ1bGxldHNbYl0uZXhwbG9kZVN0YWdlID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChBbGxCdWxsZXRzW2JdLnBsYXllciAhPSBBbGxQbGF5ZXJzW3BdLnVzZXJOYW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmFkaXVzID0gTWF0aC5zcXJ0KDIpIC8gMiAqIChBbGxCdWxsZXRzW2JdLmhlaWdodCAvIDIgLSBBbGxCdWxsZXRzW2JdLndpZHRoIC8gMik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYW5nbGUgPSAoMzYwIC0gKEFsbEJ1bGxldHNbYl0ucm90YXRpb24pKSAvIDE4MCAqIE1hdGguUEk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYnVsbGV0SGVhZFggPSAoQWxsQnVsbGV0c1tiXS54ICogY2Fudi53aWR0aCAvIDEwMCAtIChyYWRpdXMgKiBNYXRoLnNpbihhbmdsZSkpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBidWxsZXRIZWFkWSA9IChBbGxCdWxsZXRzW2JdLnkgKiBjYW52LndpZHRoIC8gMTAwIC0gKHJhZGl1cyAqIE1hdGguY29zKGFuZ2xlKSkpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkaXN0YW5jZSA9IE1hdGguc3FydCgoYnVsbGV0SGVhZFggLSBzcGFjZVNoaXBYKSAqIChidWxsZXRIZWFkWCAtIHNwYWNlU2hpcFgpICsgKGJ1bGxldEhlYWRZIC0gc3BhY2VTaGlwWSkgKiAoYnVsbGV0SGVhZFkgLSBzcGFjZVNoaXBZKSk7XHJcblxyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGlzdGFuY2UgPCAoQWxsQnVsbGV0c1tiXS53aWR0aCAvIDIgKyBBbGxQbGF5ZXJzW3BdLndpZHRoIC8gMiAqIHNoaWVsZFJhdGlvKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhbWFnZXNvdW5kLnBsYXkoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZighQWxsUGxheWVyc1twXS5zaGllbGQpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBbGxQbGF5ZXJzW3BdLmluY3JlYXNlRGFtYWdlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS51c2VybmFtZSA9IEFsbFBsYXllcnNbcF0udXNlck5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEubGlmZSA9IDMtQWxsUGxheWVyc1twXS5kYW1hZ2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvY2tldFNlcnZpY2UuZW1pdChcInBsYXllckxpZmVcIixkYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQWxsQnVsbGV0c1tiXS5leHBsb2RlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvL1BsYXllciAtIEFzdGVyb2lkXHJcbiAgICAgICAgICAgICAgICBmb3IodmFyIGEgaW4gQWxsQXN0ZXJvaWRzKXtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgYXN0ZXJvaWRYID0gQWxsQXN0ZXJvaWRzW2FdLnggKiBjYW52LndpZHRoIC8gMTAwO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBhc3Rlcm9pZFkgPSBBbGxBc3Rlcm9pZHNbYV0ueSAqIGNhbnYud2lkdGggLyAxMDA7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBkaXN0YW5jZVBBID0gTWF0aC5zcXJ0KChhc3Rlcm9pZFggLSBzcGFjZVNoaXBYKSAqIChhc3Rlcm9pZFggLSBzcGFjZVNoaXBYKSArIChhc3Rlcm9pZFkgLSBzcGFjZVNoaXBZKSAqIChhc3Rlcm9pZFkgLSBzcGFjZVNoaXBZKSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkaXN0YW5jZVBBIDwgKEFsbEFzdGVyb2lkc1thXS53aWR0aCAvIDIgKyBBbGxQbGF5ZXJzW3BdLndpZHRoIC8gMiAqIHNoaWVsZFJhdGlvKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZihBbGxBc3Rlcm9pZHNbYV0uYm94ID09PSBmYWxzZSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBBbGxBc3Rlcm9pZHNbYV0uYm94ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhbWFnZXNvdW5kLnBsYXkoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKEFsbFBsYXllcnNbcF0uc2hpZWxkKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBbGxBc3Rlcm9pZHNbYV0ucm90YXRpb24gPSBNYXRoLmF0YW4oKChBbGxBc3Rlcm9pZHNbYV0ueSAtIEFsbFBsYXllcnNbcF0ueSkvKEFsbEFzdGVyb2lkc1thXS54IC0gQWxsUGxheWVyc1twXS54KSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFsbEFzdGVyb2lkc1thXS5zcGVlZCA9IDYqQWxsUGxheWVyc1twXS5zcGVlZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFsbFBsYXllcnNbcF0uZGVhZCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLnVzZXJuYW1lID0gQWxsUGxheWVyc1twXS51c2VyTmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLmxpZmUgPSAzLUFsbFBsYXllcnNbcF0uZGFtYWdlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvY2tldFNlcnZpY2UuZW1pdChcInBsYXllckxpZmVcIixkYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1lbHNlIGlmKGRpc3RhbmNlUEEgPiAoQWxsQXN0ZXJvaWRzW2FdLndpZHRoIC8gMiArIEFsbFBsYXllcnNbcF0ud2lkdGggLyAyICogc2hpZWxkUmF0aW8gKyAxMDApKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgQWxsQXN0ZXJvaWRzW2FdLmJveCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvL1BsYXllciAtIFBsYXllclxyXG4gICAgICAgICAgICAgICAgZm9yKHZhciBhcCBpbiBBbGxQbGF5ZXJzKXtcclxuICAgICAgICAgICAgICAgICAgICBpZihBbGxQbGF5ZXJzW2FwXS5kYW1hZ2UgPT09IDQpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoYXAhPXApe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3BhY2VTaGlwMVggPSBBbGxQbGF5ZXJzW2FwXS54ICogY2Fudi53aWR0aCAvIDEwMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNwYWNlU2hpcDFZID0gQWxsUGxheWVyc1thcF0ueSAqIGNhbnYud2lkdGggLyAxMDA7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2hpZWxkUmF0aW8xID0gMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoQWxsUGxheWVyc1thcF0uc2hpZWxkKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNoaWVsZFJhdGlvMSA9IDEuNTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRpc3RhbmNlUFAgPSBNYXRoLnNxcnQoKHNwYWNlU2hpcDFYIC0gc3BhY2VTaGlwWCkgKiAoc3BhY2VTaGlwMVggLSBzcGFjZVNoaXBYKSArIChzcGFjZVNoaXAxWSAtIHNwYWNlU2hpcFkpICogKHNwYWNlU2hpcDFZIC0gc3BhY2VTaGlwWSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGlzdGFuY2VQUCA8IChBbGxQbGF5ZXJzW2FwXS53aWR0aCAvIDIgKiBzaGllbGRSYXRpbzEgKyBBbGxQbGF5ZXJzW3BdLndpZHRoIC8gMiAqIHNoaWVsZFJhdGlvKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGFtYWdlc291bmQucGxheSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQWxsUGxheWVyc1twXS5kZWFkKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBBbGxQbGF5ZXJzW2FwXS5kZWFkKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLnVzZXJuYW1lID0gQWxsUGxheWVyc1twXS51c2VyTmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEubGlmZSA9IDMtQWxsUGxheWVyc1twXS5kYW1hZ2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb2NrZXRTZXJ2aWNlLmVtaXQoXCJwbGF5ZXJMaWZlXCIsZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLnVzZXJuYW1lID0gQWxsUGxheWVyc1thcF0udXNlck5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLmxpZmUgPSAzLUFsbFBsYXllcnNbYXBdLmRhbWFnZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvY2tldFNlcnZpY2UuZW1pdChcInBsYXllckxpZmVcIixkYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvL1BsYXllciAtIFdhbGxcclxuICAgICAgICAgICAgICAgIGlmKEFsbFBsYXllcnNbcF0ueCpjYW52LndpZHRoLzEwMCA8IEFsbFBsYXllcnNbcF0uaGVpZ2h0LzIgfHwgQWxsUGxheWVyc1twXS54KmNhbnYud2lkdGgvMTAwID4gY2Fudi53aWR0aC0oQWxsUGxheWVyc1twXS5oZWlnaHQvMil8fFxyXG4gICAgICAgICAgICAgICAgICAgIEFsbFBsYXllcnNbcF0ueSpjYW52LndpZHRoLzEwMCA8IEFsbFBsYXllcnNbcF0uaGVpZ2h0LzIgfHwgQWxsUGxheWVyc1twXS55KmNhbnYud2lkdGgvMTAwID4gY2Fudi53aWR0aC0oQWxsUGxheWVyc1twXS5oZWlnaHQvMikpe1xyXG4gICAgICAgICAgICAgICAgICAgIGRhbWFnZXNvdW5kLnBsYXkoKTtcclxuICAgICAgICAgICAgICAgICAgICBBbGxQbGF5ZXJzW3BdLmRlYWQoKTtcclxuICAgICAgICAgICAgICAgICAgICBkYXRhID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YS51c2VybmFtZSA9IEFsbFBsYXllcnNbcF0udXNlck5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YS5saWZlID0gMy1BbGxQbGF5ZXJzW3BdLmRhbWFnZTtcclxuICAgICAgICAgICAgICAgICAgICBzb2NrZXRTZXJ2aWNlLmVtaXQoXCJwbGF5ZXJMaWZlXCIsZGF0YSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy9QbGF5ZXIgLSBQb3dlcnVwXHJcbiAgICAgICAgICAgICAgICBmb3IodmFyIHB1IGluIEFsbFBvd2VyVXBzKXtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcG93ZXJ1cFggPSBBbGxQb3dlclVwc1twdV0ueCAqIGNhbnYud2lkdGggLyAxMDA7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBvd2VydXBZID0gQWxsUG93ZXJVcHNbcHVdLnkgKiBjYW52LndpZHRoIC8gMTAwO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB2YXIgZGlzdGFuY2VQUFUgPSBNYXRoLnNxcnQoKHBvd2VydXBYIC0gc3BhY2VTaGlwWCkgKiAocG93ZXJ1cFggLSBzcGFjZVNoaXBYKSArIChwb3dlcnVwWSAtIHNwYWNlU2hpcFkpICogKHBvd2VydXBZIC0gc3BhY2VTaGlwWSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkaXN0YW5jZVBQVSA8IChBbGxQb3dlclVwc1twdV0ud2lkdGggLyAyICsgQWxsUGxheWVyc1twXS53aWR0aCAvIDIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwb3dlcnVwU291bmQgPSBuZXcgQXVkaW8oJy4uLy4uL2Fzc2V0cy9Cb251cy9zZnhfemFwLm9nZycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3dlcnVwU291bmQucGxheSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZihBbGxQb3dlclVwc1twdV0uYm9vbFNlbGYgPT09IDEpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yKHZhciBwbGF5ZXIgaW4gQWxsUGxheWVycyl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYocGxheWVyICE9IHApe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBbGxQbGF5ZXJzW3BsYXllcl0uYWRkUG93ZXJ1cChBbGxQb3dlclVwc1twdV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBBbGxQbGF5ZXJzW3BdLmFkZFBvd2VydXAoQWxsUG93ZXJVcHNbcHVdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZihBbGxQb3dlclVwc1twdV0udHlwZSA9PT0gMyl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLnVzZXJuYW1lID0gQWxsUGxheWVyc1twXS51c2VyTmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEubGlmZSA9IDM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb2NrZXRTZXJ2aWNlLmVtaXQoXCJwbGF5ZXJMaWZlXCIsIGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEFsbFBvd2VyVXBzLnNwbGljZShwdSwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy9CdWxsZXQgLSBBc3Rlcm9pZFxyXG4gICAgICAgICAgICBmb3IodmFyIGFhIGluIEFsbEFzdGVyb2lkcykge1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgYWIgaW4gQWxsQnVsbGV0cykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChBbGxCdWxsZXRzW2FiXS5leHBsb2RlU3RhZ2UgPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKEFsbEJ1bGxldHNbYWJdLnBsYXllciAhPSBBbGxBc3Rlcm9pZHNbYWFdLnVzZXJOYW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmFkaXVzQiA9IE1hdGguc3FydCgyKSAvIDIgKiAoQWxsQnVsbGV0c1thYl0uaGVpZ2h0IC8gMiAtIEFsbEJ1bGxldHNbYWJdLndpZHRoIC8gMik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYW5nbGVCID0gKDM2MCAtIChBbGxCdWxsZXRzW2FiXS5yb3RhdGlvbikpIC8gMTgwICogTWF0aC5QSTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhQnVsbGV0SGVhZFggPSAoQWxsQnVsbGV0c1thYl0ueCAqIGNhbnYud2lkdGggLyAxMDAgLSAocmFkaXVzQiAqIE1hdGguc2luKGFuZ2xlQikpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhQnVsbGV0SGVhZFkgPSAoQWxsQnVsbGV0c1thYl0ueSAqIGNhbnYud2lkdGggLyAxMDAgLSAocmFkaXVzQiAqIE1hdGguY29zKGFuZ2xlQikpKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYXN0ZXJvaWRhWCA9IEFsbEFzdGVyb2lkc1thYV0ueCAqIGNhbnYud2lkdGggLyAxMDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYXN0ZXJvaWRhWSA9IEFsbEFzdGVyb2lkc1thYV0ueSAqIGNhbnYud2lkdGggLyAxMDA7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRpc3RhbmNlQkEgPSBNYXRoLnNxcnQoKGFCdWxsZXRIZWFkWCAtIGFzdGVyb2lkYVgpICogKGFCdWxsZXRIZWFkWCAtIGFzdGVyb2lkYVgpICsgKGFCdWxsZXRIZWFkWSAtIGFzdGVyb2lkYVkpICogKGFCdWxsZXRIZWFkWSAtIGFzdGVyb2lkYVkpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkaXN0YW5jZUJBIDwgKEFsbEJ1bGxldHNbYWJdLndpZHRoIC8gMiArIEFsbEFzdGVyb2lkc1thYV0ud2lkdGggLyAyKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvY2tldFNlcnZpY2UuZW1pdChcInBsYXllckxpZmVcIiwge3VzZXJuYW1lOkFsbEFzdGVyb2lkc1thYV0udXNlck5hbWUsIGRhbWFnZTogKDMgLSBBbGxBc3Rlcm9pZHNbYWFdLmRhbWFnZSl9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBbGxCdWxsZXRzW2FiXS5leHBsb2RlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vXHJcblxyXG4gICAgICAgICAgICBpZihsaXZpbmdQbGF5ZXJzLmxlbmd0aD09PTEpe1xyXG4gICAgICAgICAgICAgICAgZW5kR2FtZShsaXZpbmdQbGF5ZXJzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gZW5kR2FtZShsaXZpbmdQbGF5ZXJzKXtcclxuICAgICAgICAgICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKGN5Y2xlKSkge1xyXG4gICAgICAgICAgICAgICAgJGludGVydmFsLmNhbmNlbChjeWNsZSk7XHJcbiAgICAgICAgICAgICAgICBjeWNsZSA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAkc2NvcGUuZW5kR2FtZT10cnVlO1xyXG4gICAgICAgICAgICAkc2NvcGUuZW5kR2FtZVRleHQ9IGxpdmluZ1BsYXllcnNbMF0udXNlck5hbWUgKyBcIiBpcyB0aGUgd2lubmVyIVwiO1xyXG4gICAgICAgICAgICBzb2NrZXRTZXJ2aWNlLmVtaXQoXCJlbmRHYW1lXCIsIGxpdmluZ1BsYXllcnNbMF0udXNlck5hbWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAkc2NvcGUucmVzdGFydEdhbWUgPSBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAkc2NvcGUuZW5kR2FtZT1mYWxzZTtcclxuICAgICAgICAgICAgdmFyIHRlbGxlcj0wO1xyXG4gICAgICAgICAgICBmb3IodmFyIHAgaW4gQWxsUGxheWVycyl7XHJcbiAgICAgICAgICAgICAgICBBbGxQbGF5ZXJzW3BdLnJlc2V0KGRlZmF1bHRWYXJzW3RlbGxlcl0ueCxkZWZhdWx0VmFyc1t0ZWxsZXJdLnksZGVmYXVsdFZhcnNbdGVsbGVyXS5yb3RhdGlvbik7XHJcbiAgICAgICAgICAgICAgICB0ZWxsZXIrKztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBBbGxBc3Rlcm9pZHM9W107XHJcbiAgICAgICAgICAgIGZvcih2YXIgaSA9IDA7IGk8MTU7IGkrKyl7XHJcbiAgICAgICAgICAgICAgICBBbGxBc3Rlcm9pZHMucHVzaChuZXcgQXN0ZXJvaWQoY3JlYXRlQ29vcmRpbmF0ZVgoKSwgY3JlYXRlQ29vcmRpbmF0ZVkoKSwgTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKjM2MSksIE1hdGguY2VpbChNYXRoLnJhbmRvbSgpKjE4KSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIEFsbEJ1bGxldHMgPSBbXTtcclxuICAgICAgICAgICAgQWxsUG93ZXJVcHMgPSBbXTtcclxuICAgICAgICAgICAgUG93ZXJ1cFNwYXduVGltZSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSo1MDAgKyA1MDApO1xyXG5cclxuICAgICAgICAgICAgY3R4LmNsZWFyUmVjdCgwLDAsY2Fudi53aWR0aCwgY2Fudi5oZWlnaHQpO1xyXG4gICAgICAgICAgICBzb2NrZXRTZXJ2aWNlLmVtaXQoXCJyZXN0YXJ0R2FtZVwiLG51bGwpO1xyXG4gICAgICAgICAgICBjeWNsZSA9ICRpbnRlcnZhbChkcmF3LCAxMCk7XHJcbiAgICAgICAgfTtcclxuICAgIH07XHJcblxyXG4gICAgYW5ndWxhci5tb2R1bGUoXCJhcHBcIikuY29udHJvbGxlcihcInBsYXlDb250cm9sbGVyXCIsIFtcIiRzY29wZVwiLCBcIiRpbnRlcnZhbFwiLCBcIiR3aW5kb3dcIiwgXCJzb2NrZXRTZXJ2aWNlXCIsIFwiZGlzcGxheVNlcnZpY2VcIiwgXCJwbGF5ZXJTZXJ2aWNlXCIsIHBsYXlDb250cm9sbGVyXSk7XHJcbn0pKCk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkganVzdGlqbmRlcG92ZXIgb24gMTYvMTIvMTUuXHJcbiAqL1xyXG4oZnVuY3Rpb24oKXtcclxuICAgIHZhciBjYW52YXNEaXJlY3RpdmUgPSBmdW5jdGlvbigkd2luZG93KXtcclxuICAgICAgICByZXR1cm57XHJcbiAgICAgICAgICAgIHJlc3RyaWN0OiAnRScsXHJcbiAgICAgICAgICAgIGxpbms6bGluayxcclxuICAgICAgICAgICAgcmVwbGFjZTp0cnVlLFxyXG4gICAgICAgICAgICB0ZW1wbGF0ZTonPGNhbnZhcyBpZD1cImdhbWVcIiBjbGFzcz1cInBsYXlBcmVhXCIgd2lkdGg9XCJ7e3dpZHRofX1cIiBoZWlnaHQ9XCJ7e3dpZHRofX1cIiAvPidcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBsaW5rKHNjb3BlLCBlbGVtZW50LCBhdHRycyl7XHJcbiAgICAgICAgICAgIGlmKCR3aW5kb3cuaW5uZXJXaWR0aCA8ICR3aW5kb3cuaW5uZXJIZWlnaHQpe1xyXG4gICAgICAgICAgICAgICAgc2NvcGUud2lkdGggPSAkd2luZG93LmlubmVyV2lkdGggLSAyMDtcclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICBzY29wZS53aWR0aCA9ICR3aW5kb3cuaW5uZXJIZWlnaHQgLSAyMDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgYW5ndWxhci5lbGVtZW50KCR3aW5kb3cpLmJpbmQoJ3Jlc2l6ZScsIGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICBpZigkd2luZG93LmlubmVyV2lkdGggPCAkd2luZG93LmlubmVySGVpZ2h0KXtcclxuICAgICAgICAgICAgICAgICAgICBzY29wZS53aWR0aCA9ICR3aW5kb3cuaW5uZXJXaWR0aCAtIDIwO1xyXG4gICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgc2NvcGUud2lkdGggPSAkd2luZG93LmlubmVySGVpZ2h0IC0gMjA7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgc2NvcGUuJGRpZ2VzdCgpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIGFuZ3VsYXIubW9kdWxlKCdhcHAnKS5kaXJlY3RpdmUoXCJjYW52YXNEaXJlY3RpdmVcIiwgW1wiJHdpbmRvd1wiLCBjYW52YXNEaXJlY3RpdmVdKTtcclxufSkoKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBqdXN0aWpuZGVwb3ZlciBvbiAyMi8xMi8xNS5cclxuICovXHJcblxyXG52YXIgQnVsbGV0ID0gZnVuY3Rpb24oeCwgeSxyb3RhdGlvbiwgY29sb3IsIHBsYXllcil7XHJcbiAgICB0aGlzLnggPSB4O1xyXG4gICAgdGhpcy55ID0geTtcclxuICAgIHRoaXMucm90YXRpb24gPSByb3RhdGlvbjtcclxuICAgIHRoaXMuaW1hZ2UgPSBuZXcgSW1hZ2UoKTtcclxuICAgIHRoaXMuY29sb3IgPSBjb2xvcjtcclxuICAgIHRoaXMud2lkdGggPSAwO1xyXG4gICAgdGhpcy5oZWlnaHQgPSAwO1xyXG4gICAgdGhpcy5wbGF5ZXIgPSBwbGF5ZXI7XHJcbiAgICB0aGlzLmV4cGxvc2lvbkltYWdlID0gbmV3IEltYWdlKCk7XHJcbiAgICB0aGlzLmV4cGxvZGVTdGFnZSA9IDA7XHJcbiAgICBpZih0aGlzLmNvbG9yID09IFwib3JhbmdlXCIpe1xyXG4gICAgICAgIHRoaXMuY29sb3IgPSAncmVkJztcclxuICAgIH1cclxuICAgIHRoaXMuaW1hZ2Uuc3JjID0gJy4uL2Fzc2V0cy9QTkcvTGFzZXJzL2xhc2VyJysgdGhpcy5jb2xvci5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHRoaXMuY29sb3Iuc2xpY2UoMSkgKycwMS5wbmcnO1xyXG59O1xyXG5cclxuQnVsbGV0LnByb3RvdHlwZS5leHBsb2RlID0gZnVuY3Rpb24oKXtcclxuICAgIGlmKHRoaXMuZXhwbG9kZVN0YWdlIDwgNCl7XHJcbiAgICAgICAgdGhpcy5leHBsb2RlU3RhZ2UrKztcclxuICAgICAgICB2YXIgbnVtYmVyO1xyXG4gICAgICAgIGlmKHRoaXMuZXhwbG9kZVN0YWdlIDwgMyl7XHJcbiAgICAgICAgICAgIG51bWJlciA9IDE7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIG51bWJlciA9IDI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuZXhwbG9zaW9uSW1hZ2Uuc3JjID0gJy4uL2Fzc2V0cy9QTkcvTGFzZXJzL2xhc2VyJyArIHRoaXMuY29sb3IuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyB0aGlzLmNvbG9yLnNsaWNlKDEpICsgJ0V4cGxvZGUnKyBudW1iZXIgKycucG5nJztcclxuICAgIH1lbHNle1xyXG4gICAgICAgIHRoaXMuZXhwbG9zaW9uSW1hZ2Uuc3JjID0gJyc7XHJcbiAgICB9XHJcbn07XHJcbiIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IGp1c3Rpam5kZXBvdmVyIG9uIDA1LzAxLzE2LlxyXG4gKi9cclxuXHJcblxyXG52YXIgUG93ZXJ1cCA9IGZ1bmN0aW9uKHgsIHksIHR5cGUsIGJvb2xTZWxmKXtcclxuICAgIHRoaXMueCA9IHg7XHJcbiAgICB0aGlzLnkgPSB5O1xyXG4gICAgdGhpcy53aWR0aCA9IDA7XHJcbiAgICB0aGlzLmhlaWdodCA9IDA7XHJcbiAgICB0aGlzLnR5cGUgPSB0eXBlO1xyXG4gICAgdGhpcy5kdXJhdGlvbiA9IDEwMDA7XHJcbiAgICB0aGlzLnBsYXllcmR1cmF0aW9uID0gMTAwMDtcclxuICAgIHZhciBpbWFnZVR5cGU7XHJcbiAgICB0aGlzLmltYWdlID0gbmV3IEltYWdlKCk7XHJcbiAgICB0aGlzLmJvb2xTZWxmID0gYm9vbFNlbGY7XHJcbiAgICBzd2l0Y2godHlwZSl7XHJcbiAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICBpbWFnZVR5cGUgPSBcImJvbHRfXCI7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgaW1hZ2VUeXBlID0gXCJzaGllbGRfXCI7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgMzpcclxuICAgICAgICAgICAgaW1hZ2VUeXBlID0gXCJzdGFyX1wiO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgIH1cclxuXHJcbiAgICBzd2l0Y2goYm9vbFNlbGYpe1xyXG4gICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgaW1hZ2VUeXBlICs9IFwiZ29sZC5wbmdcIjtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICBpbWFnZVR5cGUgKz0gXCJzaWx2ZXIucG5nXCI7XHJcbiAgICB9XHJcbiAgICB0aGlzLmltYWdlLnNyYyA9IFwiLi4vYXNzZXRzL1BORy9Qb3dlci11cHMvXCIgKyBpbWFnZVR5cGU7XHJcbn07XHJcblxyXG5Qb3dlcnVwLnByb3RvdHlwZS5kZWNyZWFzZUR1cmF0aW9uID0gZnVuY3Rpb24oKXtcclxuICBpZih0aGlzLmR1cmF0aW9uID4gMCl7XHJcbiAgICAgIHRoaXMuZHVyYXRpb24gLS07XHJcbiAgfVxyXG59OyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IGp1c3Rpam5kZXBvdmVyIG9uIDA5LzEyLzE1LlxyXG4gKi9cclxuXHJcbnZhciBTcGFjZXNoaXAgPSBmdW5jdGlvbih1c2VyTmFtZSwgeCwgeSwgY29sb3IsIHJvdGF0aW9uKXtcclxuICAgIHRoaXMudXNlck5hbWUgPSB1c2VyTmFtZTtcclxuICAgIHRoaXMueCA9IHg7XHJcbiAgICB0aGlzLnkgPSB5O1xyXG4gICAgdGhpcy5zcGVlZCA9IDE7XHJcbiAgICB0aGlzLmNvbG9yID0gY29sb3I7XHJcbiAgICB0aGlzLnJvdGF0aW9uID0gcm90YXRpb247XHJcbiAgICB0aGlzLmltYWdlID0gbmV3IEltYWdlKCk7XHJcbiAgICB0aGlzLmRhbWFnZSA9IDA7XHJcbiAgICB0aGlzLndpZHRoID0gMDtcclxuICAgIHRoaXMuaGVpZ2h0ID0gMDtcclxuICAgIHRoaXMucG93ZXJ1cHMgPSBbXTtcclxuICAgIHRoaXMuc2hpZWxkID0gdHJ1ZTtcclxuICAgIHRoaXMuc2hpZWxkSW1hZ2UgPSBuZXcgSW1hZ2UoKTtcclxuICAgIHRoaXMuc2hpZWxkSW1hZ2Uuc3JjID0gXCIuLi9hc3NldHMvUE5HL0VmZmVjdHMvc2hpZWxkMS5wbmdcIjtcclxuICAgIHRoaXMuZGFtYWdlSW1hZ2UgPSBuZXcgSW1hZ2UoKTtcclxuICAgIHRoaXMuaW1hZ2Uuc3JjID0gJy4uL2Fzc2V0cy9QTkcvcGxheWVyU2hpcDFfJysgdGhpcy5jb2xvciArJy5wbmcnO1xyXG4gICAgdGhpcy5leHBsb2RlU3RhZ2UgPSAtMTtcclxufTtcclxuXHJcblNwYWNlc2hpcC5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAoeCwgeSwgcm90YXRpb24pIHtcclxuICAgIHRoaXMuc3BlZWQgPSAxO1xyXG4gICAgdGhpcy5kYW1hZ2UgPSAwO1xyXG4gICAgdGhpcy5kYW1hZ2VJbWFnZSA9IG5ldyBJbWFnZSgpO1xyXG4gICAgdGhpcy5pbWFnZS5zcmMgPSAnLi4vYXNzZXRzL1BORy9wbGF5ZXJTaGlwMV8nKyB0aGlzLmNvbG9yICsnLnBuZyc7XHJcbiAgICB0aGlzLnggPSB4O1xyXG4gICAgdGhpcy55ID0geTtcclxuICAgIHRoaXMucm90YXRpb24gPSByb3RhdGlvbjtcclxuICAgIC8vdGhpcy5zaGllbGQgPSBmYWxzZTtcclxuICAgIHRoaXMuZXhwbG9kZVN0YWdlID0gLTE7XHJcbn07XHJcblxyXG5TcGFjZXNoaXAucHJvdG90eXBlLm1vdmVTcGFjZXNoaXAgPSBmdW5jdGlvbih4LCB5KXtcclxuICAgIHRoaXMueCA9IHg7XHJcbiAgICB0aGlzLnkgPSB5O1xyXG59O1xyXG5cclxuU3BhY2VzaGlwLnByb3RvdHlwZS5tb3ZlU3BhY2VzaGlwUmVsYXRpdmUgPSBmdW5jdGlvbih4LCB5KXtcclxuICAgIHRoaXMueCA9IHRoaXMueCt4O1xyXG4gICAgdGhpcy55ID0gdGhpcy55K3k7XHJcbn07XHJcblxyXG5TcGFjZXNoaXAucHJvdG90eXBlLnJvdGF0ZVNwYWNlc2hpcCA9IGZ1bmN0aW9uKGRlZ3JlZSl7XHJcbiAgICB0aGlzLnJvdGF0aW9uID0gZGVncmVlO1xyXG59O1xyXG5cclxuU3BhY2VzaGlwLnByb3RvdHlwZS5yb3RhdGVTcGFjZXNoaXBSZWxhdGl2ZSA9IGZ1bmN0aW9uKGRlZ3JlZSl7XHJcbiAgICBpZihkZWdyZWU+ODApe1xyXG4gICAgICAgIGRlZ3JlZT04MDtcclxuICAgIH1lbHNlIGlmIChkZWdyZWU8LTgwKXtcclxuICAgICAgICBkZWdyZWUgPSAtODA7XHJcbiAgICB9XHJcbiAgICB0aGlzLnJvdGF0aW9uID0gdGhpcy5yb3RhdGlvbiArIGRlZ3JlZS81O1xyXG4gICAgaWYodGhpcy5yb3RhdGlvbiA8IC0zNjApe1xyXG4gICAgICAgIHRoaXMucm90YXRpb24gPSB0aGlzLnJvdGF0aW9uICsgNzIwO1xyXG4gICAgfVxyXG4gICAgaWYodGhpcy5yb3RhdGlvbiA+IDM2MCl7XHJcbiAgICAgICAgdGhpcy5yb3RhdGlvbiA9IHRoaXMucm90YXRpb24gLSA3MjA7XHJcbiAgICB9XHJcbn07XHJcblxyXG5TcGFjZXNoaXAucHJvdG90eXBlLmluY3JlYXNlRGFtYWdlID0gZnVuY3Rpb24oKXtcclxuICAgIGlmKHRoaXMuZGFtYWdlIDwgNCl7XHJcbiAgICAgICAgdGhpcy5kYW1hZ2UgKz0gMTtcclxuICAgIH1cclxuXHJcbiAgICBpZih0aGlzLmRhbWFnZSA8PSAzICYmIHRoaXMuZGFtYWdlID4gMCl7XHJcbiAgICAgICAgdGhpcy5kYW1hZ2VJbWFnZS5zcmMgPSAnLi4vYXNzZXRzL1BORy9EYW1hZ2UvcGxheWVyU2hpcDFfZGFtYWdlJysgdGhpcy5kYW1hZ2UgKyAnLnBuZyc7XHJcbiAgICB9ZWxzZSBpZih0aGlzLmRhbWFnZT09NCl7XHJcbiAgICAgICAgdGhpcy5leHBsb2RlKCk7XHJcbiAgICB9XHJcbn07XHJcblxyXG5TcGFjZXNoaXAucHJvdG90eXBlLmRlYWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB0aGlzLmRhbWFnZSA9IDQ7XHJcbiAgICB0aGlzLmV4cGxvZGUoKTtcclxufTtcclxuXHJcblNwYWNlc2hpcC5wcm90b3R5cGUuZXhwbG9kZSA9IGZ1bmN0aW9uKCl7XHJcbiAgICBpZih0aGlzLmV4cGxvZGVTdGFnZSA8PSAxNDApe1xyXG4gICAgICAgIHRoaXMuZXhwbG9kZVN0YWdlICsrO1xyXG4gICAgICAgIHRoaXMuZGFtYWdlSW1hZ2Uuc3JjID0gXCIuLi9hc3NldHMvUE5HL0RhbWFnZS9mcmFtZVwiICsgTWF0aC5mbG9vcih0aGlzLmV4cGxvZGVTdGFnZS8xMCkgKyBcIi5naWZcIjtcclxuICAgIH1cclxufTtcclxuXHJcblNwYWNlc2hpcC5wcm90b3R5cGUuZGVjcmVhc2VEYW1hZ2UgPSBmdW5jdGlvbigpe1xyXG4gICAgaWYodGhpcy5kYW1hZ2UgPiAwKXtcclxuICAgICAgICB0aGlzLmRhbWFnZSAtPSAxO1xyXG4gICAgfVxyXG5cclxuICAgIGlmKHRoaXMuZGFtYWdlIDw9IDMgJiYgdGhpcy5kYW1hZ2UgPiAwKXtcclxuICAgICAgICB0aGlzLmRhbWFnZUltYWdlLnNyYyA9ICcuLi9hc3NldHMvUE5HL0RhbWFnZS9wbGF5ZXJTaGlwMV9kYW1hZ2UnKyB0aGlzLmRhbWFnZSArICcucG5nJztcclxuICAgIH1cclxufTtcclxuXHJcblNwYWNlc2hpcC5wcm90b3R5cGUuYWRkUG93ZXJ1cCA9IGZ1bmN0aW9uKHBvd2VydXApe1xyXG4gICAgc3dpdGNoKHBvd2VydXAudHlwZSl7XHJcbiAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICB0aGlzLnNwZWVkICsrO1xyXG4gICAgICAgICAgICB0aGlzLnBvd2VydXBzLnB1c2gocG93ZXJ1cCk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgdGhpcy5zaGllbGQgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLnBvd2VydXBzLnB1c2gocG93ZXJ1cCk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgMzpcclxuICAgICAgICAgICAgdGhpcy5kYW1hZ2UgPSAwO1xyXG4gICAgICAgICAgICB0aGlzLmRhbWFnZUltYWdlLnNyYyA9IFwiXCI7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG59O1xyXG5cclxuU3BhY2VzaGlwLnByb3RvdHlwZS5jaGVja1Bvd2VydXAgPSBmdW5jdGlvbigpe1xyXG4gICAgZm9yKHZhciBwIGluIHRoaXMucG93ZXJ1cHMpe1xyXG4gICAgICAgIGlmKHRoaXMucG93ZXJ1cHNbcF0ucGxheWVyZHVyYXRpb24gPiAwKXtcclxuICAgICAgICAgICAgdGhpcy5wb3dlcnVwc1twXS5wbGF5ZXJkdXJhdGlvbiAtLTtcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgc3dpdGNoKHRoaXMucG93ZXJ1cHNbcF0udHlwZSl7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zcGVlZCAtLTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNoaWVsZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiLS0tLS0tLS0tLS0tLVwiKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5wb3dlcnVwcyk7XHJcbiAgICAgICAgICAgIHRoaXMucG93ZXJ1cHMuc3BsaWNlKHAsIDEpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnBvd2VydXBzKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn07XHJcblxyXG4iLCIvKipcclxuICogQ3JlYXRlZCBieSBqdXN0aWpuZGVwb3ZlciBvbiAwOS8xMi8xNS5cclxuICovXHJcblxyXG5cclxudmFyIEFzdGVyb2lkID0gZnVuY3Rpb24oeCwgeSwgcm90YXRpb24sIHN0YWdlKXtcclxuICAgIHRoaXMueCA9IHg7XHJcbiAgICB0aGlzLnkgPSB5O1xyXG4gICAgdGhpcy53aWR0aCA9IDA7XHJcbiAgICB0aGlzLmhlaWdodCA9IDA7XHJcbiAgICB0aGlzLnJvdGF0aW9uID0gcm90YXRpb247XHJcbiAgICB0aGlzLnN0YWdlID0gc3RhZ2U7XHJcbiAgICB0aGlzLmltYWdlID0gbmV3IEltYWdlKCk7XHJcbiAgICB0aGlzLmltYWdlLnNyYyA9IChcIi4uL2Fzc2V0cy9QTkcvTWV0ZW9ycy9tZXRlb3JfXCIgKyBzdGFnZSArIFwiLnBuZ1wiKTtcclxuICAgIHRoaXMuc3BlZWQgPSAxO1xyXG4gICAgdGhpcy5ib3ggPSBmYWxzZTtcclxufTtcclxuXHJcbkFzdGVyb2lkLnByb3RvdHlwZS5zZXRJbWFnZSA9IGZ1bmN0aW9uKHN0YWdlKXtcclxuICAgIHRoaXMuc3RhZ2UgPSBzdGFnZTtcclxuICAgIHRoaXMuaW1hZ2Uuc3JjID0gKFwiLi4vYXNzZXRzL1BORy9NZXRlb3JzL21ldGVvcl9cIiArIHN0YWdlICsgXCIucG5nXCIpO1xyXG59OyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IE1pY2hpZWwgb24gMTYvMTIvMjAxNS5cclxuICovXHJcbi8qKlxyXG4gKiBDcmVhdGVkIGJ5IGp1c3Rpam5kZXBvdmVyIG9uIDE2LzEyLzE1LlxyXG4gKi9cclxuXHJcblxyXG4oZnVuY3Rpb24oKXtcclxuICAgIHZhciBkaXNwbGF5U2VydmljZSA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgLy9Mb2dpbiBDb250cm9sbGVyXHJcbiAgICAgICAgdmFyIExDU2hvdyA9IHRydWU7XHJcbiAgICAgICAgLy9QbGF5IGNvbnRyb2xsZXJcclxuICAgICAgICB2YXIgUENTaG93ID0gZmFsc2U7XHJcblxyXG4gICAgICAgIHJldHVybntcclxuICAgICAgICAgICAgZ2V0TENTaG93OiBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIExDU2hvdztcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2V0TENTaG93OiBmdW5jdGlvbih2YWx1ZSl7XHJcbiAgICAgICAgICAgICAgICBMQ1Nob3cgPSB2YWx1ZTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZ2V0UENTaG93OiBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFBDU2hvdztcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2V0UENTaG93OiBmdW5jdGlvbih2YWx1ZSl7XHJcbiAgICAgICAgICAgICAgICBQQ1Nob3cgPSB2YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9O1xyXG5cclxuICAgIGFuZ3VsYXIubW9kdWxlKCdhcHAnKS5mYWN0b3J5KCdkaXNwbGF5U2VydmljZScsIFtkaXNwbGF5U2VydmljZV0pO1xyXG59KSgpOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IGp1c3Rpam5kZXBvdmVyIG9uIDE3LzEyLzE1LlxyXG4gKi9cclxuXHJcbihmdW5jdGlvbigpe1xyXG4gICAgdmFyIHBsYXllclNlcnZpY2UgPSBmdW5jdGlvbigpe1xyXG4gICAgICAgIC8vTG9naW4gQ29udHJvbGxlclxyXG4gICAgICAgIHZhciBwbGF5ZXJzID0gW107XHJcblxyXG4gICAgICAgIHJldHVybntcclxuICAgICAgICAgICAgZ2V0UGxheWVyczogZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgIHJldHVybiBwbGF5ZXJzO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzZXRQbGF5ZXJzOiBmdW5jdGlvbihwbGF5ZXJzQXJyYXkpe1xyXG4gICAgICAgICAgICAgICAgcGxheWVycyA9IHBsYXllcnNBcnJheTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9O1xyXG5cclxuICAgIGFuZ3VsYXIubW9kdWxlKCdhcHAnKS5mYWN0b3J5KCdwbGF5ZXJTZXJ2aWNlJywgW3BsYXllclNlcnZpY2VdKTtcclxufSkoKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBqdXN0aWpuZGVwb3ZlciBvbiAwOS8xMi8xNS5cclxuICovXHJcblxyXG4oZnVuY3Rpb24oKXtcclxuXHJcbiAgICB2YXIgc29ja2V0U2VydmljZSA9IGZ1bmN0aW9uKCRyb290U2NvcGUpe1xyXG4gICAgICAgIFwidXNlIHN0cmljdFwiO1xyXG4gICAgICAgIC8vcHJpdmF0ZVxyXG4gICAgICAgIHZhciBzb2NrZXQgPSBpby5jb25uZWN0KHdpbmRvdy5sb2NhdGlvbi5ob3N0KTtcclxuICAgICAgICAvL2Z1bmN0aW9uc1xyXG4gICAgICAgIHZhciBvbiA9IGZ1bmN0aW9uIChldmVudE5hbWUsIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgICAgIHNvY2tldC5vbihldmVudE5hbWUsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzO1xyXG4gICAgICAgICAgICAgICAgJHJvb3RTY29wZS4kYXBwbHkoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrLmFwcGx5KHNvY2tldCwgYXJncyk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdmFyIGVtaXQgPSBmdW5jdGlvbiAoZXZlbnROYW1lLCBkYXRhLCBjYWxsYmFjaykge1xyXG4gICAgICAgICAgICBzb2NrZXQuZW1pdChldmVudE5hbWUsIGRhdGEsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzO1xyXG4gICAgICAgICAgICAgICAgJHJvb3RTY29wZS4kYXBwbHkoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjYWxsYmFjaykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjay5hcHBseShzb2NrZXQsIGFyZ3MpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvL3B1YmxpY1xyXG4gICAgICAgIHJldHVybntcclxuICAgICAgICAgICAgb246IG9uLFxyXG4gICAgICAgICAgICBlbWl0OiBlbWl0LFxyXG4gICAgICAgICAgICBzb2NrZXQ6IHNvY2tldFxyXG4gICAgICAgIH07XHJcbiAgICB9O1xyXG5cclxuICAgIGFuZ3VsYXIubW9kdWxlKFwiYXBwXCIpLmZhY3RvcnkoXCJzb2NrZXRTZXJ2aWNlXCIsIFtcIiRyb290U2NvcGVcIiwgc29ja2V0U2VydmljZV0pO1xyXG5cclxufSkoKTsiXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
