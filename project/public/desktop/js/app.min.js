!function(){angular.module("app",[])}(),function(){var e=function(e){function t(t,a,i){e.innerWidth<e.innerHeight?t.width=e.innerWidth-20:t.width=e.innerHeight-20,angular.element(e).bind("resize",function(){e.innerWidth<e.innerHeight?t.width=e.innerWidth-20:t.width=e.innerHeight-20,t.$digest()})}return{restrict:"E",link:t,replace:!0,template:'<canvas id="game" class="playArea" width="{{width}}" height="{{width}}" />'}};angular.module("app").directive("canvasDirective",["$window",e])}(),function(){var e=function(e,t,a,i){e.LCShow=a.getLCShow;var r=function(){t.emit("pcconnect",null)};e.room="",t.on("requestRoom",function(t){e.room=t}),t.on("deviceOrientation",function(e){var t=(e.username,{});t.gamma=e.gamma,t.beta=e.beta,t.alpha=e.alpha}),e.usernames={},e.checkUserCount=!0,t.on("updateusers",function(t){i.setPlayers(t),e.usernames=t,e.checkUserCount=Object.keys(e.usernames).length<2}),e.startGame=function(){t.emit("startGame",null),a.setLCShow(!1),a.setPCShow(!0)},function(){r()}()};angular.module("app").controller("loginController",["$scope","socketService","displayService","playerService",e])}(),function(){"use strict";var e=function(e,t,a,i,r,o){function s(){var e=Math.floor(100*Math.random());for(var t in w)if(Math.abs(w[t].x-e)<10)return s();return e}function h(){var e=Math.floor(100*Math.random());for(var t in w)if(Math.abs(w[t].y-e)<10)return h();return e}function n(e,t){return t.username===e.userName}function d(){w.length>0,0===M?(M=Math.floor(500*Math.random()+500),x.push(new Powerup(Math.floor(100*Math.random()),Math.floor(100*Math.random()),Math.ceil(3*Math.random()),Math.floor(2*Math.random())))):M--,f.clearRect(0,0,u.width,u.height);var e=u.width/100;if(0!==x.length)for(var t in x){var a=x[t];a.width=u.width/50,a.height=a.width*a.image.height/a.image.width,f.save(),f.translate(a.x*e,a.y*e),f.drawImage(a.image,-a.width/2,-a.height/2,a.width,a.height),f.restore(),a.decreaseDuration(),0===a.duration&&x.splice(t,1)}if(0!==y.length){var i=u.width/100,r=i*y[0].image.height/y[0].image.width;for(var o in y){var s=y[o];s.width=i,s.height=r,0===s.explodeStage?(f.save(),f.translate(s.x*e,s.y*e),f.rotate(s.rotation/180*Math.PI),f.drawImage(s.image,-i/2,-r/2,i,r),f.restore(),y[o].x=Math.cos((s.rotation-90)/180*Math.PI)+s.x,y[o].y=Math.sin((s.rotation-90)/180*Math.PI)+s.y):s.explodeStage<4&&(f.save(),f.translate(s.x*e,s.y*e),f.drawImage(s.explosionImage,-i,-i,2*i,2*i),f.restore())}}if(0!==w.length){var h=u.width/20,n=h*w[0].image.height/w[0].image.width;for(var d in w){var c=w[d];if(c.width=h,c.height=n,f.save(),f.translate(c.x*e,c.y*e),-1===c.explodeStage?(f.rotate(c.rotation/180*Math.PI),f.drawImage(c.image,-h/2,-n/2,h,n)):w[d].explode(),c.damage>0&&c.explodeStage<=140&&f.drawImage(c.damageImage,-h/2,-n/2,h,n),c.damage<4&&(w[d].x=Math.cos((c.rotation-90)/180*Math.PI)/10*c.speed+c.x,w[d].y=Math.sin((c.rotation-90)/180*Math.PI)/10*c.speed+c.y),c.shield&&-1===c.explodeStage){var m=1.5*h,g=m/c.shieldImage.width*c.shieldImage.height;f.drawImage(c.shieldImage,-m/2,-g/2,m,g)}w[d].checkPowerup(),f.restore()}}if(v.length>0)for(var S in v){var I=v[S];if(I.width=u.width/700*I.image.width,I.height=I.width*I.image.height/I.image.width,f.save(),f.translate(I.x*e,I.y*e),f.rotate(I.rotation/180*Math.PI),f.drawImage(I.image,-I.width/2,-I.height/2,I.width,I.height),f.restore(),I.x<-5||I.x>105||I.y<-5||I.y>105){var P=Math.random();.25>P?(v[S].x=-4,v[S].y=Math.floor(100*Math.random()),v[S].rotation=Math.floor(180*Math.random())):.5>P?(v[S].x=Math.floor(100*Math.random()),v[S].y=-4,v[S].rotation=Math.floor(180*Math.random())+90):.75>P?(v[S].x=104,v[S].y=Math.floor(100*Math.random()),v[S].rotation=Math.floor(180*Math.random())+180):(v[S].x=Math.floor(100*Math.random()),v[S].y=104,v[S].rotation=Math.floor(180*Math.random())+270),v[S].speed=1,v[S].setImage(Math.ceil(18*Math.random()))}else v[S].x=Math.cos((I.rotation-90)/180*Math.PI)/30*v[S].speed+I.x,v[S].y=Math.sin((I.rotation-90)/180*Math.PI)/30*v[S].speed+I.y}l(),p()}function l(){for(var e in y)y[e].x<0||y[e].x>u.width||y[e].y<0||y[e].y>u.height?y.splice(e,1):y[e].explodeStage>0&&(y[e].explodeStage<4?y[e].explode():y.splice(e,1))}function p(){var e=[];for(var t in w)if(!(w[t].damage>=4)){var a=w[t].x*u.width/100,r=w[t].y*u.width/100,o=1;w[t].shield&&(o=1.5);var s={};for(var h in y)if(0===y[h].explodeStage&&y[h].player!=w[t].userName){var n=Math.sqrt(2)/2*(y[h].height/2-y[h].width/2),d=(360-y[h].rotation)/180*Math.PI,l=y[h].x*u.width/100-n*Math.sin(d),p=y[h].y*u.width/100-n*Math.cos(d),m=Math.sqrt((l-a)*(l-a)+(p-r)*(p-r));m<y[h].width/2+w[t].width/2*o&&(P.currentTime=0,P.play(),w[t].shield||(w[t].increaseDamage(),s={},s.username=w[t].userName,s.life=3-w[t].damage,i.emit("playerLife",s)),y[h].explode())}for(var g in v){var f=v[g].x*u.width/100,M=v[g].y*u.width/100,S=Math.sqrt((f-a)*(f-a)+(M-r)*(M-r));if(S<v[g].width/2+w[t].width/2*o){if(v[g].box===!1)if(v[g].box=!0,P.currentTime=0,P.play(),w[t].shield){var I=-(180*Math.atan2(v[g].y-w[t].y,v[g].x-w[t].x)/Math.PI);I>-90&&0>I||I>90&&180>I?v[g].rotation=180+I:v[g].rotation=I,v[g].speed=6}else w[t].dead(),s={},s.username=w[t].userName,s.life=3-w[t].damage,i.emit("playerLife",s)}else S>v[g].width/2+w[t].width/2*o+100&&(v[g].box=!1)}for(var G in w)if(4!==w[G].damage&&G!=t){var b=w[G].x*u.width/100,C=w[G].y*u.width/100,k=1;w[G].shield&&(k=1.5);var L=Math.sqrt((b-a)*(b-a)+(C-r)*(C-r));L<w[G].width/2*k+w[t].width/2*o&&(P.currentTime=0,P.play(),w[t].dead(),w[G].dead(),s={},s.username=w[t].userName,s.life=3-w[t].damage,i.emit("playerLife",s),s.username=w[G].userName,s.life=3-w[G].damage,i.emit("playerLife",s))}(w[t].x*u.width/100<w[t].height/2||w[t].x*u.width/100>u.width-w[t].height/2||w[t].y*u.width/100<w[t].height/2||w[t].y*u.width/100>u.width-w[t].height/2)&&(P.currentTime=0,P.play(),w[t].dead(),s={},s.username=w[t].userName,s.life=3-w[t].damage,i.emit("playerLife",s));for(var _ in x){var A=x[_].x*u.width/100,D=x[_].y*u.width/100,T=Math.sqrt((A-a)*(A-a)+(D-r)*(D-r));if(T<x[_].width/2+w[t].width/2){if(N.currentTime=0,N.play(),1===x[_].boolSelf)for(var $ in w)$!=t&&w[$].addPowerup(x[_]);else w[t].addPowerup(x[_]);3===x[_].type&&(s={},s.username=w[t].userName,s.life=3,i.emit("playerLife",s)),x.splice(_,1)}}w[t].damage<4&&e.push(w[t])}for(var q in v)for(var B in y)if(0===y[B].explodeStage&&y[B].player!=v[q].userName){var R=Math.sqrt(2)/2*(y[B].height/2-y[B].width/2),E=(360-y[B].rotation)/180*Math.PI,H=y[B].x*u.width/100-R*Math.sin(E),U=y[B].y*u.width/100-R*Math.cos(E),W=v[q].x*u.width/100,z=v[q].y*u.width/100,O=Math.sqrt((H-W)*(H-W)+(U-z)*(U-z));O<y[B].width/2+v[q].width/2&&(i.emit("playerLife",{username:v[q].userName,damage:3-v[q].damage}),y[B].explode())}e.length<=1&&c(e)}function c(a){angular.isDefined(g)&&(t.cancel(g),g=void 0),e.endGame=!0,1===a.length?(e.endGameText=a[0].userName+" is the winner!",i.emit("endGame",a[0].userName)):e.endGameText="No winners"}var m=[{x:10,y:10,rotation:135},{x:90,y:10,rotation:225},{x:90,y:90,rotation:315},{x:10,y:90,rotation:45}];e.PCShow=r.getPCShow,e.endGame=!1;var g,u=document.getElementById("game"),f=u.getContext("2d"),w=[],y=[],v=[],x=[];i.on("initGame",function(){var e=o.getPlayers(),a=0;for(var i in e){var r=e[i];w.push(new Spaceship(r.username,m[a].x,m[a].y,r.color,m[a].rotation)),a++}for(var n=0;15>n;n++)v.push(new Asteroid(s(),h(),Math.floor(361*Math.random()),Math.ceil(18*Math.random())));g=t(d,10)}),i.on("userleft",function(e){var t=null;for(var a in w)n(w[a],e)===!0&&(t=a);w.splice(t,1)}),i.on("updateGameData",function(e){var t=null;for(var a in w)n(w[a],e)===!0&&(t=a);null!==t&&w[t].rotateSpaceshipRelative(e.orientation)}),i.on("playerShot",function(t){if(e.endGame===!1){var a=null;for(var i in w)n(w[i],t)===!0&&(a=i);if(null!==a){var r=w[a],o=(360-(r.rotation+180))/180*Math.PI,s=r.x+u.width/400*Math.sin(o),h=r.y+u.width/400*Math.cos(o);y.push(new Bullet(s,h,r.rotation,r.color,r.userName)),a%2===0?(S.currentTime=0,S.play()):(I.currentTime=0,I.play())}}});var M=Math.floor(500*Math.random()+500),S=new Audio("../../assets/Bonus/sfx_laser1.ogg"),I=new Audio("../../assets/Bonus/sfx_laser2.ogg"),P=new Audio("../../assets/Bonus/sfx_lose.ogg"),N=new Audio("../../assets/Bonus/sfx_zap.ogg");e.restartGame=function(){e.endGame=!1;var a=0;for(var r in w)w[r].reset(m[a].x,m[a].y,m[a].rotation),a++;v=[];for(var o=0;15>o;o++)v.push(new Asteroid(s(),h(),Math.floor(361*Math.random()),Math.ceil(18*Math.random())));y=[],x=[],M=Math.floor(500*Math.random()+500),f.clearRect(0,0,u.width,u.height),i.emit("restartGame",null),g=t(d,10)}};angular.module("app").controller("playController",["$scope","$interval","$window","socketService","displayService","playerService",e])}();var Asteroid=function(e,t,a,i){this.x=e,this.y=t,this.width=0,this.height=0,this.rotation=a,this.stage=i,this.image=new Image,this.image.src="../assets/PNG/Meteors/meteor_"+i+".png",this.speed=1,this.box=!1};Asteroid.prototype.setImage=function(e){this.stage=e,this.image.src="../assets/PNG/Meteors/meteor_"+e+".png"};var Bullet=function(e,t,a,i,r){this.x=e,this.y=t,this.rotation=a,this.image=new Image,this.color=i,this.width=0,this.height=0,this.player=r,this.explosionImage=new Image,this.explodeStage=0,"orange"==this.color&&(this.color="red"),this.image.src="../assets/PNG/Lasers/laser"+this.color.charAt(0).toUpperCase()+this.color.slice(1)+"01.png"};Bullet.prototype.explode=function(){if(this.explodeStage<4){this.explodeStage++;var e;e=this.explodeStage<3?1:2,this.explosionImage.src="../assets/PNG/Lasers/laser"+this.color.charAt(0).toUpperCase()+this.color.slice(1)+"Explode"+e+".png"}else this.explosionImage.src=""};var Powerup=function(e,t,a,i){this.x=e,this.y=t,this.width=0,this.height=0,this.type=a,this.duration=1e3,this.playerduration=1e3;var r;switch(this.image=new Image,this.boolSelf=i,a){case 1:r="bolt_";break;case 2:r="shield_";break;case 3:r="star_"}switch(i){case 0:r+="gold.png";break;case 1:r+="silver.png"}this.image.src="../assets/PNG/Power-ups/"+r};Powerup.prototype.decreaseDuration=function(){this.duration>0&&this.duration--};var Spaceship=function(e,t,a,i,r){this.userName=e,this.x=t,this.y=a,this.speed=1,this.color=i,this.rotation=r,this.image=new Image,this.damage=0,this.width=0,this.height=0,this.powerups=[],this.shield=!1,this.shieldImage=new Image,this.shieldImage.src="../assets/PNG/Effects/shield1.png",this.damageImage=new Image,this.image.src="../assets/PNG/playerShip1_"+this.color+".png",this.explodeStage=-1};Spaceship.prototype.reset=function(e,t,a){this.speed=1,this.damage=0,this.damageImage=new Image,this.image.src="../assets/PNG/playerShip1_"+this.color+".png",this.x=e,this.y=t,this.rotation=a,this.shield=!1,this.explodeStage=-1},Spaceship.prototype.moveSpaceship=function(e,t){this.x=e,this.y=t},Spaceship.prototype.moveSpaceshipRelative=function(e,t){this.x=this.x+e,this.y=this.y+t},Spaceship.prototype.rotateSpaceship=function(e){this.rotation=e},Spaceship.prototype.rotateSpaceshipRelative=function(e){e>80?e=80:-80>e&&(e=-80),this.rotation=this.rotation+e/5,this.rotation<-360&&(this.rotation=this.rotation+720),this.rotation>360&&(this.rotation=this.rotation-720)},Spaceship.prototype.increaseDamage=function(){this.damage<4&&(this.damage+=1),this.damage<=3&&this.damage>0?this.damageImage.src="../assets/PNG/Damage/playerShip1_damage"+this.damage+".png":4==this.damage&&this.explode()},Spaceship.prototype.dead=function(){this.damage=4,this.explode()},Spaceship.prototype.explode=function(){this.explodeStage<=140&&(this.explodeStage++,this.damageImage.src="../assets/PNG/Damage/frame"+Math.floor(this.explodeStage/10)+".gif")},Spaceship.prototype.decreaseDamage=function(){this.damage>0&&(this.damage-=1),this.damage<=3&&this.damage>0&&(this.damageImage.src="../assets/PNG/Damage/playerShip1_damage"+this.damage+".png")},Spaceship.prototype.addPowerup=function(e){switch(e.type){case 1:this.speed++,this.powerups.push(e);break;case 2:this.shield=!0,this.powerups.push(e);break;case 3:this.damage=0,this.damageImage.src=""}},Spaceship.prototype.checkPowerup=function(){for(var e in this.powerups)if(this.powerups[e].playerduration>0)this.powerups[e].playerduration--;else{switch(this.powerups[e].type){case 1:this.speed--;break;case 2:this.shield=!1}console.log("-------------"),console.log(this.powerups),this.powerups.splice(e,1),console.log(this.powerups)}},function(){var e=function(){var e=!0,t=!1;return{getLCShow:function(){return e},setLCShow:function(t){e=t},getPCShow:function(){return t},setPCShow:function(e){t=e}}};angular.module("app").factory("displayService",[e])}(),function(){var e=function(){var e=[];return{getPlayers:function(){return e},setPlayers:function(t){e=t}}};angular.module("app").factory("playerService",[e])}(),function(){var e=function(e){"use strict";var t=io.connect(window.location.host),a=function(a,i){t.on(a,function(){var a=arguments;e.$apply(function(){i.apply(t,a)})})},i=function(a,i,r){t.emit(a,i,function(){var a=arguments;e.$apply(function(){r&&r.apply(t,a)})})};return{on:a,emit:i,socket:t}};angular.module("app").factory("socketService",["$rootScope",e])}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsImRpcmVjdGl2ZXMvY2FudmFzRGlyZWN0aXZlLmpzIiwiY29udHJvbGxlci9sb2dpbkNvbnRyb2xsZXIuanMiLCJjb250cm9sbGVyL3BsYXlDb250cm9sbGVyLmpzIiwibW9kZWxzL0FzdGVyaW9kLmpzIiwibW9kZWxzL0J1bGxldC5qcyIsIm1vZGVscy9Qb3dlcnVwLmpzIiwibW9kZWxzL1NwYWNlc2hpcC5qcyIsInNlcnZpY2VzL2Rpc3BsYXlTZXJ2aWNlLmpzIiwic2VydmljZXMvcGxheWVyU2VydmljZS5qcyIsInNlcnZpY2VzL3NvY2tldFNlcnZpY2UuanMiXSwibmFtZXMiOlsiYW5ndWxhciIsIm1vZHVsZSIsImNhbnZhc0RpcmVjdGl2ZSIsIiR3aW5kb3ciLCJsaW5rIiwic2NvcGUiLCJlbGVtZW50IiwiYXR0cnMiLCJpbm5lcldpZHRoIiwiaW5uZXJIZWlnaHQiLCJ3aWR0aCIsImJpbmQiLCIkZGlnZXN0IiwicmVzdHJpY3QiLCJyZXBsYWNlIiwidGVtcGxhdGUiLCJkaXJlY3RpdmUiLCJsb2dpbkNvbnRyb2xsZXIiLCIkc2NvcGUiLCJzb2NrZXRTZXJ2aWNlIiwiZGlzcGxheVNlcnZpY2UiLCJwbGF5ZXJTZXJ2aWNlIiwiTENTaG93IiwiZ2V0TENTaG93IiwibWFrZVJvb20iLCJlbWl0Iiwicm9vbSIsIm9uIiwiZGF0YSIsImRldmljZU9yaWVudGF0aW9uIiwidXNlcm5hbWUiLCJnYW1tYSIsImJldGEiLCJhbHBoYSIsInVzZXJuYW1lcyIsImNoZWNrVXNlckNvdW50Iiwic2V0UGxheWVycyIsIk9iamVjdCIsImtleXMiLCJsZW5ndGgiLCJzdGFydEdhbWUiLCJzZXRMQ1Nob3ciLCJzZXRQQ1Nob3ciLCJjb250cm9sbGVyIiwicGxheUNvbnRyb2xsZXIiLCIkaW50ZXJ2YWwiLCJjcmVhdGVDb29yZGluYXRlWCIsIngiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJwIiwiQWxsUGxheWVycyIsImFicyIsImNyZWF0ZUNvb3JkaW5hdGVZIiwieSIsImZpbHRlclBsYXllcnMiLCJvYmoiLCJ1c2VyTmFtZSIsImRyYXciLCJQb3dlcnVwU3Bhd25UaW1lIiwiQWxsUG93ZXJVcHMiLCJwdXNoIiwiUG93ZXJ1cCIsImNlaWwiLCJjdHgiLCJjbGVhclJlY3QiLCJjYW52IiwiaGVpZ2h0IiwicmF0aW8iLCJwb3dlcnVwIiwiaW1hZ2UiLCJzYXZlIiwidHJhbnNsYXRlIiwiZHJhd0ltYWdlIiwicmVzdG9yZSIsImRlY3JlYXNlRHVyYXRpb24iLCJkdXJhdGlvbiIsInNwbGljZSIsIkFsbEJ1bGxldHMiLCJCdWxsZXRXaWR0aCIsIkJ1bGxldEhlaWdodCIsImJ1bGxldCIsImIiLCJleHBsb2RlU3RhZ2UiLCJyb3RhdGUiLCJyb3RhdGlvbiIsIlBJIiwiY29zIiwic2luIiwiZXhwbG9zaW9uSW1hZ2UiLCJTcGFjZXNoaXBXaWR0aCIsIlNwYWNlc2hpcEhlaWdodCIsInBsYXllciIsInBsIiwiZXhwbG9kZSIsImRhbWFnZSIsImRhbWFnZUltYWdlIiwic3BlZWQiLCJzaGllbGQiLCJTaGllbGRXaWR0aCIsIlNoaWVsZEhlaWdodCIsInNoaWVsZEltYWdlIiwiY2hlY2tQb3dlcnVwIiwiQWxsQXN0ZXJvaWRzIiwiQXN0ZXJvaWQiLCJhIiwia2V1emUiLCJzZXRJbWFnZSIsImNoZWNrQnVsbGV0cyIsImNvbGxpc2lvbkRldGVjdGlvbiIsImxpdmluZ1BsYXllcnMiLCJzcGFjZVNoaXBYIiwic3BhY2VTaGlwWSIsInNoaWVsZFJhdGlvIiwicmFkaXVzIiwic3FydCIsImFuZ2xlIiwiYnVsbGV0SGVhZFgiLCJidWxsZXRIZWFkWSIsImRpc3RhbmNlIiwiZGFtYWdlc291bmQiLCJjdXJyZW50VGltZSIsInBsYXkiLCJpbmNyZWFzZURhbWFnZSIsImxpZmUiLCJhc3Rlcm9pZFgiLCJhc3Rlcm9pZFkiLCJkaXN0YW5jZVBBIiwiYm94IiwiYW5nbGVQIiwiYXRhbjIiLCJkZWFkIiwiYXAiLCJzcGFjZVNoaXAxWCIsInNwYWNlU2hpcDFZIiwic2hpZWxkUmF0aW8xIiwiZGlzdGFuY2VQUCIsInB1IiwicG93ZXJ1cFgiLCJwb3dlcnVwWSIsImRpc3RhbmNlUFBVIiwicG93ZXJ1cFNvdW5kIiwiYm9vbFNlbGYiLCJhZGRQb3dlcnVwIiwidHlwZSIsImFhIiwiYWIiLCJyYWRpdXNCIiwiYW5nbGVCIiwiYUJ1bGxldEhlYWRYIiwiYUJ1bGxldEhlYWRZIiwiYXN0ZXJvaWRhWCIsImFzdGVyb2lkYVkiLCJkaXN0YW5jZUJBIiwiZW5kR2FtZSIsImlzRGVmaW5lZCIsImN5Y2xlIiwiY2FuY2VsIiwidW5kZWZpbmVkIiwiZW5kR2FtZVRleHQiLCJkZWZhdWx0VmFycyIsIlBDU2hvdyIsImdldFBDU2hvdyIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJnZXRDb250ZXh0IiwiQnVmZmVyUGxheWVyIiwiZ2V0UGxheWVycyIsInRlbGxlciIsIlNwYWNlc2hpcCIsImNvbG9yIiwiaSIsInJvdGF0ZVNwYWNlc2hpcFJlbGF0aXZlIiwib3JpZW50YXRpb24iLCJ0ZW1wIiwiQnVsbGV0Iiwic2hvdExhc2VyMSIsInNob3RMYXNlcjIiLCJBdWRpbyIsInJlc3RhcnRHYW1lIiwicmVzZXQiLCJzdGFnZSIsInRoaXMiLCJJbWFnZSIsInNyYyIsInByb3RvdHlwZSIsImNoYXJBdCIsInRvVXBwZXJDYXNlIiwic2xpY2UiLCJudW1iZXIiLCJwbGF5ZXJkdXJhdGlvbiIsImltYWdlVHlwZSIsInBvd2VydXBzIiwibW92ZVNwYWNlc2hpcCIsIm1vdmVTcGFjZXNoaXBSZWxhdGl2ZSIsInJvdGF0ZVNwYWNlc2hpcCIsImRlZ3JlZSIsImRlY3JlYXNlRGFtYWdlIiwiY29uc29sZSIsImxvZyIsInZhbHVlIiwiZmFjdG9yeSIsInBsYXllcnMiLCJwbGF5ZXJzQXJyYXkiLCIkcm9vdFNjb3BlIiwic29ja2V0IiwiaW8iLCJjb25uZWN0Iiwid2luZG93IiwibG9jYXRpb24iLCJob3N0IiwiZXZlbnROYW1lIiwiY2FsbGJhY2siLCJhcmdzIiwiYXJndW1lbnRzIiwiJGFwcGx5IiwiYXBw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R0FBQVcsT0FBQSxXQUNBSCxHQUNBQSxFQUFBSSxNQUFBWCxFQUFBUSxPQU9BLFFBQ0EzTCxHQUFBQSxFQUNBRixLQUFBQSxFQUNBcUwsT0FBQUEsR0FJQTlNLFNBQUFDLE9BQUEsT0FBQXlNLFFBQUEsaUJBQUEsYUFBQXZMIiwiZmlsZSI6ImFwcC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENyZWF0ZWQgYnkgTWljaGllbCBvbiAyNS8xMS8yMDE1LlxuICovXG4oZnVuY3Rpb24oKXtcblxuICAgIHZhciBhcHAgPSBhbmd1bGFyLm1vZHVsZShcImFwcFwiLFtdKTtcbn0pKCk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkganVzdGlqbmRlcG92ZXIgb24gMTYvMTIvMTUuXHJcbiAqL1xyXG4oZnVuY3Rpb24oKXtcclxuICAgIHZhciBjYW52YXNEaXJlY3RpdmUgPSBmdW5jdGlvbigkd2luZG93KXtcclxuICAgICAgICByZXR1cm57XHJcbiAgICAgICAgICAgIHJlc3RyaWN0OiAnRScsXHJcbiAgICAgICAgICAgIGxpbms6bGluayxcclxuICAgICAgICAgICAgcmVwbGFjZTp0cnVlLFxyXG4gICAgICAgICAgICB0ZW1wbGF0ZTonPGNhbnZhcyBpZD1cImdhbWVcIiBjbGFzcz1cInBsYXlBcmVhXCIgd2lkdGg9XCJ7e3dpZHRofX1cIiBoZWlnaHQ9XCJ7e3dpZHRofX1cIiAvPidcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBsaW5rKHNjb3BlLCBlbGVtZW50LCBhdHRycyl7XHJcbiAgICAgICAgICAgIGlmKCR3aW5kb3cuaW5uZXJXaWR0aCA8ICR3aW5kb3cuaW5uZXJIZWlnaHQpe1xyXG4gICAgICAgICAgICAgICAgc2NvcGUud2lkdGggPSAkd2luZG93LmlubmVyV2lkdGggLSAyMDtcclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICBzY29wZS53aWR0aCA9ICR3aW5kb3cuaW5uZXJIZWlnaHQgLSAyMDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgYW5ndWxhci5lbGVtZW50KCR3aW5kb3cpLmJpbmQoJ3Jlc2l6ZScsIGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICBpZigkd2luZG93LmlubmVyV2lkdGggPCAkd2luZG93LmlubmVySGVpZ2h0KXtcclxuICAgICAgICAgICAgICAgICAgICBzY29wZS53aWR0aCA9ICR3aW5kb3cuaW5uZXJXaWR0aCAtIDIwO1xyXG4gICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgc2NvcGUud2lkdGggPSAkd2luZG93LmlubmVySGVpZ2h0IC0gMjA7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgc2NvcGUuJGRpZ2VzdCgpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIGFuZ3VsYXIubW9kdWxlKCdhcHAnKS5kaXJlY3RpdmUoXCJjYW52YXNEaXJlY3RpdmVcIiwgW1wiJHdpbmRvd1wiLCBjYW52YXNEaXJlY3RpdmVdKTtcclxufSkoKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBNaWNoaWVsIG9uIDExLzEyLzIwMTUuXHJcbiAqL1xyXG5cclxuKGZ1bmN0aW9uKCl7XHJcbiAgICB2YXIgbG9naW5Db250cm9sbGVyID0gZnVuY3Rpb24oJHNjb3BlLCBzb2NrZXRTZXJ2aWNlLCBkaXNwbGF5U2VydmljZSwgcGxheWVyU2VydmljZSl7XHJcblxyXG4gICAgICAgICRzY29wZS5MQ1Nob3cgPSBkaXNwbGF5U2VydmljZS5nZXRMQ1Nob3c7XHJcblxyXG4gICAgICAgIC8vZnVuY3Rpb25zXHJcbiAgICAgICAgdmFyIG1ha2VSb29tID0gZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgc29ja2V0U2VydmljZS5lbWl0KFwicGNjb25uZWN0XCIsIG51bGwpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgJHNjb3BlLnJvb20gPSBcIlwiO1xyXG4gICAgICAgIHNvY2tldFNlcnZpY2Uub24oJ3JlcXVlc3RSb29tJyxmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICAgICAgJHNjb3BlLnJvb20gPSBkYXRhO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHNvY2tldFNlcnZpY2Uub24oJ2RldmljZU9yaWVudGF0aW9uJywgZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgICAgIHZhciB1c2VybmFtZSA9IGRhdGEudXNlcm5hbWU7XHJcbiAgICAgICAgICAgIHZhciBkZXZpY2VPcmllbnRhdGlvbiA9IHt9O1xyXG4gICAgICAgICAgICBkZXZpY2VPcmllbnRhdGlvbi5nYW1tYSA9IGRhdGEuZ2FtbWE7XHJcbiAgICAgICAgICAgIGRldmljZU9yaWVudGF0aW9uLmJldGEgPSBkYXRhLmJldGE7XHJcbiAgICAgICAgICAgIGRldmljZU9yaWVudGF0aW9uLmFscGhhID0gZGF0YS5hbHBoYTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAkc2NvcGUudXNlcm5hbWVzID0ge307XHJcbiAgICAgICAgJHNjb3BlLmNoZWNrVXNlckNvdW50ID0gdHJ1ZTtcclxuICAgICAgICBzb2NrZXRTZXJ2aWNlLm9uKCd1cGRhdGV1c2VycycsIGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgIHBsYXllclNlcnZpY2Uuc2V0UGxheWVycyhkYXRhKTtcclxuICAgICAgICAgICAgJHNjb3BlLnVzZXJuYW1lcyA9IGRhdGE7XHJcbiAgICAgICAgICAgICRzY29wZS5jaGVja1VzZXJDb3VudCA9IE9iamVjdC5rZXlzKCRzY29wZS51c2VybmFtZXMpLmxlbmd0aCA8IDI7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICRzY29wZS5zdGFydEdhbWU9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgc29ja2V0U2VydmljZS5lbWl0KFwic3RhcnRHYW1lXCIsIG51bGwpO1xyXG4gICAgICAgICAgICBkaXNwbGF5U2VydmljZS5zZXRMQ1Nob3coZmFsc2UpO1xyXG4gICAgICAgICAgICBkaXNwbGF5U2VydmljZS5zZXRQQ1Nob3codHJ1ZSk7XHJcbiAgICAgICAgfTtcclxuXHJcblxyXG4gICAgICAgIChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgbWFrZVJvb20oKTtcclxuICAgICAgICB9KSgpO1xyXG5cclxuICAgIH07XHJcblxyXG4gICAgYW5ndWxhci5tb2R1bGUoXCJhcHBcIikuY29udHJvbGxlcihcImxvZ2luQ29udHJvbGxlclwiLCBbXCIkc2NvcGVcIiwgXCJzb2NrZXRTZXJ2aWNlXCIgLCBcImRpc3BsYXlTZXJ2aWNlXCIsIFwicGxheWVyU2VydmljZVwiLCBsb2dpbkNvbnRyb2xsZXJdKTtcclxufSkoKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBNaWNoaWVsIG9uIDE2LzEyLzIwMTUuXHJcbiAqL1xyXG5cclxuKGZ1bmN0aW9uKCl7XHJcbiAgICBcInVzZSBzdHJpY3RcIjtcclxuICAgIHZhciBwbGF5Q29udHJvbGxlciA9IGZ1bmN0aW9uKCRzY29wZSwgJGludGVydmFsLCAkd2luZG93LCBzb2NrZXRTZXJ2aWNlLCBkaXNwbGF5U2VydmljZSwgcGxheWVyU2VydmljZSl7XHJcbiAgICAgICAgdmFyIGRlZmF1bHRWYXJzID0gW3t4OjEwLCB5OjEwLHJvdGF0aW9uOjEzNX0se3g6OTAsIHk6MTAscm90YXRpb246MjI1fSx7eDo5MCwgeTo5MCxyb3RhdGlvbjozMTV9LHt4OjEwLCB5OjkwLHJvdGF0aW9uOjQ1fV07XHJcbiAgICAgICAgJHNjb3BlLlBDU2hvdyA9IGRpc3BsYXlTZXJ2aWNlLmdldFBDU2hvdztcclxuICAgICAgICAkc2NvcGUuZW5kR2FtZSA9IGZhbHNlO1xyXG4gICAgICAgIHZhciBjYW52ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dhbWUnKTtcclxuICAgICAgICB2YXIgY3R4ID0gY2Fudi5nZXRDb250ZXh0KCcyZCcpO1xyXG5cclxuICAgICAgICB2YXIgQWxsUGxheWVycyA9IFtdO1xyXG4gICAgICAgIHZhciBBbGxCdWxsZXRzID0gW107XHJcbiAgICAgICAgdmFyIEFsbEFzdGVyb2lkcyA9IFtdO1xyXG4gICAgICAgIHZhciBBbGxQb3dlclVwcyA9IFtdO1xyXG5cclxuICAgICAgICB2YXIgY3ljbGU7XHJcblxyXG4gICAgICAgIHNvY2tldFNlcnZpY2Uub24oXCJpbml0R2FtZVwiLCBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICB2YXIgQnVmZmVyUGxheWVyID0gcGxheWVyU2VydmljZS5nZXRQbGF5ZXJzKCk7XHJcbiAgICAgICAgICAgIHZhciB0ZWxsZXI9IDA7XHJcbiAgICAgICAgICAgIGZvcih2YXIgcGxheWVyIGluIEJ1ZmZlclBsYXllcil7XHJcbiAgICAgICAgICAgICAgICB2YXIgcCA9IEJ1ZmZlclBsYXllcltwbGF5ZXJdO1xyXG4gICAgICAgICAgICAgICAgQWxsUGxheWVycy5wdXNoKG5ldyBTcGFjZXNoaXAocC51c2VybmFtZSwgZGVmYXVsdFZhcnNbdGVsbGVyXS54LCBkZWZhdWx0VmFyc1t0ZWxsZXJdLnksIHAuY29sb3IsIGRlZmF1bHRWYXJzW3RlbGxlcl0ucm90YXRpb24pKTtcclxuICAgICAgICAgICAgICAgIHRlbGxlcisrO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmb3IodmFyIGkgPSAwOyBpPDE1OyBpKyspe1xyXG4gICAgICAgICAgICAgICAgQWxsQXN0ZXJvaWRzLnB1c2gobmV3IEFzdGVyb2lkKGNyZWF0ZUNvb3JkaW5hdGVYKCksIGNyZWF0ZUNvb3JkaW5hdGVZKCksIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSozNjEpLCBNYXRoLmNlaWwoTWF0aC5yYW5kb20oKSoxOCkpKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgICAgIGN5Y2xlID0gJGludGVydmFsKGRyYXcsIDEwKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gY3JlYXRlQ29vcmRpbmF0ZVgoKXtcclxuICAgICAgICAgICAgdmFyIHggPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqMTAwKTtcclxuICAgICAgICAgICAgZm9yKHZhciBwIGluIEFsbFBsYXllcnMpe1xyXG4gICAgICAgICAgICAgICAgaWYoTWF0aC5hYnMoQWxsUGxheWVyc1twXS54IC0geCkgPCAxMCl7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUNvb3JkaW5hdGVYKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHg7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBjcmVhdGVDb29yZGluYXRlWSgpe1xyXG4gICAgICAgICAgICB2YXIgeSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSoxMDApO1xyXG4gICAgICAgICAgICBmb3IodmFyIHAgaW4gQWxsUGxheWVycyl7XHJcbiAgICAgICAgICAgICAgICBpZihNYXRoLmFicyhBbGxQbGF5ZXJzW3BdLnkgLSB5KSA8IDEwKXtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlQ29vcmRpbmF0ZVkoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4geTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHNvY2tldFNlcnZpY2Uub24oXCJ1c2VybGVmdFwiLCBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICB2YXIgcCA9IG51bGw7XHJcbiAgICAgICAgICAgIGZvcih2YXIgaSBpbiBBbGxQbGF5ZXJzKXtcclxuICAgICAgICAgICAgICAgIGlmKGZpbHRlclBsYXllcnMoQWxsUGxheWVyc1tpXSxkYXRhKSA9PT0gdHJ1ZSl7XHJcbiAgICAgICAgICAgICAgICAgICAgcCA9IGk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgQWxsUGxheWVycy5zcGxpY2UocCwxKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgc29ja2V0U2VydmljZS5vbihcInVwZGF0ZUdhbWVEYXRhXCIsIGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgICAgICB2YXIgcCA9IG51bGw7XHJcbiAgICAgICAgICAgIGZvcih2YXIgaSBpbiBBbGxQbGF5ZXJzKXtcclxuICAgICAgICAgICAgICAgIGlmKGZpbHRlclBsYXllcnMoQWxsUGxheWVyc1tpXSxkYXRhKSA9PT0gdHJ1ZSl7XHJcbiAgICAgICAgICAgICAgICAgICAgcCA9IGk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYocCAhPT0gbnVsbCl7XHJcbiAgICAgICAgICAgICAgICBBbGxQbGF5ZXJzW3BdLnJvdGF0ZVNwYWNlc2hpcFJlbGF0aXZlKGRhdGEub3JpZW50YXRpb24pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHNvY2tldFNlcnZpY2Uub24oXCJwbGF5ZXJTaG90XCIsIGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgICAgICBpZigkc2NvcGUuZW5kR2FtZT09PWZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcCA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpIGluIEFsbFBsYXllcnMpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZmlsdGVyUGxheWVycyhBbGxQbGF5ZXJzW2ldLCBkYXRhKSA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwID0gaTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAocCAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gQWxsUGxheWVyc1twXTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgYW5nbGUgPSAoMzYwIC0gKHRlbXAucm90YXRpb24gKyAxODApKSAvIDE4MCAqIE1hdGguUEk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHggPSB0ZW1wLnggKyAoY2Fudi53aWR0aCAvIDQwMCAqIE1hdGguc2luKGFuZ2xlKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHkgPSB0ZW1wLnkgKyAoY2Fudi53aWR0aCAvIDQwMCAqIE1hdGguY29zKGFuZ2xlKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgQWxsQnVsbGV0cy5wdXNoKG5ldyBCdWxsZXQoeCwgeSwgdGVtcC5yb3RhdGlvbiwgdGVtcC5jb2xvciwgdGVtcC51c2VyTmFtZSkpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAocCAlIDIgPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2hvdExhc2VyMS5jdXJyZW50VGltZSA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNob3RMYXNlcjEucGxheSgpXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNob3RMYXNlcjIuY3VycmVudFRpbWUgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaG90TGFzZXIyLnBsYXkoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gZmlsdGVyUGxheWVycyhvYmosZGF0YSl7XHJcbiAgICAgICAgICAgIHJldHVybiBkYXRhLnVzZXJuYW1lID09PSBvYmoudXNlck5hbWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgUG93ZXJ1cFNwYXduVGltZSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSo1MDAgKyA1MDApO1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBkcmF3KCl7XHJcbiAgICAgICAgICAgIGlmKEFsbFBsYXllcnMubGVuZ3RoPjApe1xyXG4gICAgICAgICAgICAgICAgLy9BbGxQbGF5ZXJzWzBdLnNwZWVkID0gMDtcclxuICAgICAgICAgICAgICAgIC8vQWxsUGxheWVyc1sxXS5zcGVlZCA9IDA7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmKFBvd2VydXBTcGF3blRpbWUgPT09IDApe1xyXG4gICAgICAgICAgICAgICAgUG93ZXJ1cFNwYXduVGltZSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSo1MDAgKyA1MDApO1xyXG4gICAgICAgICAgICAgICAgQWxsUG93ZXJVcHMucHVzaChuZXcgUG93ZXJ1cChNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqMTAwKSxNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqMTAwKSwgTWF0aC5jZWlsKE1hdGgucmFuZG9tKCkqMyksTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKjIpKSk7XHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgUG93ZXJ1cFNwYXduVGltZSAtLTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgY3R4LmNsZWFyUmVjdCgwLDAsY2Fudi53aWR0aCwgY2Fudi5oZWlnaHQpO1xyXG4gICAgICAgICAgICB2YXIgcmF0aW8gPSBjYW52LndpZHRoLzEwMDtcclxuXHJcbiAgICAgICAgICAgIGlmKEFsbFBvd2VyVXBzLmxlbmd0aCAhPT0gMCl7XHJcbiAgICAgICAgICAgICAgICBmb3IodmFyIHBvd2VydXAgaW4gQWxsUG93ZXJVcHMpe1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBwID0gQWxsUG93ZXJVcHNbcG93ZXJ1cF07XHJcbiAgICAgICAgICAgICAgICAgICAgcC53aWR0aCA9IGNhbnYud2lkdGgvNTA7XHJcbiAgICAgICAgICAgICAgICAgICAgcC5oZWlnaHQgPSBwLndpZHRoICogcC5pbWFnZS5oZWlnaHQvIHAuaW1hZ2Uud2lkdGg7XHJcbiAgICAgICAgICAgICAgICAgICAgY3R4LnNhdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICBjdHgudHJhbnNsYXRlKHAueCpyYXRpbywgcC55KnJhdGlvKTtcclxuICAgICAgICAgICAgICAgICAgICBjdHguZHJhd0ltYWdlKHAuaW1hZ2UsIC1wLndpZHRoLzIsIC1wLmhlaWdodC8yLCBwLndpZHRoLCBwLmhlaWdodCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY3R4LnJlc3RvcmUoKTtcclxuICAgICAgICAgICAgICAgICAgICBwLmRlY3JlYXNlRHVyYXRpb24oKTtcclxuICAgICAgICAgICAgICAgICAgICBpZihwLmR1cmF0aW9uID09PSAwKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgQWxsUG93ZXJVcHMuc3BsaWNlKHBvd2VydXAsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYoQWxsQnVsbGV0cy5sZW5ndGggIT09IDApe1xyXG4gICAgICAgICAgICAgICAgdmFyIEJ1bGxldFdpZHRoID0gY2Fudi53aWR0aC8xMDA7XHJcbiAgICAgICAgICAgICAgICB2YXIgQnVsbGV0SGVpZ2h0ID0gQnVsbGV0V2lkdGggKiBBbGxCdWxsZXRzWzBdLmltYWdlLmhlaWdodC9BbGxCdWxsZXRzWzBdLmltYWdlLndpZHRoO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvcih2YXIgYnVsbGV0IGluIEFsbEJ1bGxldHMpe1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBiID0gQWxsQnVsbGV0c1tidWxsZXRdO1xyXG4gICAgICAgICAgICAgICAgICAgIGIud2lkdGggPSBCdWxsZXRXaWR0aDtcclxuICAgICAgICAgICAgICAgICAgICBiLmhlaWdodCA9IEJ1bGxldEhlaWdodDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYoYi5leHBsb2RlU3RhZ2UgPT09IDApe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL0RyYXcgYnVsbGV0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN0eC5zYXZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN0eC50cmFuc2xhdGUoYi54KnJhdGlvLCBiLnkqcmF0aW8pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdHgucm90YXRlKGIucm90YXRpb24vMTgwKk1hdGguUEkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdHguZHJhd0ltYWdlKGIuaW1hZ2UsIC1CdWxsZXRXaWR0aC8yLCAtQnVsbGV0SGVpZ2h0LzIsIEJ1bGxldFdpZHRoLCBCdWxsZXRIZWlnaHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdHgucmVzdG9yZSgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgQWxsQnVsbGV0c1tidWxsZXRdLnggPSBNYXRoLmNvcygoYi5yb3RhdGlvbiAtIDkwKS8xODAqTWF0aC5QSSkgKyBiLng7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEFsbEJ1bGxldHNbYnVsbGV0XS55ID0gTWF0aC5zaW4oKGIucm90YXRpb24gLSA5MCkvMTgwKk1hdGguUEkpKyBiLnk7XHJcbiAgICAgICAgICAgICAgICAgICAgfWVsc2UgaWYoYi5leHBsb2RlU3RhZ2UgPCA0KXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9EcmF3IGV4cGxvc2lvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdHguc2F2ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdHgudHJhbnNsYXRlKGIueCpyYXRpbywgYi55KnJhdGlvKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3R4LmRyYXdJbWFnZShiLmV4cGxvc2lvbkltYWdlLCAtQnVsbGV0V2lkdGgsIC1CdWxsZXRXaWR0aCwgQnVsbGV0V2lkdGgqMiwgQnVsbGV0V2lkdGgqMik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN0eC5yZXN0b3JlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZihBbGxQbGF5ZXJzLmxlbmd0aCAhPT0gMCl7XHJcbiAgICAgICAgICAgICAgICB2YXIgU3BhY2VzaGlwV2lkdGggPSBjYW52LndpZHRoLzIwO1xyXG4gICAgICAgICAgICAgICAgdmFyIFNwYWNlc2hpcEhlaWdodCA9IFNwYWNlc2hpcFdpZHRoICogQWxsUGxheWVyc1swXS5pbWFnZS5oZWlnaHQvIEFsbFBsYXllcnNbMF0uaW1hZ2Uud2lkdGg7XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yKHZhciBwbGF5ZXIgaW4gQWxsUGxheWVycyl7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBsID0gQWxsUGxheWVyc1twbGF5ZXJdO1xyXG4gICAgICAgICAgICAgICAgICAgIHBsLndpZHRoID0gU3BhY2VzaGlwV2lkdGg7XHJcbiAgICAgICAgICAgICAgICAgICAgcGwuaGVpZ2h0ID0gU3BhY2VzaGlwSGVpZ2h0O1xyXG4gICAgICAgICAgICAgICAgICAgIGN0eC5zYXZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY3R4LnRyYW5zbGF0ZShwbC54KnJhdGlvLCBwbC55KnJhdGlvKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYocGwuZXhwbG9kZVN0YWdlID09PSAtMSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN0eC5yb3RhdGUocGwucm90YXRpb24vMTgwKk1hdGguUEkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdHguZHJhd0ltYWdlKHBsLmltYWdlLCAtU3BhY2VzaGlwV2lkdGgvMiwgLVNwYWNlc2hpcEhlaWdodC8yLCBTcGFjZXNoaXBXaWR0aCwgU3BhY2VzaGlwSGVpZ2h0KTtcclxuICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgQWxsUGxheWVyc1twbGF5ZXJdLmV4cGxvZGUoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYocGwuZGFtYWdlID4gMCAmJiBwbC5leHBsb2RlU3RhZ2UgPD0gMTQwKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3R4LmRyYXdJbWFnZShwbC5kYW1hZ2VJbWFnZSwgLVNwYWNlc2hpcFdpZHRoLzIsIC1TcGFjZXNoaXBIZWlnaHQvMiwgU3BhY2VzaGlwV2lkdGgsIFNwYWNlc2hpcEhlaWdodCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZihwbC5kYW1hZ2U8NCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEFsbFBsYXllcnNbcGxheWVyXS54ID0gTWF0aC5jb3MoKHBsLnJvdGF0aW9uIC0gOTApLzE4MCpNYXRoLlBJKS8xMCogcGwuc3BlZWQgKyBwbC54O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBBbGxQbGF5ZXJzW3BsYXllcl0ueSA9IE1hdGguc2luKChwbC5yb3RhdGlvbiAtIDkwKS8xODAqTWF0aC5QSSkvMTAqIHBsLnNwZWVkICsgcGwueTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYocGwuc2hpZWxkICYmIHBsLmV4cGxvZGVTdGFnZSA9PT0gLTEpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgU2hpZWxkV2lkdGggPSBTcGFjZXNoaXBXaWR0aCAqIDEuNTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIFNoaWVsZEhlaWdodCA9IFNoaWVsZFdpZHRoIC8gcGwuc2hpZWxkSW1hZ2Uud2lkdGggKiBwbC5zaGllbGRJbWFnZS5oZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN0eC5kcmF3SW1hZ2UocGwuc2hpZWxkSW1hZ2UsIC1TaGllbGRXaWR0aC8yLCAtU2hpZWxkSGVpZ2h0LzIsIFNoaWVsZFdpZHRoLCBTaGllbGRIZWlnaHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBBbGxQbGF5ZXJzW3BsYXllcl0uY2hlY2tQb3dlcnVwKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY3R4LnJlc3RvcmUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYoQWxsQXN0ZXJvaWRzLmxlbmd0aD4wKXtcclxuICAgICAgICAgICAgICAgIGZvcih2YXIgQXN0ZXJvaWQgaW4gQWxsQXN0ZXJvaWRzKXtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgYSA9IEFsbEFzdGVyb2lkc1tBc3Rlcm9pZF07XHJcbiAgICAgICAgICAgICAgICAgICAgYS53aWR0aCA9IGNhbnYud2lkdGgvNzAwKiBhLmltYWdlLndpZHRoO1xyXG4gICAgICAgICAgICAgICAgICAgIGEuaGVpZ2h0ID0gYS53aWR0aCogYS5pbWFnZS5oZWlnaHQvIGEuaW1hZ2Uud2lkdGg7XHJcbiAgICAgICAgICAgICAgICAgICAgY3R4LnNhdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICBjdHgudHJhbnNsYXRlKGEueCpyYXRpbywgYS55KnJhdGlvKTtcclxuICAgICAgICAgICAgICAgICAgICBjdHgucm90YXRlKGEucm90YXRpb24vMTgwKk1hdGguUEkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGN0eC5kcmF3SW1hZ2UoYS5pbWFnZSwgLWEud2lkdGgvMiwgLWEuaGVpZ2h0LzIsIGEud2lkdGgsIGEuaGVpZ2h0KTtcclxuICAgICAgICAgICAgICAgICAgICBjdHgucmVzdG9yZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKGEueCA8IC01IHx8IGEueCA+IDEwNSB8fCBhLnkgPCAtNSB8fCBhLnkgPiAxMDUpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL25pZXV3ZSBhc3Rlcm9pZCB0ZWtlbmVuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBrZXV6ZSA9IE1hdGgucmFuZG9tKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGtldXplIDwgMC4yNSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2xpbmtzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBBbGxBc3Rlcm9pZHNbQXN0ZXJvaWRdLnggPSAtNDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFsbEFzdGVyb2lkc1tBc3Rlcm9pZF0ueSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSoxMDApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQWxsQXN0ZXJvaWRzW0FzdGVyb2lkXS5yb3RhdGlvbiA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSoxODApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZSBpZihrZXV6ZSA8IDAuNSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2JvdmVuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBBbGxBc3Rlcm9pZHNbQXN0ZXJvaWRdLnggPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqMTAwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFsbEFzdGVyb2lkc1tBc3Rlcm9pZF0ueSA9IC00O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQWxsQXN0ZXJvaWRzW0FzdGVyb2lkXS5yb3RhdGlvbiA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSoxODApICsgOTA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNlIGlmKGtldXplIDwgMC43NSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3JlY2h0c1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQWxsQXN0ZXJvaWRzW0FzdGVyb2lkXS54ID0gMTA0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQWxsQXN0ZXJvaWRzW0FzdGVyb2lkXS55ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKjEwMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBBbGxBc3Rlcm9pZHNbQXN0ZXJvaWRdLnJvdGF0aW9uID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKjE4MCkgKyAxODA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9vbmRlclxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQWxsQXN0ZXJvaWRzW0FzdGVyb2lkXS54ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKjEwMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBBbGxBc3Rlcm9pZHNbQXN0ZXJvaWRdLnkgPSAxMDQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBBbGxBc3Rlcm9pZHNbQXN0ZXJvaWRdLnJvdGF0aW9uID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKjE4MCkgKyAyNzA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgQWxsQXN0ZXJvaWRzW0FzdGVyb2lkXS5zcGVlZCA9IDE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEFsbEFzdGVyb2lkc1tBc3Rlcm9pZF0uc2V0SW1hZ2UoTWF0aC5jZWlsKE1hdGgucmFuZG9tKCkqMTgpKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEFsbEFzdGVyb2lkc1tBc3Rlcm9pZF0ueCA9IE1hdGguY29zKChhLnJvdGF0aW9uIC0gOTApLzE4MCpNYXRoLlBJKS8zMCpBbGxBc3Rlcm9pZHNbQXN0ZXJvaWRdLnNwZWVkICsgYS54O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBBbGxBc3Rlcm9pZHNbQXN0ZXJvaWRdLnkgPSBNYXRoLnNpbigoYS5yb3RhdGlvbiAtIDkwKS8xODAqTWF0aC5QSSkvMzAqQWxsQXN0ZXJvaWRzW0FzdGVyb2lkXS5zcGVlZCArIGEueTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGNoZWNrQnVsbGV0cygpO1xyXG5cclxuICAgICAgICAgICAgY29sbGlzaW9uRGV0ZWN0aW9uKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBjaGVja0J1bGxldHMoKXtcclxuICAgICAgICAgICAgZm9yKHZhciBiIGluIEFsbEJ1bGxldHMpe1xyXG4gICAgICAgICAgICAgICAgaWYoQWxsQnVsbGV0c1tiXS54IDwgMCB8fCBBbGxCdWxsZXRzW2JdLnggPiBjYW52LndpZHRoIHx8IEFsbEJ1bGxldHNbYl0ueSA8IDAgfHwgQWxsQnVsbGV0c1tiXS55ID4gY2Fudi5oZWlnaHQpe1xyXG4gICAgICAgICAgICAgICAgICAgIEFsbEJ1bGxldHMuc3BsaWNlKGIsIDEpO1xyXG4gICAgICAgICAgICAgICAgfWVsc2UgaWYoQWxsQnVsbGV0c1tiXS5leHBsb2RlU3RhZ2UgPjApIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoQWxsQnVsbGV0c1tiXS5leHBsb2RlU3RhZ2UgPCA0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEFsbEJ1bGxldHNbYl0uZXhwbG9kZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEFsbEJ1bGxldHMuc3BsaWNlKGIsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgc2hvdExhc2VyMSA9IG5ldyBBdWRpbygnLi4vLi4vYXNzZXRzL0JvbnVzL3NmeF9sYXNlcjEub2dnJyk7XHJcbiAgICAgICAgdmFyIHNob3RMYXNlcjIgPSBuZXcgQXVkaW8oJy4uLy4uL2Fzc2V0cy9Cb251cy9zZnhfbGFzZXIyLm9nZycpO1xyXG4gICAgICAgIHZhciBkYW1hZ2Vzb3VuZCA9IG5ldyBBdWRpbygnLi4vLi4vYXNzZXRzL0JvbnVzL3NmeF9sb3NlLm9nZycpO1xyXG4gICAgICAgIHZhciBwb3dlcnVwU291bmQgPSBuZXcgQXVkaW8oJy4uLy4uL2Fzc2V0cy9Cb251cy9zZnhfemFwLm9nZycpO1xyXG4gICAgICAgIGZ1bmN0aW9uIGNvbGxpc2lvbkRldGVjdGlvbigpe1xyXG4gICAgICAgICAgICAvL1BsYXllciAtIEJ1bGxldFxyXG4gICAgICAgICAgICB2YXIgbGl2aW5nUGxheWVycz1bXTtcclxuICAgICAgICAgICAgZm9yKHZhciBwIGluIEFsbFBsYXllcnMpe1xyXG4gICAgICAgICAgICAgICAgaWYoQWxsUGxheWVyc1twXS5kYW1hZ2U+PTQpe1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdmFyIHNwYWNlU2hpcFggPSBBbGxQbGF5ZXJzW3BdLnggKiBjYW52LndpZHRoIC8gMTAwO1xyXG4gICAgICAgICAgICAgICAgdmFyIHNwYWNlU2hpcFkgPSBBbGxQbGF5ZXJzW3BdLnkgKiBjYW52LndpZHRoIC8gMTAwO1xyXG4gICAgICAgICAgICAgICAgdmFyIHNoaWVsZFJhdGlvID0gMTtcclxuICAgICAgICAgICAgICAgIGlmKEFsbFBsYXllcnNbcF0uc2hpZWxkKXtcclxuICAgICAgICAgICAgICAgICAgICBzaGllbGRSYXRpbyA9IDEuNTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHZhciBkYXRhID0ge307XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yKHZhciBiIGluIEFsbEJ1bGxldHMpe1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKEFsbEJ1bGxldHNbYl0uZXhwbG9kZVN0YWdlID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChBbGxCdWxsZXRzW2JdLnBsYXllciAhPSBBbGxQbGF5ZXJzW3BdLnVzZXJOYW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmFkaXVzID0gTWF0aC5zcXJ0KDIpIC8gMiAqIChBbGxCdWxsZXRzW2JdLmhlaWdodCAvIDIgLSBBbGxCdWxsZXRzW2JdLndpZHRoIC8gMik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYW5nbGUgPSAoMzYwIC0gKEFsbEJ1bGxldHNbYl0ucm90YXRpb24pKSAvIDE4MCAqIE1hdGguUEk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYnVsbGV0SGVhZFggPSAoQWxsQnVsbGV0c1tiXS54ICogY2Fudi53aWR0aCAvIDEwMCAtIChyYWRpdXMgKiBNYXRoLnNpbihhbmdsZSkpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBidWxsZXRIZWFkWSA9IChBbGxCdWxsZXRzW2JdLnkgKiBjYW52LndpZHRoIC8gMTAwIC0gKHJhZGl1cyAqIE1hdGguY29zKGFuZ2xlKSkpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkaXN0YW5jZSA9IE1hdGguc3FydCgoYnVsbGV0SGVhZFggLSBzcGFjZVNoaXBYKSAqIChidWxsZXRIZWFkWCAtIHNwYWNlU2hpcFgpICsgKGJ1bGxldEhlYWRZIC0gc3BhY2VTaGlwWSkgKiAoYnVsbGV0SGVhZFkgLSBzcGFjZVNoaXBZKSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRpc3RhbmNlIDwgKEFsbEJ1bGxldHNbYl0ud2lkdGggLyAyICsgQWxsUGxheWVyc1twXS53aWR0aCAvIDIgKiBzaGllbGRSYXRpbykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYW1hZ2Vzb3VuZC5jdXJyZW50VGltZSA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGFtYWdlc291bmQucGxheSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCFBbGxQbGF5ZXJzW3BdLnNoaWVsZCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFsbFBsYXllcnNbcF0uaW5jcmVhc2VEYW1hZ2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLnVzZXJuYW1lID0gQWxsUGxheWVyc1twXS51c2VyTmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5saWZlID0gMy1BbGxQbGF5ZXJzW3BdLmRhbWFnZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc29ja2V0U2VydmljZS5lbWl0KFwicGxheWVyTGlmZVwiLGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBbGxCdWxsZXRzW2JdLmV4cGxvZGUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vUGxheWVyIC0gQXN0ZXJvaWRcclxuICAgICAgICAgICAgICAgIGZvcih2YXIgYSBpbiBBbGxBc3Rlcm9pZHMpe1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBhc3Rlcm9pZFggPSBBbGxBc3Rlcm9pZHNbYV0ueCAqIGNhbnYud2lkdGggLyAxMDA7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFzdGVyb2lkWSA9IEFsbEFzdGVyb2lkc1thXS55ICogY2Fudi53aWR0aCAvIDEwMDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRpc3RhbmNlUEEgPSBNYXRoLnNxcnQoKGFzdGVyb2lkWCAtIHNwYWNlU2hpcFgpICogKGFzdGVyb2lkWCAtIHNwYWNlU2hpcFgpICsgKGFzdGVyb2lkWSAtIHNwYWNlU2hpcFkpICogKGFzdGVyb2lkWSAtIHNwYWNlU2hpcFkpKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRpc3RhbmNlUEEgPCAoQWxsQXN0ZXJvaWRzW2FdLndpZHRoIC8gMiArIEFsbFBsYXllcnNbcF0ud2lkdGggLyAyICogc2hpZWxkUmF0aW8pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKEFsbEFzdGVyb2lkc1thXS5ib3ggPT09IGZhbHNlKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFsbEFzdGVyb2lkc1thXS5ib3ggPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGFtYWdlc291bmQuY3VycmVudFRpbWUgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGFtYWdlc291bmQucGxheSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoQWxsUGxheWVyc1twXS5zaGllbGQpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhbmdsZVAgPSAtIChNYXRoLmF0YW4yKChBbGxBc3Rlcm9pZHNbYV0ueSAtIEFsbFBsYXllcnNbcF0ueSksKEFsbEFzdGVyb2lkc1thXS54IC0gQWxsUGxheWVyc1twXS54KSkqMTgwL01hdGguUEkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKChhbmdsZVAgPiAtOTAgJiYgYW5nbGVQIDwgMCkgfHwgKGFuZ2xlUCA+IDkwICYmIGFuZ2xlUCA8IDE4MCkpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBbGxBc3Rlcm9pZHNbYV0ucm90YXRpb24gPSAxODAgKyBhbmdsZVA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFsbEFzdGVyb2lkc1thXS5yb3RhdGlvbiA9IGFuZ2xlUDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQWxsQXN0ZXJvaWRzW2FdLnNwZWVkID0gNjsvLypBbGxQbGF5ZXJzW3BdLnNwZWVkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQWxsUGxheWVyc1twXS5kZWFkKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEudXNlcm5hbWUgPSBBbGxQbGF5ZXJzW3BdLnVzZXJOYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEubGlmZSA9IDMtQWxsUGxheWVyc1twXS5kYW1hZ2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc29ja2V0U2VydmljZS5lbWl0KFwicGxheWVyTGlmZVwiLGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfWVsc2UgaWYoZGlzdGFuY2VQQSA+IChBbGxBc3Rlcm9pZHNbYV0ud2lkdGggLyAyICsgQWxsUGxheWVyc1twXS53aWR0aCAvIDIgKiBzaGllbGRSYXRpbyArIDEwMCkpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBBbGxBc3Rlcm9pZHNbYV0uYm94ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vUGxheWVyIC0gUGxheWVyXHJcbiAgICAgICAgICAgICAgICBmb3IodmFyIGFwIGluIEFsbFBsYXllcnMpe1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKEFsbFBsYXllcnNbYXBdLmRhbWFnZSA9PT0gNCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZihhcCE9cCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzcGFjZVNoaXAxWCA9IEFsbFBsYXllcnNbYXBdLnggKiBjYW52LndpZHRoIC8gMTAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3BhY2VTaGlwMVkgPSBBbGxQbGF5ZXJzW2FwXS55ICogY2Fudi53aWR0aCAvIDEwMDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzaGllbGRSYXRpbzEgPSAxO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZihBbGxQbGF5ZXJzW2FwXS5zaGllbGQpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hpZWxkUmF0aW8xID0gMS41O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGlzdGFuY2VQUCA9IE1hdGguc3FydCgoc3BhY2VTaGlwMVggLSBzcGFjZVNoaXBYKSAqIChzcGFjZVNoaXAxWCAtIHNwYWNlU2hpcFgpICsgKHNwYWNlU2hpcDFZIC0gc3BhY2VTaGlwWSkgKiAoc3BhY2VTaGlwMVkgLSBzcGFjZVNoaXBZKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkaXN0YW5jZVBQIDwgKEFsbFBsYXllcnNbYXBdLndpZHRoIC8gMiAqIHNoaWVsZFJhdGlvMSArIEFsbFBsYXllcnNbcF0ud2lkdGggLyAyICogc2hpZWxkUmF0aW8pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYW1hZ2Vzb3VuZC5jdXJyZW50VGltZSA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYW1hZ2Vzb3VuZC5wbGF5KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBBbGxQbGF5ZXJzW3BdLmRlYWQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFsbFBsYXllcnNbYXBdLmRlYWQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEudXNlcm5hbWUgPSBBbGxQbGF5ZXJzW3BdLnVzZXJOYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5saWZlID0gMy1BbGxQbGF5ZXJzW3BdLmRhbWFnZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvY2tldFNlcnZpY2UuZW1pdChcInBsYXllckxpZmVcIixkYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEudXNlcm5hbWUgPSBBbGxQbGF5ZXJzW2FwXS51c2VyTmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEubGlmZSA9IDMtQWxsUGxheWVyc1thcF0uZGFtYWdlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc29ja2V0U2VydmljZS5lbWl0KFwicGxheWVyTGlmZVwiLGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vUGxheWVyIC0gV2FsbFxyXG4gICAgICAgICAgICAgICAgaWYoQWxsUGxheWVyc1twXS54KmNhbnYud2lkdGgvMTAwIDwgQWxsUGxheWVyc1twXS5oZWlnaHQvMiB8fCBBbGxQbGF5ZXJzW3BdLngqY2Fudi53aWR0aC8xMDAgPiBjYW52LndpZHRoLShBbGxQbGF5ZXJzW3BdLmhlaWdodC8yKXx8XHJcbiAgICAgICAgICAgICAgICAgICAgQWxsUGxheWVyc1twXS55KmNhbnYud2lkdGgvMTAwIDwgQWxsUGxheWVyc1twXS5oZWlnaHQvMiB8fCBBbGxQbGF5ZXJzW3BdLnkqY2Fudi53aWR0aC8xMDAgPiBjYW52LndpZHRoLShBbGxQbGF5ZXJzW3BdLmhlaWdodC8yKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgZGFtYWdlc291bmQuY3VycmVudFRpbWUgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIGRhbWFnZXNvdW5kLnBsYXkoKTtcclxuICAgICAgICAgICAgICAgICAgICBBbGxQbGF5ZXJzW3BdLmRlYWQoKTtcclxuICAgICAgICAgICAgICAgICAgICBkYXRhID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YS51c2VybmFtZSA9IEFsbFBsYXllcnNbcF0udXNlck5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YS5saWZlID0gMy1BbGxQbGF5ZXJzW3BdLmRhbWFnZTtcclxuICAgICAgICAgICAgICAgICAgICBzb2NrZXRTZXJ2aWNlLmVtaXQoXCJwbGF5ZXJMaWZlXCIsZGF0YSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy9QbGF5ZXIgLSBQb3dlcnVwXHJcbiAgICAgICAgICAgICAgICBmb3IodmFyIHB1IGluIEFsbFBvd2VyVXBzKXtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcG93ZXJ1cFggPSBBbGxQb3dlclVwc1twdV0ueCAqIGNhbnYud2lkdGggLyAxMDA7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBvd2VydXBZID0gQWxsUG93ZXJVcHNbcHVdLnkgKiBjYW52LndpZHRoIC8gMTAwO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB2YXIgZGlzdGFuY2VQUFUgPSBNYXRoLnNxcnQoKHBvd2VydXBYIC0gc3BhY2VTaGlwWCkgKiAocG93ZXJ1cFggLSBzcGFjZVNoaXBYKSArIChwb3dlcnVwWSAtIHNwYWNlU2hpcFkpICogKHBvd2VydXBZIC0gc3BhY2VTaGlwWSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkaXN0YW5jZVBQVSA8IChBbGxQb3dlclVwc1twdV0ud2lkdGggLyAyICsgQWxsUGxheWVyc1twXS53aWR0aCAvIDIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvd2VydXBTb3VuZC5jdXJyZW50VGltZSA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvd2VydXBTb3VuZC5wbGF5KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKEFsbFBvd2VyVXBzW3B1XS5ib29sU2VsZiA9PT0gMSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IodmFyIHBsYXllciBpbiBBbGxQbGF5ZXJzKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihwbGF5ZXIgIT0gcCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFsbFBsYXllcnNbcGxheWVyXS5hZGRQb3dlcnVwKEFsbFBvd2VyVXBzW3B1XSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFsbFBsYXllcnNbcF0uYWRkUG93ZXJ1cChBbGxQb3dlclVwc1twdV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKEFsbFBvd2VyVXBzW3B1XS50eXBlID09PSAzKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEudXNlcm5hbWUgPSBBbGxQbGF5ZXJzW3BdLnVzZXJOYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5saWZlID0gMztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvY2tldFNlcnZpY2UuZW1pdChcInBsYXllckxpZmVcIiwgZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgQWxsUG93ZXJVcHMuc3BsaWNlKHB1LCAxKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZihBbGxQbGF5ZXJzW3BdLmRhbWFnZTw0KXtcclxuICAgICAgICAgICAgICAgICAgICBsaXZpbmdQbGF5ZXJzLnB1c2goQWxsUGxheWVyc1twXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vQnVsbGV0IC0gQXN0ZXJvaWRcclxuICAgICAgICAgICAgZm9yKHZhciBhYSBpbiBBbGxBc3Rlcm9pZHMpIHtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGFiIGluIEFsbEJ1bGxldHMpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoQWxsQnVsbGV0c1thYl0uZXhwbG9kZVN0YWdlID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChBbGxCdWxsZXRzW2FiXS5wbGF5ZXIgIT0gQWxsQXN0ZXJvaWRzW2FhXS51c2VyTmFtZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJhZGl1c0IgPSBNYXRoLnNxcnQoMikgLyAyICogKEFsbEJ1bGxldHNbYWJdLmhlaWdodCAvIDIgLSBBbGxCdWxsZXRzW2FiXS53aWR0aCAvIDIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFuZ2xlQiA9ICgzNjAgLSAoQWxsQnVsbGV0c1thYl0ucm90YXRpb24pKSAvIDE4MCAqIE1hdGguUEk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYUJ1bGxldEhlYWRYID0gKEFsbEJ1bGxldHNbYWJdLnggKiBjYW52LndpZHRoIC8gMTAwIC0gKHJhZGl1c0IgKiBNYXRoLnNpbihhbmdsZUIpKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYUJ1bGxldEhlYWRZID0gKEFsbEJ1bGxldHNbYWJdLnkgKiBjYW52LndpZHRoIC8gMTAwIC0gKHJhZGl1c0IgKiBNYXRoLmNvcyhhbmdsZUIpKSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFzdGVyb2lkYVggPSBBbGxBc3Rlcm9pZHNbYWFdLnggKiBjYW52LndpZHRoIC8gMTAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFzdGVyb2lkYVkgPSBBbGxBc3Rlcm9pZHNbYWFdLnkgKiBjYW52LndpZHRoIC8gMTAwO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkaXN0YW5jZUJBID0gTWF0aC5zcXJ0KChhQnVsbGV0SGVhZFggLSBhc3Rlcm9pZGFYKSAqIChhQnVsbGV0SGVhZFggLSBhc3Rlcm9pZGFYKSArIChhQnVsbGV0SGVhZFkgLSBhc3Rlcm9pZGFZKSAqIChhQnVsbGV0SGVhZFkgLSBhc3Rlcm9pZGFZKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGlzdGFuY2VCQSA8IChBbGxCdWxsZXRzW2FiXS53aWR0aCAvIDIgKyBBbGxBc3Rlcm9pZHNbYWFdLndpZHRoIC8gMikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb2NrZXRTZXJ2aWNlLmVtaXQoXCJwbGF5ZXJMaWZlXCIsIHt1c2VybmFtZTpBbGxBc3Rlcm9pZHNbYWFdLnVzZXJOYW1lLCBkYW1hZ2U6ICgzIC0gQWxsQXN0ZXJvaWRzW2FhXS5kYW1hZ2UpfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQWxsQnVsbGV0c1thYl0uZXhwbG9kZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZihsaXZpbmdQbGF5ZXJzLmxlbmd0aDw9MSl7XHJcbiAgICAgICAgICAgICAgICBlbmRHYW1lKGxpdmluZ1BsYXllcnMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBlbmRHYW1lKGxpdmluZ1BsYXllcnMpe1xyXG4gICAgICAgICAgICBpZiAoYW5ndWxhci5pc0RlZmluZWQoY3ljbGUpKSB7XHJcbiAgICAgICAgICAgICAgICAkaW50ZXJ2YWwuY2FuY2VsKGN5Y2xlKTtcclxuICAgICAgICAgICAgICAgIGN5Y2xlID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICRzY29wZS5lbmRHYW1lPXRydWU7XHJcbiAgICAgICAgICAgIGlmKGxpdmluZ1BsYXllcnMubGVuZ3RoPT09MSkge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmVuZEdhbWVUZXh0ID0gbGl2aW5nUGxheWVyc1swXS51c2VyTmFtZSArIFwiIGlzIHRoZSB3aW5uZXIhXCI7XHJcbiAgICAgICAgICAgICAgICBzb2NrZXRTZXJ2aWNlLmVtaXQoXCJlbmRHYW1lXCIsIGxpdmluZ1BsYXllcnNbMF0udXNlck5hbWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZW5kR2FtZVRleHQgPSBcIk5vIHdpbm5lcnNcIjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAkc2NvcGUucmVzdGFydEdhbWUgPSBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAkc2NvcGUuZW5kR2FtZT1mYWxzZTtcclxuICAgICAgICAgICAgdmFyIHRlbGxlcj0wO1xyXG4gICAgICAgICAgICBmb3IodmFyIHAgaW4gQWxsUGxheWVycyl7XHJcbiAgICAgICAgICAgICAgICBBbGxQbGF5ZXJzW3BdLnJlc2V0KGRlZmF1bHRWYXJzW3RlbGxlcl0ueCxkZWZhdWx0VmFyc1t0ZWxsZXJdLnksZGVmYXVsdFZhcnNbdGVsbGVyXS5yb3RhdGlvbik7XHJcbiAgICAgICAgICAgICAgICB0ZWxsZXIrKztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBBbGxBc3Rlcm9pZHM9W107XHJcbiAgICAgICAgICAgIGZvcih2YXIgaSA9IDA7IGk8MTU7IGkrKyl7XHJcbiAgICAgICAgICAgICAgICBBbGxBc3Rlcm9pZHMucHVzaChuZXcgQXN0ZXJvaWQoY3JlYXRlQ29vcmRpbmF0ZVgoKSwgY3JlYXRlQ29vcmRpbmF0ZVkoKSwgTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKjM2MSksIE1hdGguY2VpbChNYXRoLnJhbmRvbSgpKjE4KSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIEFsbEJ1bGxldHMgPSBbXTtcclxuICAgICAgICAgICAgQWxsUG93ZXJVcHMgPSBbXTtcclxuICAgICAgICAgICAgUG93ZXJ1cFNwYXduVGltZSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSo1MDAgKyA1MDApO1xyXG5cclxuICAgICAgICAgICAgY3R4LmNsZWFyUmVjdCgwLDAsY2Fudi53aWR0aCwgY2Fudi5oZWlnaHQpO1xyXG4gICAgICAgICAgICBzb2NrZXRTZXJ2aWNlLmVtaXQoXCJyZXN0YXJ0R2FtZVwiLG51bGwpO1xyXG4gICAgICAgICAgICBjeWNsZSA9ICRpbnRlcnZhbChkcmF3LCAxMCk7XHJcbiAgICAgICAgfTtcclxuICAgIH07XHJcblxyXG4gICAgYW5ndWxhci5tb2R1bGUoXCJhcHBcIikuY29udHJvbGxlcihcInBsYXlDb250cm9sbGVyXCIsIFtcIiRzY29wZVwiLCBcIiRpbnRlcnZhbFwiLCBcIiR3aW5kb3dcIiwgXCJzb2NrZXRTZXJ2aWNlXCIsIFwiZGlzcGxheVNlcnZpY2VcIiwgXCJwbGF5ZXJTZXJ2aWNlXCIsIHBsYXlDb250cm9sbGVyXSk7XHJcbn0pKCk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkganVzdGlqbmRlcG92ZXIgb24gMDkvMTIvMTUuXHJcbiAqL1xyXG5cclxuXHJcbnZhciBBc3Rlcm9pZCA9IGZ1bmN0aW9uKHgsIHksIHJvdGF0aW9uLCBzdGFnZSl7XHJcbiAgICB0aGlzLnggPSB4O1xyXG4gICAgdGhpcy55ID0geTtcclxuICAgIHRoaXMud2lkdGggPSAwO1xyXG4gICAgdGhpcy5oZWlnaHQgPSAwO1xyXG4gICAgdGhpcy5yb3RhdGlvbiA9IHJvdGF0aW9uO1xyXG4gICAgdGhpcy5zdGFnZSA9IHN0YWdlO1xyXG4gICAgdGhpcy5pbWFnZSA9IG5ldyBJbWFnZSgpO1xyXG4gICAgdGhpcy5pbWFnZS5zcmMgPSAoXCIuLi9hc3NldHMvUE5HL01ldGVvcnMvbWV0ZW9yX1wiICsgc3RhZ2UgKyBcIi5wbmdcIik7XHJcbiAgICB0aGlzLnNwZWVkID0gMTtcclxuICAgIHRoaXMuYm94ID0gZmFsc2U7XHJcbn07XHJcblxyXG5Bc3Rlcm9pZC5wcm90b3R5cGUuc2V0SW1hZ2UgPSBmdW5jdGlvbihzdGFnZSl7XHJcbiAgICB0aGlzLnN0YWdlID0gc3RhZ2U7XHJcbiAgICB0aGlzLmltYWdlLnNyYyA9IChcIi4uL2Fzc2V0cy9QTkcvTWV0ZW9ycy9tZXRlb3JfXCIgKyBzdGFnZSArIFwiLnBuZ1wiKTtcclxufTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBqdXN0aWpuZGVwb3ZlciBvbiAyMi8xMi8xNS5cclxuICovXHJcblxyXG52YXIgQnVsbGV0ID0gZnVuY3Rpb24oeCwgeSxyb3RhdGlvbiwgY29sb3IsIHBsYXllcil7XHJcbiAgICB0aGlzLnggPSB4O1xyXG4gICAgdGhpcy55ID0geTtcclxuICAgIHRoaXMucm90YXRpb24gPSByb3RhdGlvbjtcclxuICAgIHRoaXMuaW1hZ2UgPSBuZXcgSW1hZ2UoKTtcclxuICAgIHRoaXMuY29sb3IgPSBjb2xvcjtcclxuICAgIHRoaXMud2lkdGggPSAwO1xyXG4gICAgdGhpcy5oZWlnaHQgPSAwO1xyXG4gICAgdGhpcy5wbGF5ZXIgPSBwbGF5ZXI7XHJcbiAgICB0aGlzLmV4cGxvc2lvbkltYWdlID0gbmV3IEltYWdlKCk7XHJcbiAgICB0aGlzLmV4cGxvZGVTdGFnZSA9IDA7XHJcbiAgICBpZih0aGlzLmNvbG9yID09IFwib3JhbmdlXCIpe1xyXG4gICAgICAgIHRoaXMuY29sb3IgPSAncmVkJztcclxuICAgIH1cclxuICAgIHRoaXMuaW1hZ2Uuc3JjID0gJy4uL2Fzc2V0cy9QTkcvTGFzZXJzL2xhc2VyJysgdGhpcy5jb2xvci5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHRoaXMuY29sb3Iuc2xpY2UoMSkgKycwMS5wbmcnO1xyXG59O1xyXG5cclxuQnVsbGV0LnByb3RvdHlwZS5leHBsb2RlID0gZnVuY3Rpb24oKXtcclxuICAgIGlmKHRoaXMuZXhwbG9kZVN0YWdlIDwgNCl7XHJcbiAgICAgICAgdGhpcy5leHBsb2RlU3RhZ2UrKztcclxuICAgICAgICB2YXIgbnVtYmVyO1xyXG4gICAgICAgIGlmKHRoaXMuZXhwbG9kZVN0YWdlIDwgMyl7XHJcbiAgICAgICAgICAgIG51bWJlciA9IDE7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIG51bWJlciA9IDI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuZXhwbG9zaW9uSW1hZ2Uuc3JjID0gJy4uL2Fzc2V0cy9QTkcvTGFzZXJzL2xhc2VyJyArIHRoaXMuY29sb3IuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyB0aGlzLmNvbG9yLnNsaWNlKDEpICsgJ0V4cGxvZGUnKyBudW1iZXIgKycucG5nJztcclxuICAgIH1lbHNle1xyXG4gICAgICAgIHRoaXMuZXhwbG9zaW9uSW1hZ2Uuc3JjID0gJyc7XHJcbiAgICB9XHJcbn07XHJcbiIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IGp1c3Rpam5kZXBvdmVyIG9uIDA1LzAxLzE2LlxyXG4gKi9cclxuXHJcblxyXG52YXIgUG93ZXJ1cCA9IGZ1bmN0aW9uKHgsIHksIHR5cGUsIGJvb2xTZWxmKXtcclxuICAgIHRoaXMueCA9IHg7XHJcbiAgICB0aGlzLnkgPSB5O1xyXG4gICAgdGhpcy53aWR0aCA9IDA7XHJcbiAgICB0aGlzLmhlaWdodCA9IDA7XHJcbiAgICB0aGlzLnR5cGUgPSB0eXBlO1xyXG4gICAgdGhpcy5kdXJhdGlvbiA9IDEwMDA7XHJcbiAgICB0aGlzLnBsYXllcmR1cmF0aW9uID0gMTAwMDtcclxuICAgIHZhciBpbWFnZVR5cGU7XHJcbiAgICB0aGlzLmltYWdlID0gbmV3IEltYWdlKCk7XHJcbiAgICB0aGlzLmJvb2xTZWxmID0gYm9vbFNlbGY7XHJcbiAgICBzd2l0Y2godHlwZSl7XHJcbiAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICBpbWFnZVR5cGUgPSBcImJvbHRfXCI7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgaW1hZ2VUeXBlID0gXCJzaGllbGRfXCI7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgMzpcclxuICAgICAgICAgICAgaW1hZ2VUeXBlID0gXCJzdGFyX1wiO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgIH1cclxuXHJcbiAgICBzd2l0Y2goYm9vbFNlbGYpe1xyXG4gICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgaW1hZ2VUeXBlICs9IFwiZ29sZC5wbmdcIjtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICBpbWFnZVR5cGUgKz0gXCJzaWx2ZXIucG5nXCI7XHJcbiAgICB9XHJcbiAgICB0aGlzLmltYWdlLnNyYyA9IFwiLi4vYXNzZXRzL1BORy9Qb3dlci11cHMvXCIgKyBpbWFnZVR5cGU7XHJcbn07XHJcblxyXG5Qb3dlcnVwLnByb3RvdHlwZS5kZWNyZWFzZUR1cmF0aW9uID0gZnVuY3Rpb24oKXtcclxuICBpZih0aGlzLmR1cmF0aW9uID4gMCl7XHJcbiAgICAgIHRoaXMuZHVyYXRpb24gLS07XHJcbiAgfVxyXG59OyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IGp1c3Rpam5kZXBvdmVyIG9uIDA5LzEyLzE1LlxyXG4gKi9cclxuXHJcbnZhciBTcGFjZXNoaXAgPSBmdW5jdGlvbih1c2VyTmFtZSwgeCwgeSwgY29sb3IsIHJvdGF0aW9uKXtcclxuICAgIHRoaXMudXNlck5hbWUgPSB1c2VyTmFtZTtcclxuICAgIHRoaXMueCA9IHg7XHJcbiAgICB0aGlzLnkgPSB5O1xyXG4gICAgdGhpcy5zcGVlZCA9IDE7XHJcbiAgICB0aGlzLmNvbG9yID0gY29sb3I7XHJcbiAgICB0aGlzLnJvdGF0aW9uID0gcm90YXRpb247XHJcbiAgICB0aGlzLmltYWdlID0gbmV3IEltYWdlKCk7XHJcbiAgICB0aGlzLmRhbWFnZSA9IDA7XHJcbiAgICB0aGlzLndpZHRoID0gMDtcclxuICAgIHRoaXMuaGVpZ2h0ID0gMDtcclxuICAgIHRoaXMucG93ZXJ1cHMgPSBbXTtcclxuICAgIHRoaXMuc2hpZWxkID0gZmFsc2U7XHJcbiAgICB0aGlzLnNoaWVsZEltYWdlID0gbmV3IEltYWdlKCk7XHJcbiAgICB0aGlzLnNoaWVsZEltYWdlLnNyYyA9IFwiLi4vYXNzZXRzL1BORy9FZmZlY3RzL3NoaWVsZDEucG5nXCI7XHJcbiAgICB0aGlzLmRhbWFnZUltYWdlID0gbmV3IEltYWdlKCk7XHJcbiAgICB0aGlzLmltYWdlLnNyYyA9ICcuLi9hc3NldHMvUE5HL3BsYXllclNoaXAxXycrIHRoaXMuY29sb3IgKycucG5nJztcclxuICAgIHRoaXMuZXhwbG9kZVN0YWdlID0gLTE7XHJcbn07XHJcblxyXG5TcGFjZXNoaXAucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gKHgsIHksIHJvdGF0aW9uKSB7XHJcbiAgICB0aGlzLnNwZWVkID0gMTtcclxuICAgIHRoaXMuZGFtYWdlID0gMDtcclxuICAgIHRoaXMuZGFtYWdlSW1hZ2UgPSBuZXcgSW1hZ2UoKTtcclxuICAgIHRoaXMuaW1hZ2Uuc3JjID0gJy4uL2Fzc2V0cy9QTkcvcGxheWVyU2hpcDFfJysgdGhpcy5jb2xvciArJy5wbmcnO1xyXG4gICAgdGhpcy54ID0geDtcclxuICAgIHRoaXMueSA9IHk7XHJcbiAgICB0aGlzLnJvdGF0aW9uID0gcm90YXRpb247XHJcbiAgICB0aGlzLnNoaWVsZCA9IGZhbHNlO1xyXG4gICAgdGhpcy5leHBsb2RlU3RhZ2UgPSAtMTtcclxufTtcclxuXHJcblNwYWNlc2hpcC5wcm90b3R5cGUubW92ZVNwYWNlc2hpcCA9IGZ1bmN0aW9uKHgsIHkpe1xyXG4gICAgdGhpcy54ID0geDtcclxuICAgIHRoaXMueSA9IHk7XHJcbn07XHJcblxyXG5TcGFjZXNoaXAucHJvdG90eXBlLm1vdmVTcGFjZXNoaXBSZWxhdGl2ZSA9IGZ1bmN0aW9uKHgsIHkpe1xyXG4gICAgdGhpcy54ID0gdGhpcy54K3g7XHJcbiAgICB0aGlzLnkgPSB0aGlzLnkreTtcclxufTtcclxuXHJcblNwYWNlc2hpcC5wcm90b3R5cGUucm90YXRlU3BhY2VzaGlwID0gZnVuY3Rpb24oZGVncmVlKXtcclxuICAgIHRoaXMucm90YXRpb24gPSBkZWdyZWU7XHJcbn07XHJcblxyXG5TcGFjZXNoaXAucHJvdG90eXBlLnJvdGF0ZVNwYWNlc2hpcFJlbGF0aXZlID0gZnVuY3Rpb24oZGVncmVlKXtcclxuICAgIGlmKGRlZ3JlZT44MCl7XHJcbiAgICAgICAgZGVncmVlPTgwO1xyXG4gICAgfWVsc2UgaWYgKGRlZ3JlZTwtODApe1xyXG4gICAgICAgIGRlZ3JlZSA9IC04MDtcclxuICAgIH1cclxuICAgIHRoaXMucm90YXRpb24gPSB0aGlzLnJvdGF0aW9uICsgZGVncmVlLzU7XHJcbiAgICBpZih0aGlzLnJvdGF0aW9uIDwgLTM2MCl7XHJcbiAgICAgICAgdGhpcy5yb3RhdGlvbiA9IHRoaXMucm90YXRpb24gKyA3MjA7XHJcbiAgICB9XHJcbiAgICBpZih0aGlzLnJvdGF0aW9uID4gMzYwKXtcclxuICAgICAgICB0aGlzLnJvdGF0aW9uID0gdGhpcy5yb3RhdGlvbiAtIDcyMDtcclxuICAgIH1cclxufTtcclxuXHJcblNwYWNlc2hpcC5wcm90b3R5cGUuaW5jcmVhc2VEYW1hZ2UgPSBmdW5jdGlvbigpe1xyXG4gICAgaWYodGhpcy5kYW1hZ2UgPCA0KXtcclxuICAgICAgICB0aGlzLmRhbWFnZSArPSAxO1xyXG4gICAgfVxyXG5cclxuICAgIGlmKHRoaXMuZGFtYWdlIDw9IDMgJiYgdGhpcy5kYW1hZ2UgPiAwKXtcclxuICAgICAgICB0aGlzLmRhbWFnZUltYWdlLnNyYyA9ICcuLi9hc3NldHMvUE5HL0RhbWFnZS9wbGF5ZXJTaGlwMV9kYW1hZ2UnKyB0aGlzLmRhbWFnZSArICcucG5nJztcclxuICAgIH1lbHNlIGlmKHRoaXMuZGFtYWdlPT00KXtcclxuICAgICAgICB0aGlzLmV4cGxvZGUoKTtcclxuICAgIH1cclxufTtcclxuXHJcblNwYWNlc2hpcC5wcm90b3R5cGUuZGVhZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHRoaXMuZGFtYWdlID0gNDtcclxuICAgIHRoaXMuZXhwbG9kZSgpO1xyXG59O1xyXG5cclxuU3BhY2VzaGlwLnByb3RvdHlwZS5leHBsb2RlID0gZnVuY3Rpb24oKXtcclxuICAgIGlmKHRoaXMuZXhwbG9kZVN0YWdlIDw9IDE0MCl7XHJcbiAgICAgICAgdGhpcy5leHBsb2RlU3RhZ2UgKys7XHJcbiAgICAgICAgdGhpcy5kYW1hZ2VJbWFnZS5zcmMgPSBcIi4uL2Fzc2V0cy9QTkcvRGFtYWdlL2ZyYW1lXCIgKyBNYXRoLmZsb29yKHRoaXMuZXhwbG9kZVN0YWdlLzEwKSArIFwiLmdpZlwiO1xyXG4gICAgfVxyXG59O1xyXG5cclxuU3BhY2VzaGlwLnByb3RvdHlwZS5kZWNyZWFzZURhbWFnZSA9IGZ1bmN0aW9uKCl7XHJcbiAgICBpZih0aGlzLmRhbWFnZSA+IDApe1xyXG4gICAgICAgIHRoaXMuZGFtYWdlIC09IDE7XHJcbiAgICB9XHJcblxyXG4gICAgaWYodGhpcy5kYW1hZ2UgPD0gMyAmJiB0aGlzLmRhbWFnZSA+IDApe1xyXG4gICAgICAgIHRoaXMuZGFtYWdlSW1hZ2Uuc3JjID0gJy4uL2Fzc2V0cy9QTkcvRGFtYWdlL3BsYXllclNoaXAxX2RhbWFnZScrIHRoaXMuZGFtYWdlICsgJy5wbmcnO1xyXG4gICAgfVxyXG59O1xyXG5cclxuU3BhY2VzaGlwLnByb3RvdHlwZS5hZGRQb3dlcnVwID0gZnVuY3Rpb24ocG93ZXJ1cCl7XHJcbiAgICBzd2l0Y2gocG93ZXJ1cC50eXBlKXtcclxuICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgIHRoaXMuc3BlZWQgKys7XHJcbiAgICAgICAgICAgIHRoaXMucG93ZXJ1cHMucHVzaChwb3dlcnVwKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICB0aGlzLnNoaWVsZCA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMucG93ZXJ1cHMucHVzaChwb3dlcnVwKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAzOlxyXG4gICAgICAgICAgICB0aGlzLmRhbWFnZSA9IDA7XHJcbiAgICAgICAgICAgIHRoaXMuZGFtYWdlSW1hZ2Uuc3JjID0gXCJcIjtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICB9XHJcbn07XHJcblxyXG5TcGFjZXNoaXAucHJvdG90eXBlLmNoZWNrUG93ZXJ1cCA9IGZ1bmN0aW9uKCl7XHJcbiAgICBmb3IodmFyIHAgaW4gdGhpcy5wb3dlcnVwcyl7XHJcbiAgICAgICAgaWYodGhpcy5wb3dlcnVwc1twXS5wbGF5ZXJkdXJhdGlvbiA+IDApe1xyXG4gICAgICAgICAgICB0aGlzLnBvd2VydXBzW3BdLnBsYXllcmR1cmF0aW9uIC0tO1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICBzd2l0Y2godGhpcy5wb3dlcnVwc1twXS50eXBlKXtcclxuICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNwZWVkIC0tO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2hpZWxkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCItLS0tLS0tLS0tLS0tXCIpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnBvd2VydXBzKTtcclxuICAgICAgICAgICAgdGhpcy5wb3dlcnVwcy5zcGxpY2UocCwgMSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMucG93ZXJ1cHMpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufTtcclxuXHJcbiIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IE1pY2hpZWwgb24gMTYvMTIvMjAxNS5cclxuICovXHJcbi8qKlxyXG4gKiBDcmVhdGVkIGJ5IGp1c3Rpam5kZXBvdmVyIG9uIDE2LzEyLzE1LlxyXG4gKi9cclxuXHJcblxyXG4oZnVuY3Rpb24oKXtcclxuICAgIHZhciBkaXNwbGF5U2VydmljZSA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgLy9Mb2dpbiBDb250cm9sbGVyXHJcbiAgICAgICAgdmFyIExDU2hvdyA9IHRydWU7XHJcbiAgICAgICAgLy9QbGF5IGNvbnRyb2xsZXJcclxuICAgICAgICB2YXIgUENTaG93ID0gZmFsc2U7XHJcblxyXG4gICAgICAgIHJldHVybntcclxuICAgICAgICAgICAgZ2V0TENTaG93OiBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIExDU2hvdztcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2V0TENTaG93OiBmdW5jdGlvbih2YWx1ZSl7XHJcbiAgICAgICAgICAgICAgICBMQ1Nob3cgPSB2YWx1ZTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZ2V0UENTaG93OiBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFBDU2hvdztcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2V0UENTaG93OiBmdW5jdGlvbih2YWx1ZSl7XHJcbiAgICAgICAgICAgICAgICBQQ1Nob3cgPSB2YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9O1xyXG5cclxuICAgIGFuZ3VsYXIubW9kdWxlKCdhcHAnKS5mYWN0b3J5KCdkaXNwbGF5U2VydmljZScsIFtkaXNwbGF5U2VydmljZV0pO1xyXG59KSgpOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IGp1c3Rpam5kZXBvdmVyIG9uIDE3LzEyLzE1LlxyXG4gKi9cclxuXHJcbihmdW5jdGlvbigpe1xyXG4gICAgdmFyIHBsYXllclNlcnZpY2UgPSBmdW5jdGlvbigpe1xyXG4gICAgICAgIC8vTG9naW4gQ29udHJvbGxlclxyXG4gICAgICAgIHZhciBwbGF5ZXJzID0gW107XHJcblxyXG4gICAgICAgIHJldHVybntcclxuICAgICAgICAgICAgZ2V0UGxheWVyczogZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgIHJldHVybiBwbGF5ZXJzO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzZXRQbGF5ZXJzOiBmdW5jdGlvbihwbGF5ZXJzQXJyYXkpe1xyXG4gICAgICAgICAgICAgICAgcGxheWVycyA9IHBsYXllcnNBcnJheTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9O1xyXG5cclxuICAgIGFuZ3VsYXIubW9kdWxlKCdhcHAnKS5mYWN0b3J5KCdwbGF5ZXJTZXJ2aWNlJywgW3BsYXllclNlcnZpY2VdKTtcclxufSkoKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBqdXN0aWpuZGVwb3ZlciBvbiAwOS8xMi8xNS5cclxuICovXHJcblxyXG4oZnVuY3Rpb24oKXtcclxuXHJcbiAgICB2YXIgc29ja2V0U2VydmljZSA9IGZ1bmN0aW9uKCRyb290U2NvcGUpe1xyXG4gICAgICAgIFwidXNlIHN0cmljdFwiO1xyXG4gICAgICAgIC8vcHJpdmF0ZVxyXG4gICAgICAgIHZhciBzb2NrZXQgPSBpby5jb25uZWN0KHdpbmRvdy5sb2NhdGlvbi5ob3N0KTtcclxuICAgICAgICAvL2Z1bmN0aW9uc1xyXG4gICAgICAgIHZhciBvbiA9IGZ1bmN0aW9uIChldmVudE5hbWUsIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgICAgIHNvY2tldC5vbihldmVudE5hbWUsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzO1xyXG4gICAgICAgICAgICAgICAgJHJvb3RTY29wZS4kYXBwbHkoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrLmFwcGx5KHNvY2tldCwgYXJncyk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdmFyIGVtaXQgPSBmdW5jdGlvbiAoZXZlbnROYW1lLCBkYXRhLCBjYWxsYmFjaykge1xyXG4gICAgICAgICAgICBzb2NrZXQuZW1pdChldmVudE5hbWUsIGRhdGEsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzO1xyXG4gICAgICAgICAgICAgICAgJHJvb3RTY29wZS4kYXBwbHkoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjYWxsYmFjaykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjay5hcHBseShzb2NrZXQsIGFyZ3MpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvL3B1YmxpY1xyXG4gICAgICAgIHJldHVybntcclxuICAgICAgICAgICAgb246IG9uLFxyXG4gICAgICAgICAgICBlbWl0OiBlbWl0LFxyXG4gICAgICAgICAgICBzb2NrZXQ6IHNvY2tldFxyXG4gICAgICAgIH07XHJcbiAgICB9O1xyXG5cclxuICAgIGFuZ3VsYXIubW9kdWxlKFwiYXBwXCIpLmZhY3RvcnkoXCJzb2NrZXRTZXJ2aWNlXCIsIFtcIiRyb290U2NvcGVcIiwgc29ja2V0U2VydmljZV0pO1xyXG5cclxufSkoKTsiXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
