!function(){angular.module("app",[])}(),function(){var e=function(e,t,a,i){e.LCShow=a.getLCShow;var o=function(){t.emit("pcconnect",null)};e.room="",t.on("requestRoom",function(t){e.room=t}),t.on("deviceOrientation",function(e){var t=(e.username,{});t.gamma=e.gamma,t.beta=e.beta,t.alpha=e.alpha}),e.usernames={},e.checkUserCount=!1,t.on("updateusers",function(t){i.setPlayers(t),e.usernames=t,e.checkUserCount=Object.keys(e.usernames).length<0}),e.startGame=function(){t.emit("startGame",null),a.setLCShow(!1),a.setPCShow(!0)},function(){o()}()};angular.module("app").controller("loginController",["$scope","socketService","displayService","playerService",e])}(),function(){"use strict";var e=function(e,t,a,i,o,r){function s(){var e=Math.floor(100*Math.random());for(var t in w)if(Math.abs(w[t].x-e)<10)return s();return e}function h(){var e=Math.floor(100*Math.random());for(var t in w)if(Math.abs(w[t].y-e)<10)return h();return e}function n(e,t){return t.username===e.userName}function d(){w.length>0&&(w[0].speed=0),0===M?(M=Math.floor(500*Math.random()+500),x.push(new Powerup(Math.floor(100*Math.random()),Math.floor(100*Math.random()),Math.ceil(3*Math.random()),Math.floor(2*Math.random())))):M--,f.clearRect(0,0,u.width,u.height);var e=u.width/100;if(0!==x.length)for(var t in x){var a=x[t];a.width=u.width/50,a.height=a.width*a.image.height/a.image.width,f.save(),f.translate(a.x*e,a.y*e),f.drawImage(a.image,-a.width/2,-a.height/2,a.width,a.height),f.restore(),a.decreaseDuration(),0===a.duration&&x.splice(t,1)}if(0!==y.length){var i=u.width/100,o=i*y[0].image.height/y[0].image.width;for(var r in y){var s=y[r];s.width=i,s.height=o,0===s.explodeStage?(f.save(),f.translate(s.x*e,s.y*e),f.rotate(s.rotation/180*Math.PI),f.drawImage(s.image,-i/2,-o/2,i,o),f.restore(),y[r].x=Math.cos((s.rotation-90)/180*Math.PI)+s.x,y[r].y=Math.sin((s.rotation-90)/180*Math.PI)+s.y):s.explodeStage<4&&(f.save(),f.translate(s.x*e,s.y*e),f.drawImage(s.explosionImage,-i,-i,2*i,2*i),f.restore())}}if(0!==w.length){var h=u.width/20,n=h*w[0].image.height/w[0].image.width;for(var d in w){var g=w[d];if(g.width=h,g.height=n,f.save(),f.translate(g.x*e,g.y*e),-1===g.explodeStage?(f.rotate(g.rotation/180*Math.PI),f.drawImage(g.image,-h/2,-n/2,h,n)):w[d].explode(),g.damage>0&&g.explodeStage<=140&&f.drawImage(g.damageImage,-h/2,-n/2,h,n),g.damage<4&&(w[d].x=Math.cos((g.rotation-90)/180*Math.PI)/10*g.speed+g.x,w[d].y=Math.sin((g.rotation-90)/180*Math.PI)/10*g.speed+g.y),g.shield&&-1===g.explodeStage){var c=1.5*h,m=c/g.shieldImage.width*g.shieldImage.height;f.drawImage(g.shieldImage,-c/2,-m/2,c,m)}w[d].checkPowerup(),f.restore()}}if(v.length>0)for(var S in v){var I=v[S];if(I.width=u.width/700*I.image.width,I.height=I.width*I.image.height/I.image.width,f.save(),f.translate(I.x*e,I.y*e),f.rotate(I.rotation/180*Math.PI),f.drawImage(I.image,-I.width/2,-I.height/2,I.width,I.height),f.restore(),I.x<-5||I.x>105||I.y<-5||I.y>105){var P=Math.random();.25>P?(v[S].x=-4,v[S].y=Math.floor(100*Math.random()),v[S].rotation=Math.floor(180*Math.random())):.5>P?(v[S].x=Math.floor(100*Math.random()),v[S].y=-4,v[S].rotation=Math.floor(180*Math.random())+90):.75>P?(v[S].x=104,v[S].y=Math.floor(100*Math.random()),v[S].rotation=Math.floor(180*Math.random())+180):(v[S].x=Math.floor(100*Math.random()),v[S].y=104,v[S].rotation=Math.floor(180*Math.random())+270),v[S].speed=1,v[S].setImage(Math.ceil(18*Math.random()))}else v[S].x=Math.cos((I.rotation-90)/180*Math.PI)/30*v[S].speed+I.x,v[S].y=Math.sin((I.rotation-90)/180*Math.PI)/30*v[S].speed+I.y}p(),l()}function p(){for(var e in y)y[e].x<0||y[e].x>u.width||y[e].y<0||y[e].y>u.height?y.splice(e,1):y[e].explodeStage>0&&(y[e].explodeStage<4?y[e].explode():y.splice(e,1))}function l(){var e=[];for(var t in w)if(!(w[t].damage>=4)){var a=w[t].x*u.width/100,o=w[t].y*u.width/100,r=1;w[t].shield&&(r=1.5);var s={},h=new Audio("../../assets/Bonus/sfx_lose.ogg");for(var n in y)if(0===y[n].explodeStage&&y[n].player!=w[t].userName){var d=Math.sqrt(2)/2*(y[n].height/2-y[n].width/2),p=(360-y[n].rotation)/180*Math.PI,l=y[n].x*u.width/100-d*Math.sin(p),c=y[n].y*u.width/100-d*Math.cos(p),m=Math.sqrt((l-a)*(l-a)+(c-o)*(c-o));m<y[n].width/2+w[t].width/2*r&&(h.play(),w[t].shield||(w[t].increaseDamage(),s={},s.username=w[t].userName,s.life=3-w[t].damage,i.emit("playerLife",s)),y[n].explode())}for(var f in v){var M=v[f].x*u.width/100,S=v[f].y*u.width/100,I=Math.sqrt((M-a)*(M-a)+(S-o)*(S-o));if(I<v[f].width/2+w[t].width/2*r){if(v[f].box===!1)if(v[f].box=!0,h.play(),w[t].shield){var P=-(180*Math.atan2(v[f].y-w[t].y,v[f].x-w[t].x)/Math.PI);P>-90&&0>P||P>90&&180>P?v[f].rotation=180+P:v[f].rotation=P,v[f].speed=6}else w[t].dead(),s={},s.username=w[t].userName,s.life=3-w[t].damage,i.emit("playerLife",s)}else I>v[f].width/2+w[t].width/2*r+100&&(v[f].box=!1)}for(var N in w)if(4!==w[N].damage&&N!=t){var G=w[N].x*u.width/100,b=w[N].y*u.width/100,C=1;w[N].shield&&(C=1.5);var k=Math.sqrt((G-a)*(G-a)+(b-o)*(b-o));k<w[N].width/2*C+w[t].width/2*r&&(h.play(),w[t].dead(),w[N].dead(),s={},s.username=w[t].userName,s.life=3-w[t].damage,i.emit("playerLife",s),s.username=w[N].userName,s.life=3-w[N].damage,i.emit("playerLife",s))}(w[t].x*u.width/100<w[t].height/2||w[t].x*u.width/100>u.width-w[t].height/2||w[t].y*u.width/100<w[t].height/2||w[t].y*u.width/100>u.width-w[t].height/2)&&(h.play(),w[t].dead(),s={},s.username=w[t].userName,s.life=3-w[t].damage,i.emit("playerLife",s));for(var L in x){var _=x[L].x*u.width/100,D=x[L].y*u.width/100,A=Math.sqrt((_-a)*(_-a)+(D-o)*(D-o));if(A<x[L].width/2+w[t].width/2){var $=new Audio("../../assets/Bonus/sfx_zap.ogg");if($.play(),1===x[L].boolSelf)for(var q in w)q!=t&&w[q].addPowerup(x[L]);else w[t].addPowerup(x[L]);3===x[L].type&&(s={},s.username=w[t].userName,s.life=3,i.emit("playerLife",s)),x.splice(L,1)}}w[t].damage<4&&e.push(w[t])}for(var B in v)for(var R in y)if(0===y[R].explodeStage&&y[R].player!=v[B].userName){var E=Math.sqrt(2)/2*(y[R].height/2-y[R].width/2),H=(360-y[R].rotation)/180*Math.PI,U=y[R].x*u.width/100-E*Math.sin(H),W=y[R].y*u.width/100-E*Math.cos(H),z=v[B].x*u.width/100,O=v[B].y*u.width/100,T=Math.sqrt((U-z)*(U-z)+(W-O)*(W-O));T<y[R].width/2+v[B].width/2&&(i.emit("playerLife",{username:v[B].userName,damage:3-v[B].damage}),y[R].explode())}e.length<=1&&g(e)}function g(a){angular.isDefined(m)&&(t.cancel(m),m=void 0),e.endGame=!0,1===a.length?(e.endGameText=a[0].userName+" is the winner!",i.emit("endGame",a[0].userName)):e.endGameText="No winners"}var c=[{x:10,y:10,rotation:135},{x:90,y:10,rotation:225},{x:90,y:90,rotation:315},{x:10,y:90,rotation:45}];e.PCShow=o.getPCShow,e.endGame=!1;var m,u=document.getElementById("game"),f=u.getContext("2d"),w=[],y=[],v=[],x=[];i.on("initGame",function(){var e=r.getPlayers(),a=0;for(var i in e){var o=e[i];w.push(new Spaceship(o.username,c[a].x,c[a].y,o.color,c[a].rotation)),a++}for(var n=0;15>n;n++)v.push(new Asteroid(s(),h(),Math.floor(361*Math.random()),Math.ceil(18*Math.random())));m=t(d,10)}),i.on("userleft",function(e){var t=null;for(var a in w)n(w[a],e)===!0&&(t=a);w.splice(t,1)}),i.on("updateGameData",function(e){var t=null;for(var a in w)n(w[a],e)===!0&&(t=a);null!==t&&w[t].rotateSpaceshipRelative(e.orientation)}),i.on("playerShot",function(t){if(e.endGame===!1){var a=null;for(var i in w)n(w[i],t)===!0&&(a=i);if(null!==a){var o=w[a],r=(360-(o.rotation+180))/180*Math.PI,s=o.x+u.width/400*Math.sin(r),h=o.y+u.width/400*Math.cos(r);y.push(new Bullet(s,h,o.rotation,o.color,o.userName));var d="../../assets/Bonus/sfx_laser2.ogg";a%2===0&&(d="../../assets/Bonus/sfx_laser1.ogg");var p=new Audio(d);p.play()}}});var M=Math.floor(500*Math.random()+500);e.restartGame=function(){e.endGame=!1;var a=0;for(var o in w)w[o].reset(c[a].x,c[a].y,c[a].rotation),a++;v=[];for(var r=0;15>r;r++)v.push(new Asteroid(s(),h(),Math.floor(361*Math.random()),Math.ceil(18*Math.random())));y=[],x=[],M=Math.floor(500*Math.random()+500),f.clearRect(0,0,u.width,u.height),i.emit("restartGame",null),m=t(d,10)}};angular.module("app").controller("playController",["$scope","$interval","$window","socketService","displayService","playerService",e])}(),function(){var e=function(e){function t(t,a,i){e.innerWidth<e.innerHeight?t.width=e.innerWidth-20:t.width=e.innerHeight-20,angular.element(e).bind("resize",function(){e.innerWidth<e.innerHeight?t.width=e.innerWidth-20:t.width=e.innerHeight-20,t.$digest()})}return{restrict:"E",link:t,replace:!0,template:'<canvas id="game" class="playArea" width="{{width}}" height="{{width}}" />'}};angular.module("app").directive("canvasDirective",["$window",e])}(),function(){var e=function(){var e=!0,t=!1;return{getLCShow:function(){return e},setLCShow:function(t){e=t},getPCShow:function(){return t},setPCShow:function(e){t=e}}};angular.module("app").factory("displayService",[e])}(),function(){var e=function(){var e=[];return{getPlayers:function(){return e},setPlayers:function(t){e=t}}};angular.module("app").factory("playerService",[e])}();var Asteroid=function(e,t,a,i){this.x=e,this.y=t,this.width=0,this.height=0,this.rotation=a,this.stage=i,this.image=new Image,this.image.src="../assets/PNG/Meteors/meteor_"+i+".png",this.speed=1,this.box=!1};Asteroid.prototype.setImage=function(e){this.stage=e,this.image.src="../assets/PNG/Meteors/meteor_"+e+".png"};var Bullet=function(e,t,a,i,o){this.x=e,this.y=t,this.rotation=a,this.image=new Image,this.color=i,this.width=0,this.height=0,this.player=o,this.explosionImage=new Image,this.explodeStage=0,"orange"==this.color&&(this.color="red"),this.image.src="../assets/PNG/Lasers/laser"+this.color.charAt(0).toUpperCase()+this.color.slice(1)+"01.png"};Bullet.prototype.explode=function(){if(this.explodeStage<4){this.explodeStage++;var e;e=this.explodeStage<3?1:2,this.explosionImage.src="../assets/PNG/Lasers/laser"+this.color.charAt(0).toUpperCase()+this.color.slice(1)+"Explode"+e+".png"}else this.explosionImage.src=""};var Powerup=function(e,t,a,i){this.x=e,this.y=t,this.width=0,this.height=0,this.type=a,this.duration=1e3,this.playerduration=1e3;var o;switch(this.image=new Image,this.boolSelf=i,a){case 1:o="bolt_";break;case 2:o="shield_";break;case 3:o="star_"}switch(i){case 0:o+="gold.png";break;case 1:o+="silver.png"}this.image.src="../assets/PNG/Power-ups/"+o};Powerup.prototype.decreaseDuration=function(){this.duration>0&&this.duration--};var Spaceship=function(e,t,a,i,o){this.userName=e,this.x=t,this.y=a,this.speed=1,this.color=i,this.rotation=o,this.image=new Image,this.damage=0,this.width=0,this.height=0,this.powerups=[],this.shield=!0,this.shieldImage=new Image,this.shieldImage.src="../assets/PNG/Effects/shield1.png",this.damageImage=new Image,this.image.src="../assets/PNG/playerShip1_"+this.color+".png",this.explodeStage=-1};Spaceship.prototype.reset=function(e,t,a){this.speed=1,this.damage=0,this.damageImage=new Image,this.image.src="../assets/PNG/playerShip1_"+this.color+".png",this.x=e,this.y=t,this.rotation=a,this.explodeStage=-1},Spaceship.prototype.moveSpaceship=function(e,t){this.x=e,this.y=t},Spaceship.prototype.moveSpaceshipRelative=function(e,t){this.x=this.x+e,this.y=this.y+t},Spaceship.prototype.rotateSpaceship=function(e){this.rotation=e},Spaceship.prototype.rotateSpaceshipRelative=function(e){e>80?e=80:-80>e&&(e=-80),this.rotation=this.rotation+e/5,this.rotation<-360&&(this.rotation=this.rotation+720),this.rotation>360&&(this.rotation=this.rotation-720)},Spaceship.prototype.increaseDamage=function(){this.damage<4&&(this.damage+=1),this.damage<=3&&this.damage>0?this.damageImage.src="../assets/PNG/Damage/playerShip1_damage"+this.damage+".png":4==this.damage&&this.explode()},Spaceship.prototype.dead=function(){this.damage=4,this.explode()},Spaceship.prototype.explode=function(){this.explodeStage<=140&&(this.explodeStage++,this.damageImage.src="../assets/PNG/Damage/frame"+Math.floor(this.explodeStage/10)+".gif")},Spaceship.prototype.decreaseDamage=function(){this.damage>0&&(this.damage-=1),this.damage<=3&&this.damage>0&&(this.damageImage.src="../assets/PNG/Damage/playerShip1_damage"+this.damage+".png")},Spaceship.prototype.addPowerup=function(e){switch(e.type){case 1:this.speed++,this.powerups.push(e);break;case 2:this.shield=!0,this.powerups.push(e);break;case 3:this.damage=0,this.damageImage.src=""}},Spaceship.prototype.checkPowerup=function(){for(var e in this.powerups)if(this.powerups[e].playerduration>0)this.powerups[e].playerduration--;else{switch(this.powerups[e].type){case 1:this.speed--;break;case 2:this.shield=!1}console.log("-------------"),console.log(this.powerups),this.powerups.splice(e,1),console.log(this.powerups)}},function(){var e=function(e){"use strict";var t=io.connect(window.location.host),a=function(a,i){t.on(a,function(){var a=arguments;e.$apply(function(){i.apply(t,a)})})},i=function(a,i,o){t.emit(a,i,function(){var a=arguments;e.$apply(function(){o&&o.apply(t,a)})})};return{on:a,emit:i,socket:t}};angular.module("app").factory("socketService",["$rootScope",e])}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsImNvbnRyb2xsZXIvbG9naW5Db250cm9sbGVyLmpzIiwiY29udHJvbGxlci9wbGF5Q29udHJvbGxlci5qcyIsImRpcmVjdGl2ZXMvY2FudmFzRGlyZWN0aXZlLmpzIiwic2VydmljZXMvZGlzcGxheVNlcnZpY2UuanMiLCJzZXJ2aWNlcy9wbGF5ZXJTZXJ2aWNlLmpzIiwibW9kZWxzL0FzdGVyaW9kLmpzIiwibW9kZWxzL0J1bGxldC5qcyIsIm1vZGVscy9Qb3dlcnVwLmpzIiwibW9kZWxzL1NwYWNlc2hpcC5qcyIsInNlcnZpY2VzL3NvY2tldFNlcnZpY2UuanMiXSwibmFtZXMiOlsiYW5ndWxhciIsIm1vZHVsZSIsImxvZ2luQ29udHJvbGxlciIsIiRzY29wZSIsInNvY2tldFNlcnZpY2UiLCJkaXNwbGF5U2VydmljZSIsInBsYXllclNlcnZpY2UiLCJMQ1Nob3ciLCJnZXRMQ1Nob3ciLCJtYWtlUm9vbSIsImVtaXQiLCJyb29tIiwib24iLCJkYXRhIiwiZGV2aWNlT3JpZW50YXRpb24iLCJ1c2VybmFtZSIsImdhbW1hIiwiYmV0YSIsImFscGhhIiwidXNlcm5hbWVzIiwiY2hlY2tVc2VyQ291bnQiLCJzZXRQbGF5ZXJzIiwiT2JqZWN0Iiwia2V5cyIsImxlbmd0aCIsInN0YXJ0R2FtZSIsInNldExDU2hvdyIsInNldFBDU2hvdyIsImNvbnRyb2xsZXIiLCJwbGF5Q29udHJvbGxlciIsIiRpbnRlcnZhbCIsIiR3aW5kb3ciLCJjcmVhdGVDb29yZGluYXRlWCIsIngiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJwIiwiQWxsUGxheWVycyIsImFicyIsImNyZWF0ZUNvb3JkaW5hdGVZIiwieSIsImZpbHRlclBsYXllcnMiLCJvYmoiLCJ1c2VyTmFtZSIsImRyYXciLCJzcGVlZCIsIlBvd2VydXBTcGF3blRpbWUiLCJBbGxQb3dlclVwcyIsInB1c2giLCJQb3dlcnVwIiwiY2VpbCIsImN0eCIsImNsZWFyUmVjdCIsImNhbnYiLCJ3aWR0aCIsImhlaWdodCIsInJhdGlvIiwicG93ZXJ1cCIsImltYWdlIiwic2F2ZSIsInRyYW5zbGF0ZSIsImRyYXdJbWFnZSIsInJlc3RvcmUiLCJkZWNyZWFzZUR1cmF0aW9uIiwiZHVyYXRpb24iLCJzcGxpY2UiLCJBbGxCdWxsZXRzIiwiQnVsbGV0V2lkdGgiLCJCdWxsZXRIZWlnaHQiLCJidWxsZXQiLCJiIiwiZXhwbG9kZVN0YWdlIiwicm90YXRlIiwicm90YXRpb24iLCJQSSIsImNvcyIsInNpbiIsImV4cGxvc2lvbkltYWdlIiwiU3BhY2VzaGlwV2lkdGgiLCJTcGFjZXNoaXBIZWlnaHQiLCJwbGF5ZXIiLCJwbCIsImV4cGxvZGUiLCJkYW1hZ2UiLCJkYW1hZ2VJbWFnZSIsInNoaWVsZCIsIlNoaWVsZFdpZHRoIiwiU2hpZWxkSGVpZ2h0Iiwic2hpZWxkSW1hZ2UiLCJjaGVja1Bvd2VydXAiLCJBbGxBc3Rlcm9pZHMiLCJBc3Rlcm9pZCIsImEiLCJrZXV6ZSIsInNldEltYWdlIiwiY2hlY2tCdWxsZXRzIiwiY29sbGlzaW9uRGV0ZWN0aW9uIiwibGl2aW5nUGxheWVycyIsInNwYWNlU2hpcFgiLCJzcGFjZVNoaXBZIiwic2hpZWxkUmF0aW8iLCJkYW1hZ2Vzb3VuZCIsIkF1ZGlvIiwicmFkaXVzIiwic3FydCIsImFuZ2xlIiwiYnVsbGV0SGVhZFgiLCJidWxsZXRIZWFkWSIsImRpc3RhbmNlIiwicGxheSIsImluY3JlYXNlRGFtYWdlIiwibGlmZSIsImFzdGVyb2lkWCIsImFzdGVyb2lkWSIsImRpc3RhbmNlUEEiLCJib3giLCJhbmdsZVAiLCJhdGFuMiIsImRlYWQiLCJhcCIsInNwYWNlU2hpcDFYIiwic3BhY2VTaGlwMVkiLCJzaGllbGRSYXRpbzEiLCJkaXN0YW5jZVBQIiwicHUiLCJwb3dlcnVwWCIsInBvd2VydXBZIiwiZGlzdGFuY2VQUFUiLCJwb3dlcnVwU291bmQiLCJib29sU2VsZiIsImFkZFBvd2VydXAiLCJ0eXBlIiwiYWEiLCJhYiIsInJhZGl1c0IiLCJhbmdsZUIiLCJhQnVsbGV0SGVhZFgiLCJhQnVsbGV0SGVhZFkiLCJhc3Rlcm9pZGFYIiwiYXN0ZXJvaWRhWSIsImRpc3RhbmNlQkEiLCJlbmRHYW1lIiwiaXNEZWZpbmVkIiwiY3ljbGUiLCJjYW5jZWwiLCJ1bmRlZmluZWQiLCJlbmRHYW1lVGV4dCIsImRlZmF1bHRWYXJzIiwiUENTaG93IiwiZ2V0UENTaG93IiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImdldENvbnRleHQiLCJCdWZmZXJQbGF5ZXIiLCJnZXRQbGF5ZXJzIiwidGVsbGVyIiwiU3BhY2VzaGlwIiwiY29sb3IiLCJpIiwicm90YXRlU3BhY2VzaGlwUmVsYXRpdmUiLCJvcmllbnRhdGlvbiIsInRlbXAiLCJCdWxsZXQiLCJhdWRpb1VybCIsInNob3QiLCJyZXN0YXJ0R2FtZSIsInJlc2V0IiwiY2FudmFzRGlyZWN0aXZlIiwibGluayIsInNjb3BlIiwiZWxlbWVudCIsImF0dHJzIiwiaW5uZXJXaWR0aCIsImlubmVySGVpZ2h0IiwiYmluZCIsIiRkaWdlc3QiLCJyZXN0cmljdCIsInJlcGxhY2UiLCJ0ZW1wbGF0ZSIsImRpcmVjdGl2ZSIsInZhbHVlIiwiZmFjdG9yeSIsInBsYXllcnMiLCJwbGF5ZXJzQXJyYXkiLCJzdGFnZSIsInRoaXMiLCJJbWFnZSIsInNyYyIsInByb3RvdHlwZSIsImNoYXJBdCIsInRvVXBwZXJDYXNlIiwic2xpY2UiLCJudW1iZXIiLCJwbGF5ZXJkdXJhdGlvbiIsImltYWdlVHlwZSIsInBvd2VydXBzIiwibW92ZVNwYWNlc2hpcCIsIm1vdmVTcGFjZXNoaXBSZWxhdGl2ZSIsInJvdGF0ZVNwYWNlc2hpcCIsImRlZ3JlZSIsImRlY3JlYXNlRGFtYWdlIiwiY29uc29sZSIsImxvZyIsIiRyb290U2NvcGUiLCJzb2NrZXQiLCJpbyIsImNvbm5lY3QiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsImhvc3QiLCJldmVudE5hbWUiLCJjYWxsYmFjayIsImFyZ3MiLCJhcmd1bWVudHMiLCIkYXBwbHkiLCJhcHBseSJdLCJtYXBwaW5ncyI6IkNBR0Es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bEwiLCJmaWxlIjoiYXBwLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ3JlYXRlZCBieSBNaWNoaWVsIG9uIDI1LzExLzIwMTUuXG4gKi9cbihmdW5jdGlvbigpe1xuXG4gICAgdmFyIGFwcCA9IGFuZ3VsYXIubW9kdWxlKFwiYXBwXCIsW10pO1xufSkoKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBNaWNoaWVsIG9uIDExLzEyLzIwMTUuXHJcbiAqL1xyXG5cclxuKGZ1bmN0aW9uKCl7XHJcbiAgICB2YXIgbG9naW5Db250cm9sbGVyID0gZnVuY3Rpb24oJHNjb3BlLCBzb2NrZXRTZXJ2aWNlLCBkaXNwbGF5U2VydmljZSwgcGxheWVyU2VydmljZSl7XHJcblxyXG4gICAgICAgICRzY29wZS5MQ1Nob3cgPSBkaXNwbGF5U2VydmljZS5nZXRMQ1Nob3c7XHJcblxyXG4gICAgICAgIC8vZnVuY3Rpb25zXHJcbiAgICAgICAgdmFyIG1ha2VSb29tID0gZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgc29ja2V0U2VydmljZS5lbWl0KFwicGNjb25uZWN0XCIsIG51bGwpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgJHNjb3BlLnJvb20gPSBcIlwiO1xyXG4gICAgICAgIHNvY2tldFNlcnZpY2Uub24oJ3JlcXVlc3RSb29tJyxmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICAgICAgJHNjb3BlLnJvb20gPSBkYXRhO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHNvY2tldFNlcnZpY2Uub24oJ2RldmljZU9yaWVudGF0aW9uJywgZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgICAgIHZhciB1c2VybmFtZSA9IGRhdGEudXNlcm5hbWU7XHJcbiAgICAgICAgICAgIHZhciBkZXZpY2VPcmllbnRhdGlvbiA9IHt9O1xyXG4gICAgICAgICAgICBkZXZpY2VPcmllbnRhdGlvbi5nYW1tYSA9IGRhdGEuZ2FtbWE7XHJcbiAgICAgICAgICAgIGRldmljZU9yaWVudGF0aW9uLmJldGEgPSBkYXRhLmJldGE7XHJcbiAgICAgICAgICAgIGRldmljZU9yaWVudGF0aW9uLmFscGhhID0gZGF0YS5hbHBoYTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAkc2NvcGUudXNlcm5hbWVzID0ge307XHJcbiAgICAgICAgJHNjb3BlLmNoZWNrVXNlckNvdW50ID0gZmFsc2U7XHJcbiAgICAgICAgc29ja2V0U2VydmljZS5vbigndXBkYXRldXNlcnMnLCBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICBwbGF5ZXJTZXJ2aWNlLnNldFBsYXllcnMoZGF0YSk7XHJcbiAgICAgICAgICAgICRzY29wZS51c2VybmFtZXMgPSBkYXRhO1xyXG4gICAgICAgICAgICAkc2NvcGUuY2hlY2tVc2VyQ291bnQgPSBPYmplY3Qua2V5cygkc2NvcGUudXNlcm5hbWVzKS5sZW5ndGggPCAwO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAkc2NvcGUuc3RhcnRHYW1lPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHNvY2tldFNlcnZpY2UuZW1pdChcInN0YXJ0R2FtZVwiLCBudWxsKTtcclxuICAgICAgICAgICAgZGlzcGxheVNlcnZpY2Uuc2V0TENTaG93KGZhbHNlKTtcclxuICAgICAgICAgICAgZGlzcGxheVNlcnZpY2Uuc2V0UENTaG93KHRydWUpO1xyXG4gICAgICAgIH07XHJcblxyXG5cclxuICAgICAgICAoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIG1ha2VSb29tKCk7XHJcbiAgICAgICAgfSkoKTtcclxuXHJcbiAgICB9O1xyXG5cclxuICAgIGFuZ3VsYXIubW9kdWxlKFwiYXBwXCIpLmNvbnRyb2xsZXIoXCJsb2dpbkNvbnRyb2xsZXJcIiwgW1wiJHNjb3BlXCIsIFwic29ja2V0U2VydmljZVwiICwgXCJkaXNwbGF5U2VydmljZVwiLCBcInBsYXllclNlcnZpY2VcIiwgbG9naW5Db250cm9sbGVyXSk7XHJcbn0pKCk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgTWljaGllbCBvbiAxNi8xMi8yMDE1LlxyXG4gKi9cclxuXHJcbihmdW5jdGlvbigpe1xyXG4gICAgXCJ1c2Ugc3RyaWN0XCI7XHJcbiAgICB2YXIgcGxheUNvbnRyb2xsZXIgPSBmdW5jdGlvbigkc2NvcGUsICRpbnRlcnZhbCwgJHdpbmRvdywgc29ja2V0U2VydmljZSwgZGlzcGxheVNlcnZpY2UsIHBsYXllclNlcnZpY2Upe1xyXG4gICAgICAgIHZhciBkZWZhdWx0VmFycyA9IFt7eDoxMCwgeToxMCxyb3RhdGlvbjoxMzV9LHt4OjkwLCB5OjEwLHJvdGF0aW9uOjIyNX0se3g6OTAsIHk6OTAscm90YXRpb246MzE1fSx7eDoxMCwgeTo5MCxyb3RhdGlvbjo0NX1dO1xyXG4gICAgICAgICRzY29wZS5QQ1Nob3cgPSBkaXNwbGF5U2VydmljZS5nZXRQQ1Nob3c7XHJcbiAgICAgICAgJHNjb3BlLmVuZEdhbWUgPSBmYWxzZTtcclxuICAgICAgICB2YXIgY2FudiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdnYW1lJyk7XHJcbiAgICAgICAgdmFyIGN0eCA9IGNhbnYuZ2V0Q29udGV4dCgnMmQnKTtcclxuXHJcbiAgICAgICAgdmFyIEFsbFBsYXllcnMgPSBbXTtcclxuICAgICAgICB2YXIgQWxsQnVsbGV0cyA9IFtdO1xyXG4gICAgICAgIHZhciBBbGxBc3Rlcm9pZHMgPSBbXTtcclxuICAgICAgICB2YXIgQWxsUG93ZXJVcHMgPSBbXTtcclxuXHJcbiAgICAgICAgdmFyIGN5Y2xlO1xyXG5cclxuICAgICAgICBzb2NrZXRTZXJ2aWNlLm9uKFwiaW5pdEdhbWVcIiwgZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgdmFyIEJ1ZmZlclBsYXllciA9IHBsYXllclNlcnZpY2UuZ2V0UGxheWVycygpO1xyXG4gICAgICAgICAgICB2YXIgdGVsbGVyPSAwO1xyXG4gICAgICAgICAgICBmb3IodmFyIHBsYXllciBpbiBCdWZmZXJQbGF5ZXIpe1xyXG4gICAgICAgICAgICAgICAgdmFyIHAgPSBCdWZmZXJQbGF5ZXJbcGxheWVyXTtcclxuICAgICAgICAgICAgICAgIEFsbFBsYXllcnMucHVzaChuZXcgU3BhY2VzaGlwKHAudXNlcm5hbWUsIGRlZmF1bHRWYXJzW3RlbGxlcl0ueCwgZGVmYXVsdFZhcnNbdGVsbGVyXS55LCBwLmNvbG9yLCBkZWZhdWx0VmFyc1t0ZWxsZXJdLnJvdGF0aW9uKSk7XHJcbiAgICAgICAgICAgICAgICB0ZWxsZXIrKztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZm9yKHZhciBpID0gMDsgaTwxNTsgaSsrKXtcclxuICAgICAgICAgICAgICAgIEFsbEFzdGVyb2lkcy5wdXNoKG5ldyBBc3Rlcm9pZChjcmVhdGVDb29yZGluYXRlWCgpLCBjcmVhdGVDb29yZGluYXRlWSgpLCBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqMzYxKSwgTWF0aC5jZWlsKE1hdGgucmFuZG9tKCkqMTgpKSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgICAgICBjeWNsZSA9ICRpbnRlcnZhbChkcmF3LCAxMCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGNyZWF0ZUNvb3JkaW5hdGVYKCl7XHJcbiAgICAgICAgICAgIHZhciB4ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKjEwMCk7XHJcbiAgICAgICAgICAgIGZvcih2YXIgcCBpbiBBbGxQbGF5ZXJzKXtcclxuICAgICAgICAgICAgICAgIGlmKE1hdGguYWJzKEFsbFBsYXllcnNbcF0ueCAtIHgpIDwgMTApe1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVDb29yZGluYXRlWCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB4O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gY3JlYXRlQ29vcmRpbmF0ZVkoKXtcclxuICAgICAgICAgICAgdmFyIHkgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqMTAwKTtcclxuICAgICAgICAgICAgZm9yKHZhciBwIGluIEFsbFBsYXllcnMpe1xyXG4gICAgICAgICAgICAgICAgaWYoTWF0aC5hYnMoQWxsUGxheWVyc1twXS55IC0geSkgPCAxMCl7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUNvb3JkaW5hdGVZKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzb2NrZXRTZXJ2aWNlLm9uKFwidXNlcmxlZnRcIiwgZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgdmFyIHAgPSBudWxsO1xyXG4gICAgICAgICAgICBmb3IodmFyIGkgaW4gQWxsUGxheWVycyl7XHJcbiAgICAgICAgICAgICAgICBpZihmaWx0ZXJQbGF5ZXJzKEFsbFBsYXllcnNbaV0sZGF0YSkgPT09IHRydWUpe1xyXG4gICAgICAgICAgICAgICAgICAgIHAgPSBpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIEFsbFBsYXllcnMuc3BsaWNlKHAsMSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHNvY2tldFNlcnZpY2Uub24oXCJ1cGRhdGVHYW1lRGF0YVwiLCBmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICAgICAgdmFyIHAgPSBudWxsO1xyXG4gICAgICAgICAgICBmb3IodmFyIGkgaW4gQWxsUGxheWVycyl7XHJcbiAgICAgICAgICAgICAgICBpZihmaWx0ZXJQbGF5ZXJzKEFsbFBsYXllcnNbaV0sZGF0YSkgPT09IHRydWUpe1xyXG4gICAgICAgICAgICAgICAgICAgIHAgPSBpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmKHAgIT09IG51bGwpe1xyXG4gICAgICAgICAgICAgICAgQWxsUGxheWVyc1twXS5yb3RhdGVTcGFjZXNoaXBSZWxhdGl2ZShkYXRhLm9yaWVudGF0aW9uKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBzb2NrZXRTZXJ2aWNlLm9uKFwicGxheWVyU2hvdFwiLCBmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICAgICAgaWYoJHNjb3BlLmVuZEdhbWU9PT1mYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHAgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSBpbiBBbGxQbGF5ZXJzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZpbHRlclBsYXllcnMoQWxsUGxheWVyc1tpXSwgZGF0YSkgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcCA9IGk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHAgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IEFsbFBsYXllcnNbcF07XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFuZ2xlID0gKDM2MCAtICh0ZW1wLnJvdGF0aW9uICsgMTgwKSkgLyAxODAgKiBNYXRoLlBJO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB4ID0gdGVtcC54ICsgKGNhbnYud2lkdGggLyA0MDAgKiBNYXRoLnNpbihhbmdsZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB5ID0gdGVtcC55ICsgKGNhbnYud2lkdGggLyA0MDAgKiBNYXRoLmNvcyhhbmdsZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIEFsbEJ1bGxldHMucHVzaChuZXcgQnVsbGV0KHgsIHksIHRlbXAucm90YXRpb24sIHRlbXAuY29sb3IsIHRlbXAudXNlck5hbWUpKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgYXVkaW9VcmwgPSAnLi4vLi4vYXNzZXRzL0JvbnVzL3NmeF9sYXNlcjIub2dnJztcclxuICAgICAgICAgICAgICAgICAgICBpZiAocCAlIDIgPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXVkaW9VcmwgPSAnLi4vLi4vYXNzZXRzL0JvbnVzL3NmeF9sYXNlcjEub2dnJztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNob3QgPSBuZXcgQXVkaW8oYXVkaW9VcmwpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNob3QucGxheSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGZpbHRlclBsYXllcnMob2JqLGRhdGEpe1xyXG4gICAgICAgICAgICByZXR1cm4gZGF0YS51c2VybmFtZSA9PT0gb2JqLnVzZXJOYW1lO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIFBvd2VydXBTcGF3blRpbWUgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqNTAwICsgNTAwKTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gZHJhdygpe1xyXG4gICAgICAgICAgICBpZihBbGxQbGF5ZXJzLmxlbmd0aD4wKXtcclxuICAgICAgICAgICAgICAgIEFsbFBsYXllcnNbMF0uc3BlZWQgPSAwO1xyXG4gICAgICAgICAgICAgICAgLy9BbGxQbGF5ZXJzWzFdLnNwZWVkID0gMDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYoUG93ZXJ1cFNwYXduVGltZSA9PT0gMCl7XHJcbiAgICAgICAgICAgICAgICBQb3dlcnVwU3Bhd25UaW1lID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKjUwMCArIDUwMCk7XHJcbiAgICAgICAgICAgICAgICBBbGxQb3dlclVwcy5wdXNoKG5ldyBQb3dlcnVwKE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSoxMDApLE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSoxMDApLCBNYXRoLmNlaWwoTWF0aC5yYW5kb20oKSozKSxNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqMikpKTtcclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICBQb3dlcnVwU3Bhd25UaW1lIC0tO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjdHguY2xlYXJSZWN0KDAsMCxjYW52LndpZHRoLCBjYW52LmhlaWdodCk7XHJcbiAgICAgICAgICAgIHZhciByYXRpbyA9IGNhbnYud2lkdGgvMTAwO1xyXG5cclxuICAgICAgICAgICAgaWYoQWxsUG93ZXJVcHMubGVuZ3RoICE9PSAwKXtcclxuICAgICAgICAgICAgICAgIGZvcih2YXIgcG93ZXJ1cCBpbiBBbGxQb3dlclVwcyl7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHAgPSBBbGxQb3dlclVwc1twb3dlcnVwXTtcclxuICAgICAgICAgICAgICAgICAgICBwLndpZHRoID0gY2Fudi53aWR0aC81MDtcclxuICAgICAgICAgICAgICAgICAgICBwLmhlaWdodCA9IHAud2lkdGggKiBwLmltYWdlLmhlaWdodC8gcC5pbWFnZS53aWR0aDtcclxuICAgICAgICAgICAgICAgICAgICBjdHguc2F2ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGN0eC50cmFuc2xhdGUocC54KnJhdGlvLCBwLnkqcmF0aW8pO1xyXG4gICAgICAgICAgICAgICAgICAgIGN0eC5kcmF3SW1hZ2UocC5pbWFnZSwgLXAud2lkdGgvMiwgLXAuaGVpZ2h0LzIsIHAud2lkdGgsIHAuaGVpZ2h0KTtcclxuICAgICAgICAgICAgICAgICAgICBjdHgucmVzdG9yZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHAuZGVjcmVhc2VEdXJhdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKHAuZHVyYXRpb24gPT09IDApe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBBbGxQb3dlclVwcy5zcGxpY2UocG93ZXJ1cCwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZihBbGxCdWxsZXRzLmxlbmd0aCAhPT0gMCl7XHJcbiAgICAgICAgICAgICAgICB2YXIgQnVsbGV0V2lkdGggPSBjYW52LndpZHRoLzEwMDtcclxuICAgICAgICAgICAgICAgIHZhciBCdWxsZXRIZWlnaHQgPSBCdWxsZXRXaWR0aCAqIEFsbEJ1bGxldHNbMF0uaW1hZ2UuaGVpZ2h0L0FsbEJ1bGxldHNbMF0uaW1hZ2Uud2lkdGg7XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yKHZhciBidWxsZXQgaW4gQWxsQnVsbGV0cyl7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGIgPSBBbGxCdWxsZXRzW2J1bGxldF07XHJcbiAgICAgICAgICAgICAgICAgICAgYi53aWR0aCA9IEJ1bGxldFdpZHRoO1xyXG4gICAgICAgICAgICAgICAgICAgIGIuaGVpZ2h0ID0gQnVsbGV0SGVpZ2h0O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZihiLmV4cGxvZGVTdGFnZSA9PT0gMCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vRHJhdyBidWxsZXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3R4LnNhdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3R4LnRyYW5zbGF0ZShiLngqcmF0aW8sIGIueSpyYXRpbyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN0eC5yb3RhdGUoYi5yb3RhdGlvbi8xODAqTWF0aC5QSSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN0eC5kcmF3SW1hZ2UoYi5pbWFnZSwgLUJ1bGxldFdpZHRoLzIsIC1CdWxsZXRIZWlnaHQvMiwgQnVsbGV0V2lkdGgsIEJ1bGxldEhlaWdodCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN0eC5yZXN0b3JlKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBBbGxCdWxsZXRzW2J1bGxldF0ueCA9IE1hdGguY29zKChiLnJvdGF0aW9uIC0gOTApLzE4MCpNYXRoLlBJKSArIGIueDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgQWxsQnVsbGV0c1tidWxsZXRdLnkgPSBNYXRoLnNpbigoYi5yb3RhdGlvbiAtIDkwKS8xODAqTWF0aC5QSSkrIGIueTtcclxuICAgICAgICAgICAgICAgICAgICB9ZWxzZSBpZihiLmV4cGxvZGVTdGFnZSA8IDQpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL0RyYXcgZXhwbG9zaW9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN0eC5zYXZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN0eC50cmFuc2xhdGUoYi54KnJhdGlvLCBiLnkqcmF0aW8pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdHguZHJhd0ltYWdlKGIuZXhwbG9zaW9uSW1hZ2UsIC1CdWxsZXRXaWR0aCwgLUJ1bGxldFdpZHRoLCBCdWxsZXRXaWR0aCoyLCBCdWxsZXRXaWR0aCoyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3R4LnJlc3RvcmUoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmKEFsbFBsYXllcnMubGVuZ3RoICE9PSAwKXtcclxuICAgICAgICAgICAgICAgIHZhciBTcGFjZXNoaXBXaWR0aCA9IGNhbnYud2lkdGgvMjA7XHJcbiAgICAgICAgICAgICAgICB2YXIgU3BhY2VzaGlwSGVpZ2h0ID0gU3BhY2VzaGlwV2lkdGggKiBBbGxQbGF5ZXJzWzBdLmltYWdlLmhlaWdodC8gQWxsUGxheWVyc1swXS5pbWFnZS53aWR0aDtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IodmFyIHBsYXllciBpbiBBbGxQbGF5ZXJzKXtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcGwgPSBBbGxQbGF5ZXJzW3BsYXllcl07XHJcbiAgICAgICAgICAgICAgICAgICAgcGwud2lkdGggPSBTcGFjZXNoaXBXaWR0aDtcclxuICAgICAgICAgICAgICAgICAgICBwbC5oZWlnaHQgPSBTcGFjZXNoaXBIZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgY3R4LnNhdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICBjdHgudHJhbnNsYXRlKHBsLngqcmF0aW8sIHBsLnkqcmF0aW8pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZihwbC5leHBsb2RlU3RhZ2UgPT09IC0xKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3R4LnJvdGF0ZShwbC5yb3RhdGlvbi8xODAqTWF0aC5QSSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN0eC5kcmF3SW1hZ2UocGwuaW1hZ2UsIC1TcGFjZXNoaXBXaWR0aC8yLCAtU3BhY2VzaGlwSGVpZ2h0LzIsIFNwYWNlc2hpcFdpZHRoLCBTcGFjZXNoaXBIZWlnaHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBBbGxQbGF5ZXJzW3BsYXllcl0uZXhwbG9kZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZihwbC5kYW1hZ2UgPiAwICYmIHBsLmV4cGxvZGVTdGFnZSA8PSAxNDApe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdHguZHJhd0ltYWdlKHBsLmRhbWFnZUltYWdlLCAtU3BhY2VzaGlwV2lkdGgvMiwgLVNwYWNlc2hpcEhlaWdodC8yLCBTcGFjZXNoaXBXaWR0aCwgU3BhY2VzaGlwSGVpZ2h0KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmKHBsLmRhbWFnZTw0KXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgQWxsUGxheWVyc1twbGF5ZXJdLnggPSBNYXRoLmNvcygocGwucm90YXRpb24gLSA5MCkvMTgwKk1hdGguUEkpLzEwKiBwbC5zcGVlZCArIHBsLng7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEFsbFBsYXllcnNbcGxheWVyXS55ID0gTWF0aC5zaW4oKHBsLnJvdGF0aW9uIC0gOTApLzE4MCpNYXRoLlBJKS8xMCogcGwuc3BlZWQgKyBwbC55O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZihwbC5zaGllbGQgJiYgcGwuZXhwbG9kZVN0YWdlID09PSAtMSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBTaGllbGRXaWR0aCA9IFNwYWNlc2hpcFdpZHRoICogMS41O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgU2hpZWxkSGVpZ2h0ID0gU2hpZWxkV2lkdGggLyBwbC5zaGllbGRJbWFnZS53aWR0aCAqIHBsLnNoaWVsZEltYWdlLmhlaWdodDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3R4LmRyYXdJbWFnZShwbC5zaGllbGRJbWFnZSwgLVNoaWVsZFdpZHRoLzIsIC1TaGllbGRIZWlnaHQvMiwgU2hpZWxkV2lkdGgsIFNoaWVsZEhlaWdodCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIEFsbFBsYXllcnNbcGxheWVyXS5jaGVja1Bvd2VydXAoKTtcclxuICAgICAgICAgICAgICAgICAgICBjdHgucmVzdG9yZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZihBbGxBc3Rlcm9pZHMubGVuZ3RoPjApe1xyXG4gICAgICAgICAgICAgICAgZm9yKHZhciBBc3Rlcm9pZCBpbiBBbGxBc3Rlcm9pZHMpe1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBhID0gQWxsQXN0ZXJvaWRzW0FzdGVyb2lkXTtcclxuICAgICAgICAgICAgICAgICAgICBhLndpZHRoID0gY2Fudi53aWR0aC83MDAqIGEuaW1hZ2Uud2lkdGg7XHJcbiAgICAgICAgICAgICAgICAgICAgYS5oZWlnaHQgPSBhLndpZHRoKiBhLmltYWdlLmhlaWdodC8gYS5pbWFnZS53aWR0aDtcclxuICAgICAgICAgICAgICAgICAgICBjdHguc2F2ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGN0eC50cmFuc2xhdGUoYS54KnJhdGlvLCBhLnkqcmF0aW8pO1xyXG4gICAgICAgICAgICAgICAgICAgIGN0eC5yb3RhdGUoYS5yb3RhdGlvbi8xODAqTWF0aC5QSSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY3R4LmRyYXdJbWFnZShhLmltYWdlLCAtYS53aWR0aC8yLCAtYS5oZWlnaHQvMiwgYS53aWR0aCwgYS5oZWlnaHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGN0eC5yZXN0b3JlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoYS54IDwgLTUgfHwgYS54ID4gMTA1IHx8IGEueSA8IC01IHx8IGEueSA+IDEwNSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vbmlldXdlIGFzdGVyb2lkIHRla2VuZW5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGtldXplID0gTWF0aC5yYW5kb20oKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoa2V1emUgPCAwLjI1KXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vbGlua3NcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFsbEFzdGVyb2lkc1tBc3Rlcm9pZF0ueCA9IC00O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQWxsQXN0ZXJvaWRzW0FzdGVyb2lkXS55ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKjEwMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBBbGxBc3Rlcm9pZHNbQXN0ZXJvaWRdLnJvdGF0aW9uID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKjE4MCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNlIGlmKGtldXplIDwgMC41KXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vYm92ZW5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFsbEFzdGVyb2lkc1tBc3Rlcm9pZF0ueCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSoxMDApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQWxsQXN0ZXJvaWRzW0FzdGVyb2lkXS55ID0gLTQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBBbGxBc3Rlcm9pZHNbQXN0ZXJvaWRdLnJvdGF0aW9uID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKjE4MCkgKyA5MDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2UgaWYoa2V1emUgPCAwLjc1KXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vcmVjaHRzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBBbGxBc3Rlcm9pZHNbQXN0ZXJvaWRdLnggPSAxMDQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBBbGxBc3Rlcm9pZHNbQXN0ZXJvaWRdLnkgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqMTAwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFsbEFzdGVyb2lkc1tBc3Rlcm9pZF0ucm90YXRpb24gPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqMTgwKSArIDE4MDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL29uZGVyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBBbGxBc3Rlcm9pZHNbQXN0ZXJvaWRdLnggPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqMTAwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFsbEFzdGVyb2lkc1tBc3Rlcm9pZF0ueSA9IDEwNDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFsbEFzdGVyb2lkc1tBc3Rlcm9pZF0ucm90YXRpb24gPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqMTgwKSArIDI3MDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBBbGxBc3Rlcm9pZHNbQXN0ZXJvaWRdLnNwZWVkID0gMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgQWxsQXN0ZXJvaWRzW0FzdGVyb2lkXS5zZXRJbWFnZShNYXRoLmNlaWwoTWF0aC5yYW5kb20oKSoxOCkpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgQWxsQXN0ZXJvaWRzW0FzdGVyb2lkXS54ID0gTWF0aC5jb3MoKGEucm90YXRpb24gLSA5MCkvMTgwKk1hdGguUEkpLzMwKkFsbEFzdGVyb2lkc1tBc3Rlcm9pZF0uc3BlZWQgKyBhLng7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEFsbEFzdGVyb2lkc1tBc3Rlcm9pZF0ueSA9IE1hdGguc2luKChhLnJvdGF0aW9uIC0gOTApLzE4MCpNYXRoLlBJKS8zMCpBbGxBc3Rlcm9pZHNbQXN0ZXJvaWRdLnNwZWVkICsgYS55O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgY2hlY2tCdWxsZXRzKCk7XHJcblxyXG4gICAgICAgICAgICBjb2xsaXNpb25EZXRlY3Rpb24oKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGNoZWNrQnVsbGV0cygpe1xyXG4gICAgICAgICAgICBmb3IodmFyIGIgaW4gQWxsQnVsbGV0cyl7XHJcbiAgICAgICAgICAgICAgICBpZihBbGxCdWxsZXRzW2JdLnggPCAwIHx8IEFsbEJ1bGxldHNbYl0ueCA+IGNhbnYud2lkdGggfHwgQWxsQnVsbGV0c1tiXS55IDwgMCB8fCBBbGxCdWxsZXRzW2JdLnkgPiBjYW52LmhlaWdodCl7XHJcbiAgICAgICAgICAgICAgICAgICAgQWxsQnVsbGV0cy5zcGxpY2UoYiwgMSk7XHJcbiAgICAgICAgICAgICAgICB9ZWxzZSBpZihBbGxCdWxsZXRzW2JdLmV4cGxvZGVTdGFnZSA+MCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChBbGxCdWxsZXRzW2JdLmV4cGxvZGVTdGFnZSA8IDQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgQWxsQnVsbGV0c1tiXS5leHBsb2RlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgQWxsQnVsbGV0cy5zcGxpY2UoYiwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBjb2xsaXNpb25EZXRlY3Rpb24oKXtcclxuICAgICAgICAgICAgLy9QbGF5ZXIgLSBCdWxsZXRcclxuICAgICAgICAgICAgdmFyIGxpdmluZ1BsYXllcnM9W107XHJcbiAgICAgICAgICAgIGZvcih2YXIgcCBpbiBBbGxQbGF5ZXJzKXtcclxuICAgICAgICAgICAgICAgIGlmKEFsbFBsYXllcnNbcF0uZGFtYWdlPj00KXtcclxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHZhciBzcGFjZVNoaXBYID0gQWxsUGxheWVyc1twXS54ICogY2Fudi53aWR0aCAvIDEwMDtcclxuICAgICAgICAgICAgICAgIHZhciBzcGFjZVNoaXBZID0gQWxsUGxheWVyc1twXS55ICogY2Fudi53aWR0aCAvIDEwMDtcclxuICAgICAgICAgICAgICAgIHZhciBzaGllbGRSYXRpbyA9IDE7XHJcbiAgICAgICAgICAgICAgICBpZihBbGxQbGF5ZXJzW3BdLnNoaWVsZCl7XHJcbiAgICAgICAgICAgICAgICAgICAgc2hpZWxkUmF0aW8gPSAxLjU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgdmFyIGRhbWFnZXNvdW5kID0gbmV3IEF1ZGlvKCcuLi8uLi9hc3NldHMvQm9udXMvc2Z4X2xvc2Uub2dnJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yKHZhciBiIGluIEFsbEJ1bGxldHMpe1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKEFsbEJ1bGxldHNbYl0uZXhwbG9kZVN0YWdlID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChBbGxCdWxsZXRzW2JdLnBsYXllciAhPSBBbGxQbGF5ZXJzW3BdLnVzZXJOYW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmFkaXVzID0gTWF0aC5zcXJ0KDIpIC8gMiAqIChBbGxCdWxsZXRzW2JdLmhlaWdodCAvIDIgLSBBbGxCdWxsZXRzW2JdLndpZHRoIC8gMik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYW5nbGUgPSAoMzYwIC0gKEFsbEJ1bGxldHNbYl0ucm90YXRpb24pKSAvIDE4MCAqIE1hdGguUEk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYnVsbGV0SGVhZFggPSAoQWxsQnVsbGV0c1tiXS54ICogY2Fudi53aWR0aCAvIDEwMCAtIChyYWRpdXMgKiBNYXRoLnNpbihhbmdsZSkpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBidWxsZXRIZWFkWSA9IChBbGxCdWxsZXRzW2JdLnkgKiBjYW52LndpZHRoIC8gMTAwIC0gKHJhZGl1cyAqIE1hdGguY29zKGFuZ2xlKSkpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkaXN0YW5jZSA9IE1hdGguc3FydCgoYnVsbGV0SGVhZFggLSBzcGFjZVNoaXBYKSAqIChidWxsZXRIZWFkWCAtIHNwYWNlU2hpcFgpICsgKGJ1bGxldEhlYWRZIC0gc3BhY2VTaGlwWSkgKiAoYnVsbGV0SGVhZFkgLSBzcGFjZVNoaXBZKSk7XHJcblxyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGlzdGFuY2UgPCAoQWxsQnVsbGV0c1tiXS53aWR0aCAvIDIgKyBBbGxQbGF5ZXJzW3BdLndpZHRoIC8gMiAqIHNoaWVsZFJhdGlvKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhbWFnZXNvdW5kLnBsYXkoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZighQWxsUGxheWVyc1twXS5zaGllbGQpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBbGxQbGF5ZXJzW3BdLmluY3JlYXNlRGFtYWdlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS51c2VybmFtZSA9IEFsbFBsYXllcnNbcF0udXNlck5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEubGlmZSA9IDMtQWxsUGxheWVyc1twXS5kYW1hZ2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvY2tldFNlcnZpY2UuZW1pdChcInBsYXllckxpZmVcIixkYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQWxsQnVsbGV0c1tiXS5leHBsb2RlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvL1BsYXllciAtIEFzdGVyb2lkXHJcbiAgICAgICAgICAgICAgICBmb3IodmFyIGEgaW4gQWxsQXN0ZXJvaWRzKXtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgYXN0ZXJvaWRYID0gQWxsQXN0ZXJvaWRzW2FdLnggKiBjYW52LndpZHRoIC8gMTAwO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBhc3Rlcm9pZFkgPSBBbGxBc3Rlcm9pZHNbYV0ueSAqIGNhbnYud2lkdGggLyAxMDA7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBkaXN0YW5jZVBBID0gTWF0aC5zcXJ0KChhc3Rlcm9pZFggLSBzcGFjZVNoaXBYKSAqIChhc3Rlcm9pZFggLSBzcGFjZVNoaXBYKSArIChhc3Rlcm9pZFkgLSBzcGFjZVNoaXBZKSAqIChhc3Rlcm9pZFkgLSBzcGFjZVNoaXBZKSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkaXN0YW5jZVBBIDwgKEFsbEFzdGVyb2lkc1thXS53aWR0aCAvIDIgKyBBbGxQbGF5ZXJzW3BdLndpZHRoIC8gMiAqIHNoaWVsZFJhdGlvKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZihBbGxBc3Rlcm9pZHNbYV0uYm94ID09PSBmYWxzZSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBBbGxBc3Rlcm9pZHNbYV0uYm94ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhbWFnZXNvdW5kLnBsYXkoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKEFsbFBsYXllcnNbcF0uc2hpZWxkKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYW5nbGVQID0gLSAoTWF0aC5hdGFuMigoQWxsQXN0ZXJvaWRzW2FdLnkgLSBBbGxQbGF5ZXJzW3BdLnkpLChBbGxBc3Rlcm9pZHNbYV0ueCAtIEFsbFBsYXllcnNbcF0ueCkpKjE4MC9NYXRoLlBJKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZigoYW5nbGVQID4gLTkwICYmIGFuZ2xlUCA8IDApIHx8IChhbmdsZVAgPiA5MCAmJiBhbmdsZVAgPCAxODApKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQWxsQXN0ZXJvaWRzW2FdLnJvdGF0aW9uID0gMTgwICsgYW5nbGVQO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBbGxBc3Rlcm9pZHNbYV0ucm90YXRpb24gPSBhbmdsZVA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFsbEFzdGVyb2lkc1thXS5zcGVlZCA9IDY7Ly8qQWxsUGxheWVyc1twXS5zcGVlZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFsbFBsYXllcnNbcF0uZGVhZCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLnVzZXJuYW1lID0gQWxsUGxheWVyc1twXS51c2VyTmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLmxpZmUgPSAzLUFsbFBsYXllcnNbcF0uZGFtYWdlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvY2tldFNlcnZpY2UuZW1pdChcInBsYXllckxpZmVcIixkYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1lbHNlIGlmKGRpc3RhbmNlUEEgPiAoQWxsQXN0ZXJvaWRzW2FdLndpZHRoIC8gMiArIEFsbFBsYXllcnNbcF0ud2lkdGggLyAyICogc2hpZWxkUmF0aW8gKyAxMDApKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgQWxsQXN0ZXJvaWRzW2FdLmJveCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvL1BsYXllciAtIFBsYXllclxyXG4gICAgICAgICAgICAgICAgZm9yKHZhciBhcCBpbiBBbGxQbGF5ZXJzKXtcclxuICAgICAgICAgICAgICAgICAgICBpZihBbGxQbGF5ZXJzW2FwXS5kYW1hZ2UgPT09IDQpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoYXAhPXApe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3BhY2VTaGlwMVggPSBBbGxQbGF5ZXJzW2FwXS54ICogY2Fudi53aWR0aCAvIDEwMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNwYWNlU2hpcDFZID0gQWxsUGxheWVyc1thcF0ueSAqIGNhbnYud2lkdGggLyAxMDA7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2hpZWxkUmF0aW8xID0gMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoQWxsUGxheWVyc1thcF0uc2hpZWxkKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNoaWVsZFJhdGlvMSA9IDEuNTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRpc3RhbmNlUFAgPSBNYXRoLnNxcnQoKHNwYWNlU2hpcDFYIC0gc3BhY2VTaGlwWCkgKiAoc3BhY2VTaGlwMVggLSBzcGFjZVNoaXBYKSArIChzcGFjZVNoaXAxWSAtIHNwYWNlU2hpcFkpICogKHNwYWNlU2hpcDFZIC0gc3BhY2VTaGlwWSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGlzdGFuY2VQUCA8IChBbGxQbGF5ZXJzW2FwXS53aWR0aCAvIDIgKiBzaGllbGRSYXRpbzEgKyBBbGxQbGF5ZXJzW3BdLndpZHRoIC8gMiAqIHNoaWVsZFJhdGlvKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGFtYWdlc291bmQucGxheSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQWxsUGxheWVyc1twXS5kZWFkKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBBbGxQbGF5ZXJzW2FwXS5kZWFkKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLnVzZXJuYW1lID0gQWxsUGxheWVyc1twXS51c2VyTmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEubGlmZSA9IDMtQWxsUGxheWVyc1twXS5kYW1hZ2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb2NrZXRTZXJ2aWNlLmVtaXQoXCJwbGF5ZXJMaWZlXCIsZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLnVzZXJuYW1lID0gQWxsUGxheWVyc1thcF0udXNlck5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLmxpZmUgPSAzLUFsbFBsYXllcnNbYXBdLmRhbWFnZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvY2tldFNlcnZpY2UuZW1pdChcInBsYXllckxpZmVcIixkYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvL1BsYXllciAtIFdhbGxcclxuICAgICAgICAgICAgICAgIGlmKEFsbFBsYXllcnNbcF0ueCpjYW52LndpZHRoLzEwMCA8IEFsbFBsYXllcnNbcF0uaGVpZ2h0LzIgfHwgQWxsUGxheWVyc1twXS54KmNhbnYud2lkdGgvMTAwID4gY2Fudi53aWR0aC0oQWxsUGxheWVyc1twXS5oZWlnaHQvMil8fFxyXG4gICAgICAgICAgICAgICAgICAgIEFsbFBsYXllcnNbcF0ueSpjYW52LndpZHRoLzEwMCA8IEFsbFBsYXllcnNbcF0uaGVpZ2h0LzIgfHwgQWxsUGxheWVyc1twXS55KmNhbnYud2lkdGgvMTAwID4gY2Fudi53aWR0aC0oQWxsUGxheWVyc1twXS5oZWlnaHQvMikpe1xyXG4gICAgICAgICAgICAgICAgICAgIGRhbWFnZXNvdW5kLnBsYXkoKTtcclxuICAgICAgICAgICAgICAgICAgICBBbGxQbGF5ZXJzW3BdLmRlYWQoKTtcclxuICAgICAgICAgICAgICAgICAgICBkYXRhID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YS51c2VybmFtZSA9IEFsbFBsYXllcnNbcF0udXNlck5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YS5saWZlID0gMy1BbGxQbGF5ZXJzW3BdLmRhbWFnZTtcclxuICAgICAgICAgICAgICAgICAgICBzb2NrZXRTZXJ2aWNlLmVtaXQoXCJwbGF5ZXJMaWZlXCIsZGF0YSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy9QbGF5ZXIgLSBQb3dlcnVwXHJcbiAgICAgICAgICAgICAgICBmb3IodmFyIHB1IGluIEFsbFBvd2VyVXBzKXtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcG93ZXJ1cFggPSBBbGxQb3dlclVwc1twdV0ueCAqIGNhbnYud2lkdGggLyAxMDA7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBvd2VydXBZID0gQWxsUG93ZXJVcHNbcHVdLnkgKiBjYW52LndpZHRoIC8gMTAwO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB2YXIgZGlzdGFuY2VQUFUgPSBNYXRoLnNxcnQoKHBvd2VydXBYIC0gc3BhY2VTaGlwWCkgKiAocG93ZXJ1cFggLSBzcGFjZVNoaXBYKSArIChwb3dlcnVwWSAtIHNwYWNlU2hpcFkpICogKHBvd2VydXBZIC0gc3BhY2VTaGlwWSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkaXN0YW5jZVBQVSA8IChBbGxQb3dlclVwc1twdV0ud2lkdGggLyAyICsgQWxsUGxheWVyc1twXS53aWR0aCAvIDIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwb3dlcnVwU291bmQgPSBuZXcgQXVkaW8oJy4uLy4uL2Fzc2V0cy9Cb251cy9zZnhfemFwLm9nZycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3dlcnVwU291bmQucGxheSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZihBbGxQb3dlclVwc1twdV0uYm9vbFNlbGYgPT09IDEpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yKHZhciBwbGF5ZXIgaW4gQWxsUGxheWVycyl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYocGxheWVyICE9IHApe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBbGxQbGF5ZXJzW3BsYXllcl0uYWRkUG93ZXJ1cChBbGxQb3dlclVwc1twdV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBBbGxQbGF5ZXJzW3BdLmFkZFBvd2VydXAoQWxsUG93ZXJVcHNbcHVdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZihBbGxQb3dlclVwc1twdV0udHlwZSA9PT0gMyl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLnVzZXJuYW1lID0gQWxsUGxheWVyc1twXS51c2VyTmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEubGlmZSA9IDM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb2NrZXRTZXJ2aWNlLmVtaXQoXCJwbGF5ZXJMaWZlXCIsIGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEFsbFBvd2VyVXBzLnNwbGljZShwdSwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYoQWxsUGxheWVyc1twXS5kYW1hZ2U8NCl7XHJcbiAgICAgICAgICAgICAgICAgICAgbGl2aW5nUGxheWVycy5wdXNoKEFsbFBsYXllcnNbcF0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvL0J1bGxldCAtIEFzdGVyb2lkXHJcbiAgICAgICAgICAgIGZvcih2YXIgYWEgaW4gQWxsQXN0ZXJvaWRzKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBhYiBpbiBBbGxCdWxsZXRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKEFsbEJ1bGxldHNbYWJdLmV4cGxvZGVTdGFnZSA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoQWxsQnVsbGV0c1thYl0ucGxheWVyICE9IEFsbEFzdGVyb2lkc1thYV0udXNlck5hbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByYWRpdXNCID0gTWF0aC5zcXJ0KDIpIC8gMiAqIChBbGxCdWxsZXRzW2FiXS5oZWlnaHQgLyAyIC0gQWxsQnVsbGV0c1thYl0ud2lkdGggLyAyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhbmdsZUIgPSAoMzYwIC0gKEFsbEJ1bGxldHNbYWJdLnJvdGF0aW9uKSkgLyAxODAgKiBNYXRoLlBJO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFCdWxsZXRIZWFkWCA9IChBbGxCdWxsZXRzW2FiXS54ICogY2Fudi53aWR0aCAvIDEwMCAtIChyYWRpdXNCICogTWF0aC5zaW4oYW5nbGVCKSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFCdWxsZXRIZWFkWSA9IChBbGxCdWxsZXRzW2FiXS55ICogY2Fudi53aWR0aCAvIDEwMCAtIChyYWRpdXNCICogTWF0aC5jb3MoYW5nbGVCKSkpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhc3Rlcm9pZGFYID0gQWxsQXN0ZXJvaWRzW2FhXS54ICogY2Fudi53aWR0aCAvIDEwMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhc3Rlcm9pZGFZID0gQWxsQXN0ZXJvaWRzW2FhXS55ICogY2Fudi53aWR0aCAvIDEwMDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGlzdGFuY2VCQSA9IE1hdGguc3FydCgoYUJ1bGxldEhlYWRYIC0gYXN0ZXJvaWRhWCkgKiAoYUJ1bGxldEhlYWRYIC0gYXN0ZXJvaWRhWCkgKyAoYUJ1bGxldEhlYWRZIC0gYXN0ZXJvaWRhWSkgKiAoYUJ1bGxldEhlYWRZIC0gYXN0ZXJvaWRhWSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRpc3RhbmNlQkEgPCAoQWxsQnVsbGV0c1thYl0ud2lkdGggLyAyICsgQWxsQXN0ZXJvaWRzW2FhXS53aWR0aCAvIDIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc29ja2V0U2VydmljZS5lbWl0KFwicGxheWVyTGlmZVwiLCB7dXNlcm5hbWU6QWxsQXN0ZXJvaWRzW2FhXS51c2VyTmFtZSwgZGFtYWdlOiAoMyAtIEFsbEFzdGVyb2lkc1thYV0uZGFtYWdlKX0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFsbEJ1bGxldHNbYWJdLmV4cGxvZGUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYobGl2aW5nUGxheWVycy5sZW5ndGg8PTEpe1xyXG4gICAgICAgICAgICAgICAgZW5kR2FtZShsaXZpbmdQbGF5ZXJzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gZW5kR2FtZShsaXZpbmdQbGF5ZXJzKXtcclxuICAgICAgICAgICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKGN5Y2xlKSkge1xyXG4gICAgICAgICAgICAgICAgJGludGVydmFsLmNhbmNlbChjeWNsZSk7XHJcbiAgICAgICAgICAgICAgICBjeWNsZSA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAkc2NvcGUuZW5kR2FtZT10cnVlO1xyXG4gICAgICAgICAgICBpZihsaXZpbmdQbGF5ZXJzLmxlbmd0aD09PTEpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5lbmRHYW1lVGV4dCA9IGxpdmluZ1BsYXllcnNbMF0udXNlck5hbWUgKyBcIiBpcyB0aGUgd2lubmVyIVwiO1xyXG4gICAgICAgICAgICAgICAgc29ja2V0U2VydmljZS5lbWl0KFwiZW5kR2FtZVwiLCBsaXZpbmdQbGF5ZXJzWzBdLnVzZXJOYW1lKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmVuZEdhbWVUZXh0ID0gXCJObyB3aW5uZXJzXCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgJHNjb3BlLnJlc3RhcnRHYW1lID0gZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgJHNjb3BlLmVuZEdhbWU9ZmFsc2U7XHJcbiAgICAgICAgICAgIHZhciB0ZWxsZXI9MDtcclxuICAgICAgICAgICAgZm9yKHZhciBwIGluIEFsbFBsYXllcnMpe1xyXG4gICAgICAgICAgICAgICAgQWxsUGxheWVyc1twXS5yZXNldChkZWZhdWx0VmFyc1t0ZWxsZXJdLngsZGVmYXVsdFZhcnNbdGVsbGVyXS55LGRlZmF1bHRWYXJzW3RlbGxlcl0ucm90YXRpb24pO1xyXG4gICAgICAgICAgICAgICAgdGVsbGVyKys7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgQWxsQXN0ZXJvaWRzPVtdO1xyXG4gICAgICAgICAgICBmb3IodmFyIGkgPSAwOyBpPDE1OyBpKyspe1xyXG4gICAgICAgICAgICAgICAgQWxsQXN0ZXJvaWRzLnB1c2gobmV3IEFzdGVyb2lkKGNyZWF0ZUNvb3JkaW5hdGVYKCksIGNyZWF0ZUNvb3JkaW5hdGVZKCksIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSozNjEpLCBNYXRoLmNlaWwoTWF0aC5yYW5kb20oKSoxOCkpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBBbGxCdWxsZXRzID0gW107XHJcbiAgICAgICAgICAgIEFsbFBvd2VyVXBzID0gW107XHJcbiAgICAgICAgICAgIFBvd2VydXBTcGF3blRpbWUgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqNTAwICsgNTAwKTtcclxuXHJcbiAgICAgICAgICAgIGN0eC5jbGVhclJlY3QoMCwwLGNhbnYud2lkdGgsIGNhbnYuaGVpZ2h0KTtcclxuICAgICAgICAgICAgc29ja2V0U2VydmljZS5lbWl0KFwicmVzdGFydEdhbWVcIixudWxsKTtcclxuICAgICAgICAgICAgY3ljbGUgPSAkaW50ZXJ2YWwoZHJhdywgMTApO1xyXG4gICAgICAgIH07XHJcbiAgICB9O1xyXG5cclxuICAgIGFuZ3VsYXIubW9kdWxlKFwiYXBwXCIpLmNvbnRyb2xsZXIoXCJwbGF5Q29udHJvbGxlclwiLCBbXCIkc2NvcGVcIiwgXCIkaW50ZXJ2YWxcIiwgXCIkd2luZG93XCIsIFwic29ja2V0U2VydmljZVwiLCBcImRpc3BsYXlTZXJ2aWNlXCIsIFwicGxheWVyU2VydmljZVwiLCBwbGF5Q29udHJvbGxlcl0pO1xyXG59KSgpOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IGp1c3Rpam5kZXBvdmVyIG9uIDE2LzEyLzE1LlxyXG4gKi9cclxuKGZ1bmN0aW9uKCl7XHJcbiAgICB2YXIgY2FudmFzRGlyZWN0aXZlID0gZnVuY3Rpb24oJHdpbmRvdyl7XHJcbiAgICAgICAgcmV0dXJue1xyXG4gICAgICAgICAgICByZXN0cmljdDogJ0UnLFxyXG4gICAgICAgICAgICBsaW5rOmxpbmssXHJcbiAgICAgICAgICAgIHJlcGxhY2U6dHJ1ZSxcclxuICAgICAgICAgICAgdGVtcGxhdGU6JzxjYW52YXMgaWQ9XCJnYW1lXCIgY2xhc3M9XCJwbGF5QXJlYVwiIHdpZHRoPVwie3t3aWR0aH19XCIgaGVpZ2h0PVwie3t3aWR0aH19XCIgLz4nXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gbGluayhzY29wZSwgZWxlbWVudCwgYXR0cnMpe1xyXG4gICAgICAgICAgICBpZigkd2luZG93LmlubmVyV2lkdGggPCAkd2luZG93LmlubmVySGVpZ2h0KXtcclxuICAgICAgICAgICAgICAgIHNjb3BlLndpZHRoID0gJHdpbmRvdy5pbm5lcldpZHRoIC0gMjA7XHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgc2NvcGUud2lkdGggPSAkd2luZG93LmlubmVySGVpZ2h0IC0gMjA7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGFuZ3VsYXIuZWxlbWVudCgkd2luZG93KS5iaW5kKCdyZXNpemUnLCBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgaWYoJHdpbmRvdy5pbm5lcldpZHRoIDwgJHdpbmRvdy5pbm5lckhlaWdodCl7XHJcbiAgICAgICAgICAgICAgICAgICAgc2NvcGUud2lkdGggPSAkd2luZG93LmlubmVyV2lkdGggLSAyMDtcclxuICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLndpZHRoID0gJHdpbmRvdy5pbm5lckhlaWdodCAtIDIwO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHNjb3BlLiRkaWdlc3QoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBhbmd1bGFyLm1vZHVsZSgnYXBwJykuZGlyZWN0aXZlKFwiY2FudmFzRGlyZWN0aXZlXCIsIFtcIiR3aW5kb3dcIiwgY2FudmFzRGlyZWN0aXZlXSk7XHJcbn0pKCk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgTWljaGllbCBvbiAxNi8xMi8yMDE1LlxyXG4gKi9cclxuLyoqXHJcbiAqIENyZWF0ZWQgYnkganVzdGlqbmRlcG92ZXIgb24gMTYvMTIvMTUuXHJcbiAqL1xyXG5cclxuXHJcbihmdW5jdGlvbigpe1xyXG4gICAgdmFyIGRpc3BsYXlTZXJ2aWNlID0gZnVuY3Rpb24oKXtcclxuICAgICAgICAvL0xvZ2luIENvbnRyb2xsZXJcclxuICAgICAgICB2YXIgTENTaG93ID0gdHJ1ZTtcclxuICAgICAgICAvL1BsYXkgY29udHJvbGxlclxyXG4gICAgICAgIHZhciBQQ1Nob3cgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgcmV0dXJue1xyXG4gICAgICAgICAgICBnZXRMQ1Nob3c6IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gTENTaG93O1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzZXRMQ1Nob3c6IGZ1bmN0aW9uKHZhbHVlKXtcclxuICAgICAgICAgICAgICAgIExDU2hvdyA9IHZhbHVlO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBnZXRQQ1Nob3c6IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gUENTaG93O1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzZXRQQ1Nob3c6IGZ1bmN0aW9uKHZhbHVlKXtcclxuICAgICAgICAgICAgICAgIFBDU2hvdyA9IHZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgIH07XHJcblxyXG4gICAgYW5ndWxhci5tb2R1bGUoJ2FwcCcpLmZhY3RvcnkoJ2Rpc3BsYXlTZXJ2aWNlJywgW2Rpc3BsYXlTZXJ2aWNlXSk7XHJcbn0pKCk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkganVzdGlqbmRlcG92ZXIgb24gMTcvMTIvMTUuXHJcbiAqL1xyXG5cclxuKGZ1bmN0aW9uKCl7XHJcbiAgICB2YXIgcGxheWVyU2VydmljZSA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgLy9Mb2dpbiBDb250cm9sbGVyXHJcbiAgICAgICAgdmFyIHBsYXllcnMgPSBbXTtcclxuXHJcbiAgICAgICAgcmV0dXJue1xyXG4gICAgICAgICAgICBnZXRQbGF5ZXJzOiBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHBsYXllcnM7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNldFBsYXllcnM6IGZ1bmN0aW9uKHBsYXllcnNBcnJheSl7XHJcbiAgICAgICAgICAgICAgICBwbGF5ZXJzID0gcGxheWVyc0FycmF5O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgIH07XHJcblxyXG4gICAgYW5ndWxhci5tb2R1bGUoJ2FwcCcpLmZhY3RvcnkoJ3BsYXllclNlcnZpY2UnLCBbcGxheWVyU2VydmljZV0pO1xyXG59KSgpOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IGp1c3Rpam5kZXBvdmVyIG9uIDA5LzEyLzE1LlxyXG4gKi9cclxuXHJcblxyXG52YXIgQXN0ZXJvaWQgPSBmdW5jdGlvbih4LCB5LCByb3RhdGlvbiwgc3RhZ2Upe1xyXG4gICAgdGhpcy54ID0geDtcclxuICAgIHRoaXMueSA9IHk7XHJcbiAgICB0aGlzLndpZHRoID0gMDtcclxuICAgIHRoaXMuaGVpZ2h0ID0gMDtcclxuICAgIHRoaXMucm90YXRpb24gPSByb3RhdGlvbjtcclxuICAgIHRoaXMuc3RhZ2UgPSBzdGFnZTtcclxuICAgIHRoaXMuaW1hZ2UgPSBuZXcgSW1hZ2UoKTtcclxuICAgIHRoaXMuaW1hZ2Uuc3JjID0gKFwiLi4vYXNzZXRzL1BORy9NZXRlb3JzL21ldGVvcl9cIiArIHN0YWdlICsgXCIucG5nXCIpO1xyXG4gICAgdGhpcy5zcGVlZCA9IDE7XHJcbiAgICB0aGlzLmJveCA9IGZhbHNlO1xyXG59O1xyXG5cclxuQXN0ZXJvaWQucHJvdG90eXBlLnNldEltYWdlID0gZnVuY3Rpb24oc3RhZ2Upe1xyXG4gICAgdGhpcy5zdGFnZSA9IHN0YWdlO1xyXG4gICAgdGhpcy5pbWFnZS5zcmMgPSAoXCIuLi9hc3NldHMvUE5HL01ldGVvcnMvbWV0ZW9yX1wiICsgc3RhZ2UgKyBcIi5wbmdcIik7XHJcbn07IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkganVzdGlqbmRlcG92ZXIgb24gMjIvMTIvMTUuXHJcbiAqL1xyXG5cclxudmFyIEJ1bGxldCA9IGZ1bmN0aW9uKHgsIHkscm90YXRpb24sIGNvbG9yLCBwbGF5ZXIpe1xyXG4gICAgdGhpcy54ID0geDtcclxuICAgIHRoaXMueSA9IHk7XHJcbiAgICB0aGlzLnJvdGF0aW9uID0gcm90YXRpb247XHJcbiAgICB0aGlzLmltYWdlID0gbmV3IEltYWdlKCk7XHJcbiAgICB0aGlzLmNvbG9yID0gY29sb3I7XHJcbiAgICB0aGlzLndpZHRoID0gMDtcclxuICAgIHRoaXMuaGVpZ2h0ID0gMDtcclxuICAgIHRoaXMucGxheWVyID0gcGxheWVyO1xyXG4gICAgdGhpcy5leHBsb3Npb25JbWFnZSA9IG5ldyBJbWFnZSgpO1xyXG4gICAgdGhpcy5leHBsb2RlU3RhZ2UgPSAwO1xyXG4gICAgaWYodGhpcy5jb2xvciA9PSBcIm9yYW5nZVwiKXtcclxuICAgICAgICB0aGlzLmNvbG9yID0gJ3JlZCc7XHJcbiAgICB9XHJcbiAgICB0aGlzLmltYWdlLnNyYyA9ICcuLi9hc3NldHMvUE5HL0xhc2Vycy9sYXNlcicrIHRoaXMuY29sb3IuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyB0aGlzLmNvbG9yLnNsaWNlKDEpICsnMDEucG5nJztcclxufTtcclxuXHJcbkJ1bGxldC5wcm90b3R5cGUuZXhwbG9kZSA9IGZ1bmN0aW9uKCl7XHJcbiAgICBpZih0aGlzLmV4cGxvZGVTdGFnZSA8IDQpe1xyXG4gICAgICAgIHRoaXMuZXhwbG9kZVN0YWdlKys7XHJcbiAgICAgICAgdmFyIG51bWJlcjtcclxuICAgICAgICBpZih0aGlzLmV4cGxvZGVTdGFnZSA8IDMpe1xyXG4gICAgICAgICAgICBudW1iZXIgPSAxO1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICBudW1iZXIgPSAyO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmV4cGxvc2lvbkltYWdlLnNyYyA9ICcuLi9hc3NldHMvUE5HL0xhc2Vycy9sYXNlcicgKyB0aGlzLmNvbG9yLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgdGhpcy5jb2xvci5zbGljZSgxKSArICdFeHBsb2RlJysgbnVtYmVyICsnLnBuZyc7XHJcbiAgICB9ZWxzZXtcclxuICAgICAgICB0aGlzLmV4cGxvc2lvbkltYWdlLnNyYyA9ICcnO1xyXG4gICAgfVxyXG59O1xyXG4iLCIvKipcclxuICogQ3JlYXRlZCBieSBqdXN0aWpuZGVwb3ZlciBvbiAwNS8wMS8xNi5cclxuICovXHJcblxyXG5cclxudmFyIFBvd2VydXAgPSBmdW5jdGlvbih4LCB5LCB0eXBlLCBib29sU2VsZil7XHJcbiAgICB0aGlzLnggPSB4O1xyXG4gICAgdGhpcy55ID0geTtcclxuICAgIHRoaXMud2lkdGggPSAwO1xyXG4gICAgdGhpcy5oZWlnaHQgPSAwO1xyXG4gICAgdGhpcy50eXBlID0gdHlwZTtcclxuICAgIHRoaXMuZHVyYXRpb24gPSAxMDAwO1xyXG4gICAgdGhpcy5wbGF5ZXJkdXJhdGlvbiA9IDEwMDA7XHJcbiAgICB2YXIgaW1hZ2VUeXBlO1xyXG4gICAgdGhpcy5pbWFnZSA9IG5ldyBJbWFnZSgpO1xyXG4gICAgdGhpcy5ib29sU2VsZiA9IGJvb2xTZWxmO1xyXG4gICAgc3dpdGNoKHR5cGUpe1xyXG4gICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgaW1hZ2VUeXBlID0gXCJib2x0X1wiO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgIGltYWdlVHlwZSA9IFwic2hpZWxkX1wiO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIDM6XHJcbiAgICAgICAgICAgIGltYWdlVHlwZSA9IFwic3Rhcl9cIjtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICB9XHJcblxyXG4gICAgc3dpdGNoKGJvb2xTZWxmKXtcclxuICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgIGltYWdlVHlwZSArPSBcImdvbGQucG5nXCI7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgaW1hZ2VUeXBlICs9IFwic2lsdmVyLnBuZ1wiO1xyXG4gICAgfVxyXG4gICAgdGhpcy5pbWFnZS5zcmMgPSBcIi4uL2Fzc2V0cy9QTkcvUG93ZXItdXBzL1wiICsgaW1hZ2VUeXBlO1xyXG59O1xyXG5cclxuUG93ZXJ1cC5wcm90b3R5cGUuZGVjcmVhc2VEdXJhdGlvbiA9IGZ1bmN0aW9uKCl7XHJcbiAgaWYodGhpcy5kdXJhdGlvbiA+IDApe1xyXG4gICAgICB0aGlzLmR1cmF0aW9uIC0tO1xyXG4gIH1cclxufTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBqdXN0aWpuZGVwb3ZlciBvbiAwOS8xMi8xNS5cclxuICovXHJcblxyXG52YXIgU3BhY2VzaGlwID0gZnVuY3Rpb24odXNlck5hbWUsIHgsIHksIGNvbG9yLCByb3RhdGlvbil7XHJcbiAgICB0aGlzLnVzZXJOYW1lID0gdXNlck5hbWU7XHJcbiAgICB0aGlzLnggPSB4O1xyXG4gICAgdGhpcy55ID0geTtcclxuICAgIHRoaXMuc3BlZWQgPSAxO1xyXG4gICAgdGhpcy5jb2xvciA9IGNvbG9yO1xyXG4gICAgdGhpcy5yb3RhdGlvbiA9IHJvdGF0aW9uO1xyXG4gICAgdGhpcy5pbWFnZSA9IG5ldyBJbWFnZSgpO1xyXG4gICAgdGhpcy5kYW1hZ2UgPSAwO1xyXG4gICAgdGhpcy53aWR0aCA9IDA7XHJcbiAgICB0aGlzLmhlaWdodCA9IDA7XHJcbiAgICB0aGlzLnBvd2VydXBzID0gW107XHJcbiAgICB0aGlzLnNoaWVsZCA9IHRydWU7XHJcbiAgICB0aGlzLnNoaWVsZEltYWdlID0gbmV3IEltYWdlKCk7XHJcbiAgICB0aGlzLnNoaWVsZEltYWdlLnNyYyA9IFwiLi4vYXNzZXRzL1BORy9FZmZlY3RzL3NoaWVsZDEucG5nXCI7XHJcbiAgICB0aGlzLmRhbWFnZUltYWdlID0gbmV3IEltYWdlKCk7XHJcbiAgICB0aGlzLmltYWdlLnNyYyA9ICcuLi9hc3NldHMvUE5HL3BsYXllclNoaXAxXycrIHRoaXMuY29sb3IgKycucG5nJztcclxuICAgIHRoaXMuZXhwbG9kZVN0YWdlID0gLTE7XHJcbn07XHJcblxyXG5TcGFjZXNoaXAucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gKHgsIHksIHJvdGF0aW9uKSB7XHJcbiAgICB0aGlzLnNwZWVkID0gMTtcclxuICAgIHRoaXMuZGFtYWdlID0gMDtcclxuICAgIHRoaXMuZGFtYWdlSW1hZ2UgPSBuZXcgSW1hZ2UoKTtcclxuICAgIHRoaXMuaW1hZ2Uuc3JjID0gJy4uL2Fzc2V0cy9QTkcvcGxheWVyU2hpcDFfJysgdGhpcy5jb2xvciArJy5wbmcnO1xyXG4gICAgdGhpcy54ID0geDtcclxuICAgIHRoaXMueSA9IHk7XHJcbiAgICB0aGlzLnJvdGF0aW9uID0gcm90YXRpb247XHJcbiAgICAvL3RoaXMuc2hpZWxkID0gZmFsc2U7XHJcbiAgICB0aGlzLmV4cGxvZGVTdGFnZSA9IC0xO1xyXG59O1xyXG5cclxuU3BhY2VzaGlwLnByb3RvdHlwZS5tb3ZlU3BhY2VzaGlwID0gZnVuY3Rpb24oeCwgeSl7XHJcbiAgICB0aGlzLnggPSB4O1xyXG4gICAgdGhpcy55ID0geTtcclxufTtcclxuXHJcblNwYWNlc2hpcC5wcm90b3R5cGUubW92ZVNwYWNlc2hpcFJlbGF0aXZlID0gZnVuY3Rpb24oeCwgeSl7XHJcbiAgICB0aGlzLnggPSB0aGlzLngreDtcclxuICAgIHRoaXMueSA9IHRoaXMueSt5O1xyXG59O1xyXG5cclxuU3BhY2VzaGlwLnByb3RvdHlwZS5yb3RhdGVTcGFjZXNoaXAgPSBmdW5jdGlvbihkZWdyZWUpe1xyXG4gICAgdGhpcy5yb3RhdGlvbiA9IGRlZ3JlZTtcclxufTtcclxuXHJcblNwYWNlc2hpcC5wcm90b3R5cGUucm90YXRlU3BhY2VzaGlwUmVsYXRpdmUgPSBmdW5jdGlvbihkZWdyZWUpe1xyXG4gICAgaWYoZGVncmVlPjgwKXtcclxuICAgICAgICBkZWdyZWU9ODA7XHJcbiAgICB9ZWxzZSBpZiAoZGVncmVlPC04MCl7XHJcbiAgICAgICAgZGVncmVlID0gLTgwO1xyXG4gICAgfVxyXG4gICAgdGhpcy5yb3RhdGlvbiA9IHRoaXMucm90YXRpb24gKyBkZWdyZWUvNTtcclxuICAgIGlmKHRoaXMucm90YXRpb24gPCAtMzYwKXtcclxuICAgICAgICB0aGlzLnJvdGF0aW9uID0gdGhpcy5yb3RhdGlvbiArIDcyMDtcclxuICAgIH1cclxuICAgIGlmKHRoaXMucm90YXRpb24gPiAzNjApe1xyXG4gICAgICAgIHRoaXMucm90YXRpb24gPSB0aGlzLnJvdGF0aW9uIC0gNzIwO1xyXG4gICAgfVxyXG59O1xyXG5cclxuU3BhY2VzaGlwLnByb3RvdHlwZS5pbmNyZWFzZURhbWFnZSA9IGZ1bmN0aW9uKCl7XHJcbiAgICBpZih0aGlzLmRhbWFnZSA8IDQpe1xyXG4gICAgICAgIHRoaXMuZGFtYWdlICs9IDE7XHJcbiAgICB9XHJcblxyXG4gICAgaWYodGhpcy5kYW1hZ2UgPD0gMyAmJiB0aGlzLmRhbWFnZSA+IDApe1xyXG4gICAgICAgIHRoaXMuZGFtYWdlSW1hZ2Uuc3JjID0gJy4uL2Fzc2V0cy9QTkcvRGFtYWdlL3BsYXllclNoaXAxX2RhbWFnZScrIHRoaXMuZGFtYWdlICsgJy5wbmcnO1xyXG4gICAgfWVsc2UgaWYodGhpcy5kYW1hZ2U9PTQpe1xyXG4gICAgICAgIHRoaXMuZXhwbG9kZSgpO1xyXG4gICAgfVxyXG59O1xyXG5cclxuU3BhY2VzaGlwLnByb3RvdHlwZS5kZWFkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdGhpcy5kYW1hZ2UgPSA0O1xyXG4gICAgdGhpcy5leHBsb2RlKCk7XHJcbn07XHJcblxyXG5TcGFjZXNoaXAucHJvdG90eXBlLmV4cGxvZGUgPSBmdW5jdGlvbigpe1xyXG4gICAgaWYodGhpcy5leHBsb2RlU3RhZ2UgPD0gMTQwKXtcclxuICAgICAgICB0aGlzLmV4cGxvZGVTdGFnZSArKztcclxuICAgICAgICB0aGlzLmRhbWFnZUltYWdlLnNyYyA9IFwiLi4vYXNzZXRzL1BORy9EYW1hZ2UvZnJhbWVcIiArIE1hdGguZmxvb3IodGhpcy5leHBsb2RlU3RhZ2UvMTApICsgXCIuZ2lmXCI7XHJcbiAgICB9XHJcbn07XHJcblxyXG5TcGFjZXNoaXAucHJvdG90eXBlLmRlY3JlYXNlRGFtYWdlID0gZnVuY3Rpb24oKXtcclxuICAgIGlmKHRoaXMuZGFtYWdlID4gMCl7XHJcbiAgICAgICAgdGhpcy5kYW1hZ2UgLT0gMTtcclxuICAgIH1cclxuXHJcbiAgICBpZih0aGlzLmRhbWFnZSA8PSAzICYmIHRoaXMuZGFtYWdlID4gMCl7XHJcbiAgICAgICAgdGhpcy5kYW1hZ2VJbWFnZS5zcmMgPSAnLi4vYXNzZXRzL1BORy9EYW1hZ2UvcGxheWVyU2hpcDFfZGFtYWdlJysgdGhpcy5kYW1hZ2UgKyAnLnBuZyc7XHJcbiAgICB9XHJcbn07XHJcblxyXG5TcGFjZXNoaXAucHJvdG90eXBlLmFkZFBvd2VydXAgPSBmdW5jdGlvbihwb3dlcnVwKXtcclxuICAgIHN3aXRjaChwb3dlcnVwLnR5cGUpe1xyXG4gICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgdGhpcy5zcGVlZCArKztcclxuICAgICAgICAgICAgdGhpcy5wb3dlcnVwcy5wdXNoKHBvd2VydXApO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgIHRoaXMuc2hpZWxkID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5wb3dlcnVwcy5wdXNoKHBvd2VydXApO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIDM6XHJcbiAgICAgICAgICAgIHRoaXMuZGFtYWdlID0gMDtcclxuICAgICAgICAgICAgdGhpcy5kYW1hZ2VJbWFnZS5zcmMgPSBcIlwiO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgIH1cclxufTtcclxuXHJcblNwYWNlc2hpcC5wcm90b3R5cGUuY2hlY2tQb3dlcnVwID0gZnVuY3Rpb24oKXtcclxuICAgIGZvcih2YXIgcCBpbiB0aGlzLnBvd2VydXBzKXtcclxuICAgICAgICBpZih0aGlzLnBvd2VydXBzW3BdLnBsYXllcmR1cmF0aW9uID4gMCl7XHJcbiAgICAgICAgICAgIHRoaXMucG93ZXJ1cHNbcF0ucGxheWVyZHVyYXRpb24gLS07XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHN3aXRjaCh0aGlzLnBvd2VydXBzW3BdLnR5cGUpe1xyXG4gICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3BlZWQgLS07XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zaGllbGQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIi0tLS0tLS0tLS0tLS1cIik7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMucG93ZXJ1cHMpO1xyXG4gICAgICAgICAgICB0aGlzLnBvd2VydXBzLnNwbGljZShwLCAxKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5wb3dlcnVwcyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59O1xyXG5cclxuIiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkganVzdGlqbmRlcG92ZXIgb24gMDkvMTIvMTUuXHJcbiAqL1xyXG5cclxuKGZ1bmN0aW9uKCl7XHJcblxyXG4gICAgdmFyIHNvY2tldFNlcnZpY2UgPSBmdW5jdGlvbigkcm9vdFNjb3BlKXtcclxuICAgICAgICBcInVzZSBzdHJpY3RcIjtcclxuICAgICAgICAvL3ByaXZhdGVcclxuICAgICAgICB2YXIgc29ja2V0ID0gaW8uY29ubmVjdCh3aW5kb3cubG9jYXRpb24uaG9zdCk7XHJcbiAgICAgICAgLy9mdW5jdGlvbnNcclxuICAgICAgICB2YXIgb24gPSBmdW5jdGlvbiAoZXZlbnROYW1lLCBjYWxsYmFjaykge1xyXG4gICAgICAgICAgICBzb2NrZXQub24oZXZlbnROYW1lLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cztcclxuICAgICAgICAgICAgICAgICRyb290U2NvcGUuJGFwcGx5KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjay5hcHBseShzb2NrZXQsIGFyZ3MpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHZhciBlbWl0ID0gZnVuY3Rpb24gKGV2ZW50TmFtZSwgZGF0YSwgY2FsbGJhY2spIHtcclxuICAgICAgICAgICAgc29ja2V0LmVtaXQoZXZlbnROYW1lLCBkYXRhLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cztcclxuICAgICAgICAgICAgICAgICRyb290U2NvcGUuJGFwcGx5KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY2FsbGJhY2spIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2suYXBwbHkoc29ja2V0LCBhcmdzKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy9wdWJsaWNcclxuICAgICAgICByZXR1cm57XHJcbiAgICAgICAgICAgIG9uOiBvbixcclxuICAgICAgICAgICAgZW1pdDogZW1pdCxcclxuICAgICAgICAgICAgc29ja2V0OiBzb2NrZXRcclxuICAgICAgICB9O1xyXG4gICAgfTtcclxuXHJcbiAgICBhbmd1bGFyLm1vZHVsZShcImFwcFwiKS5mYWN0b3J5KFwic29ja2V0U2VydmljZVwiLCBbXCIkcm9vdFNjb3BlXCIsIHNvY2tldFNlcnZpY2VdKTtcclxuXHJcbn0pKCk7Il0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
