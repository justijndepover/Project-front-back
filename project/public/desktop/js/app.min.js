!function(){angular.module("app",[])}(),function(){var n=function(n,e,t,i){n.LCShow=t.getLCShow;var o=function(){e.emit("pcconnect",null)};n.room="",e.on("requestRoom",function(e){n.room=e}),e.on("deviceOrientation",function(n){var e=(n.username,{});e.gamma=n.gamma,e.beta=n.beta,e.alpha=n.alpha}),n.usernames={},n.checkUserCount=!1,e.on("updateusers",function(e){i.setPlayers(e),n.usernames=e,n.checkUserCount=Object.keys(n.usernames).length<0}),n.startGame=function(){e.emit("startGame",null),t.setLCShow(!1),t.setPCShow(!0)},function(){o()}()};angular.module("app").controller("loginController",["$scope","socketService","displayService","playerService",n])}(),function(){"use strict";var n=function(n,e,t,i,o){n.PCShow=i.getPCShow,n.startGame=!1,t.on("gameCycle",function(n){})};angular.module("app").controller("playController",["$scope","$window","socketService","displayService","playerService",n])}();var Spaceship=function(n,e,t){this.orientation=0,this.gamerId=n,this.x=e,this.y=t};Spaceship.prototype.moveSpaceship=function(n,e){},function(){var n=function(n){function e(e,t,i){n.innerWidth<n.innerHeight?e.width=n.innerWidth-20:e.width=n.innerHeight-20,angular.element(n).bind("resize",function(){n.innerWidth<n.innerHeight?e.width=n.innerWidth-20:e.width=n.innerHeight-20,e.$digest()})}return{restrict:"E",link:e,replace:!0,template:'<canvas class="playArea" width="{{width}}" height="{{width}}" />'}};angular.module("app").directive("canvasDirective",["$window",n])}(),function(){var n=function(){var n=!0,e=!1;return{getLCShow:function(){return n},setLCShow:function(e){n=e},getPCShow:function(){return e},setPCShow:function(n){e=n}}};angular.module("app").factory("displayService",[n])}(),function(){var n=function(){var n=[];return{getPlayers:function(){return n},setPlayers:function(e){n=e}}};angular.module("app").factory("playerService",[n])}(),function(){var n=function(n){"use strict";var e=io.connect(window.location.host),t=function(t,i){e.on(t,function(){var t=arguments;n.$apply(function(){i.apply(e,t)})})},i=function(t,i,o){e.emit(t,i,function(){var t=arguments;n.$apply(function(){o&&o.apply(e,t)})})};return{on:t,emit:i,socket:e}};angular.module("app").factory("socketService",["$rootScope",n])}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsImNvbnRyb2xsZXIvbG9naW5Db250cm9sbGVyLmpzIiwiY29udHJvbGxlci9wbGF5Q29udHJvbGxlci5qcyIsIm1vZGVscy9TcGFjZXNoaXAuanMiLCJkaXJlY3RpdmVzL2NhbnZhc0RpcmVjdGl2ZS5qcyIsInNlcnZpY2VzL2Rpc3BsYXlTZXJ2aWNlLmpzIiwic2VydmljZXMvcGxheWVyU2VydmljZS5qcyIsInNlcnZpY2VzL3NvY2tldFNlcnZpY2UuanMiXSwibmFtZXMiOlsiYW5ndWxhciIsIm1vZHVsZSIsImxvZ2luQ29udHJvbGxlciIsIiRzY29wZSIsInNvY2tldFNlcnZpY2UiLCJkaXNwbGF5U2VydmljZSIsInBsYXllclNlcnZpY2UiLCJMQ1Nob3ciLCJnZXRMQ1Nob3ciLCJtYWtlUm9vbSIsImVtaXQiLCJyb29tIiwib24iLCJkYXRhIiwiZGV2aWNlT3JpZW50YXRpb24iLCJ1c2VybmFtZSIsImdhbW1hIiwiYmV0YSIsImFscGhhIiwidXNlcm5hbWVzIiwiY2hlY2tVc2VyQ291bnQiLCJzZXRQbGF5ZXJzIiwiT2JqZWN0Iiwia2V5cyIsImxlbmd0aCIsInN0YXJ0R2FtZSIsInNldExDU2hvdyIsInNldFBDU2hvdyIsImNvbnRyb2xsZXIiLCJwbGF5Q29udHJvbGxlciIsIiR3aW5kb3ciLCJQQ1Nob3ciLCJnZXRQQ1Nob3ciLCJTcGFjZXNoaXAiLCJnYW1lcklkIiwieCIsInkiLCJ0aGlzIiwib3JpZW50YXRpb24iLCJwcm90b3R5cGUiLCJtb3ZlU3BhY2VzaGlwIiwiY2FudmFzRGlyZWN0aXZlIiwibGluayIsInNjb3BlIiwiZWxlbWVudCIsImF0dHJzIiwiaW5uZXJXaWR0aCIsImlubmVySGVpZ2h0Iiwid2lkdGgiLCJiaW5kIiwiJGRpZ2VzdCIsInJlc3RyaWN0IiwicmVwbGFjZSIsInRlbXBsYXRlIiwiZGlyZWN0aXZlIiwidmFsdWUiLCJmYWN0b3J5IiwicGxheWVycyIsImdldFBsYXllcnMiLCJwbGF5ZXJzQXJyYXkiLCIkcm9vdFNjb3BlIiwic29ja2V0IiwiaW8iLCJjb25uZWN0Iiwid2luZG93IiwibG9jYXRpb24iLCJob3N0IiwiZXZlbnROYW1lIiwiY2FsbGJhY2siLCJhcmdzIiwiYXJndW1lbnRzIiwiJGFwcGx5IiwiYXBwbHkiXSwibWFwcGluZ3MiOiJDQUdBLFdBRUFBLFFBQUFDLE9BQUEsYUNEQSxXQUNBLEdBQUFDLEdBQUEsU0FBQUMsRUFBQUMsRUFBQUMsRUFBQUMsR0FFQUgsRUFBQUksT0FBQUYsRUFBQUcsU0FHQSxJQUFBQyxHQUFBLFdBQ0FMLEVBQUFNLEtBQUEsWUFBQSxNQUVBUCxHQUFBUSxLQUFBLEdBQ0FQLEVBQUFRLEdBQUEsY0FBQSxTQUFBQyxHQUNBVixFQUFBUSxLQUFBRSxJQUVBVCxFQUFBUSxHQUFBLG9CQUFBLFNBQUFDLEdBQ0EsR0FDQUMsSUFEQUQsRUFBQUUsWUFFQUQsR0FBQUUsTUFBQUgsRUFBQUcsTUFDQUYsRUFBQUcsS0FBQUosRUFBQUksS0FDQUgsRUFBQUksTUFBQUwsRUFBQUssUUFFQWYsRUFBQWdCLGFBQ0FoQixFQUFBaUIsZ0JBQUEsRUFDQWhCLEVBQUFRLEdBQUEsY0FBQSxTQUFBQyxHQUNBUCxFQUFBZSxXQUFBUixHQUNBVixFQUFBZ0IsVUFBQU4sRUFDQVYsRUFBQWlCLGVBQUFFLE9BQUFDLEtBQUFwQixFQUFBZ0IsV0FBQUssT0FBQSxJQUdBckIsRUFBQXNCLFVBQUEsV0FDQXJCLEVBQUFNLEtBQUEsWUFBQSxNQUNBTCxFQUFBcUIsV0FBQSxHQUNBckIsRUFBQXNCLFdBQUEsSUFJQSxXQUNBbEIsT0FLQVQsU0FBQUMsT0FBQSxPQUFBMkIsV0FBQSxtQkFBQSxTQUFBLGdCQUFBLGlCQUFBLGdCQUFBMUIsT0N6Q0EsV0FDQSxZQUNBLElBQUEyQixHQUFBLFNBQUExQixFQUFBMkIsRUFBQTFCLEVBQUFDLEVBQUFDLEdBQ0FILEVBQUE0QixPQUFBMUIsRUFBQTJCLFVBQ0E3QixFQUFBc0IsV0FBQSxFQUVBckIsRUFBQVEsR0FBQSxZQUFBLFNBQUFDLE1BTUFiLFNBQUFDLE9BQUEsT0FBQTJCLFdBQUEsa0JBQUEsU0FBQSxVQUFBLGdCQUFBLGlCQUFBLGdCQUFBQyxNQ1pBLElBQUFJLFdBQUEsU0FBQUMsRUFBQUMsRUFBQUMsR0FDQUMsS0FBQUMsWUFBQSxFQUNBRCxLQUFBSCxRQUFBQSxFQUNBRyxLQUFBRixFQUFBQSxFQUNBRSxLQUFBRCxFQUFBQSxFQUdBSCxXQUFBTSxVQUFBQyxjQUFBLFNBQUFMLEVBQUFDLEtDUkEsV0FDQSxHQUFBSyxHQUFBLFNBQUFYLEdBUUEsUUFBQVksR0FBQUMsRUFBQUMsRUFBQUMsR0FDQWYsRUFBQWdCLFdBQUFoQixFQUFBaUIsWUFDQUosRUFBQUssTUFBQWxCLEVBQUFnQixXQUFBLEdBRUFILEVBQUFLLE1BQUFsQixFQUFBaUIsWUFBQSxHQUdBL0MsUUFBQTRDLFFBQUFkLEdBQUFtQixLQUFBLFNBQUEsV0FDQW5CLEVBQUFnQixXQUFBaEIsRUFBQWlCLFlBQ0FKLEVBQUFLLE1BQUFsQixFQUFBZ0IsV0FBQSxHQUVBSCxFQUFBSyxNQUFBbEIsRUFBQWlCLFlBQUEsR0FHQUosRUFBQU8sWUFyQkEsT0FDQUMsU0FBQSxJQUNBVCxLQUFBQSxFQUNBVSxTQUFBLEVBQ0FDLFNBQUEsb0VBc0JBckQsU0FBQUMsT0FBQSxPQUFBcUQsVUFBQSxtQkFBQSxVQUFBYixPQ3ZCQSxXQUNBLEdBQUFwQyxHQUFBLFdBRUEsR0FBQUUsSUFBQSxFQUVBd0IsR0FBQSxDQUVBLFFBQ0F2QixVQUFBLFdBQ0EsTUFBQUQsSUFFQW1CLFVBQUEsU0FBQTZCLEdBQ0FoRCxFQUFBZ0QsR0FFQXZCLFVBQUEsV0FDQSxNQUFBRCxJQUVBSixVQUFBLFNBQUE0QixHQUNBeEIsRUFBQXdCLElBS0F2RCxTQUFBQyxPQUFBLE9BQUF1RCxRQUFBLGtCQUFBbkQsT0MzQkEsV0FDQSxHQUFBQyxHQUFBLFdBRUEsR0FBQW1ELEtBRUEsUUFDQUMsV0FBQSxXQUNBLE1BQUFELElBRUFwQyxXQUFBLFNBQUFzQyxHQUNBRixFQUFBRSxJQUtBM0QsU0FBQUMsT0FBQSxPQUFBdUQsUUFBQSxpQkFBQWxELE9DZkEsV0FFQSxHQUFBRixHQUFBLFNBQUF3RCxHQUNBLFlBRUEsSUFBQUMsR0FBQUMsR0FBQUMsUUFBQUMsT0FBQUMsU0FBQUMsTUFFQXRELEVBQUEsU0FBQXVELEVBQUFDLEdBQ0FQLEVBQUFqRCxHQUFBdUQsRUFBQSxXQUNBLEdBQUFFLEdBQUFDLFNBQ0FWLEdBQUFXLE9BQUEsV0FDQUgsRUFBQUksTUFBQVgsRUFBQVEsUUFLQTNELEVBQUEsU0FBQXlELEVBQUF0RCxFQUFBdUQsR0FDQVAsRUFBQW5ELEtBQUF5RCxFQUFBdEQsRUFBQSxXQUNBLEdBQUF3RCxHQUFBQyxTQUNBVixHQUFBVyxPQUFBLFdBQ0FILEdBQ0FBLEVBQUFJLE1BQUFYLEVBQUFRLE9BT0EsUUFDQXpELEdBQUFBLEVBQ0FGLEtBQUFBLEVBQ0FtRCxPQUFBQSxHQUlBN0QsU0FBQUMsT0FBQSxPQUFBdUQsUUFBQSxpQkFBQSxhQUFBcEQiLCJmaWxlIjoiYXBwLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ3JlYXRlZCBieSBNaWNoaWVsIG9uIDI1LzExLzIwMTUuXG4gKi9cbihmdW5jdGlvbigpe1xuXG4gICAgdmFyIGFwcCA9IGFuZ3VsYXIubW9kdWxlKFwiYXBwXCIsW10pO1xufSkoKTsiLCIvKipcbiAqIENyZWF0ZWQgYnkgTWljaGllbCBvbiAxMS8xMi8yMDE1LlxuICovXG5cbihmdW5jdGlvbigpe1xuICAgIHZhciBsb2dpbkNvbnRyb2xsZXIgPSBmdW5jdGlvbigkc2NvcGUsIHNvY2tldFNlcnZpY2UsIGRpc3BsYXlTZXJ2aWNlLCBwbGF5ZXJTZXJ2aWNlKXtcblxuICAgICAgICAkc2NvcGUuTENTaG93ID0gZGlzcGxheVNlcnZpY2UuZ2V0TENTaG93O1xuXG4gICAgICAgIC8vZnVuY3Rpb25zXG4gICAgICAgIHZhciBtYWtlUm9vbSA9IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBzb2NrZXRTZXJ2aWNlLmVtaXQoXCJwY2Nvbm5lY3RcIiwgbnVsbCk7XG4gICAgICAgIH07XG4gICAgICAgICRzY29wZS5yb29tID0gXCJcIjtcbiAgICAgICAgc29ja2V0U2VydmljZS5vbigncmVxdWVzdFJvb20nLGZ1bmN0aW9uKGRhdGEpe1xuICAgICAgICAgICAgJHNjb3BlLnJvb20gPSBkYXRhO1xuICAgICAgICB9KTtcbiAgICAgICAgc29ja2V0U2VydmljZS5vbignZGV2aWNlT3JpZW50YXRpb24nLCBmdW5jdGlvbihkYXRhKXtcbiAgICAgICAgICAgIHZhciB1c2VybmFtZSA9IGRhdGEudXNlcm5hbWU7XG4gICAgICAgICAgICB2YXIgZGV2aWNlT3JpZW50YXRpb24gPSB7fTtcbiAgICAgICAgICAgIGRldmljZU9yaWVudGF0aW9uLmdhbW1hID0gZGF0YS5nYW1tYTtcbiAgICAgICAgICAgIGRldmljZU9yaWVudGF0aW9uLmJldGEgPSBkYXRhLmJldGE7XG4gICAgICAgICAgICBkZXZpY2VPcmllbnRhdGlvbi5hbHBoYSA9IGRhdGEuYWxwaGE7XG4gICAgICAgIH0pO1xuICAgICAgICAkc2NvcGUudXNlcm5hbWVzID0ge307XG4gICAgICAgICRzY29wZS5jaGVja1VzZXJDb3VudCA9IGZhbHNlO1xuICAgICAgICBzb2NrZXRTZXJ2aWNlLm9uKCd1cGRhdGV1c2VycycsIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICBwbGF5ZXJTZXJ2aWNlLnNldFBsYXllcnMoZGF0YSk7XG4gICAgICAgICAgICAkc2NvcGUudXNlcm5hbWVzID0gZGF0YTtcbiAgICAgICAgICAgICRzY29wZS5jaGVja1VzZXJDb3VudCA9IE9iamVjdC5rZXlzKCRzY29wZS51c2VybmFtZXMpLmxlbmd0aCA8IDA7XG4gICAgICAgIH0pO1xuXG4gICAgICAgICRzY29wZS5zdGFydEdhbWU9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHNvY2tldFNlcnZpY2UuZW1pdChcInN0YXJ0R2FtZVwiLCBudWxsKTtcbiAgICAgICAgICAgIGRpc3BsYXlTZXJ2aWNlLnNldExDU2hvdyhmYWxzZSk7XG4gICAgICAgICAgICBkaXNwbGF5U2VydmljZS5zZXRQQ1Nob3codHJ1ZSk7XG4gICAgICAgIH07XG5cblxuICAgICAgICAoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBtYWtlUm9vbSgpO1xuICAgICAgICB9KSgpO1xuXG4gICAgfTtcblxuICAgIGFuZ3VsYXIubW9kdWxlKFwiYXBwXCIpLmNvbnRyb2xsZXIoXCJsb2dpbkNvbnRyb2xsZXJcIiwgW1wiJHNjb3BlXCIsIFwic29ja2V0U2VydmljZVwiICwgXCJkaXNwbGF5U2VydmljZVwiLCBcInBsYXllclNlcnZpY2VcIiwgbG9naW5Db250cm9sbGVyXSk7XG59KSgpOyIsIi8qKlxuICogQ3JlYXRlZCBieSBNaWNoaWVsIG9uIDE2LzEyLzIwMTUuXG4gKi9cblxuKGZ1bmN0aW9uKCl7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgdmFyIHBsYXlDb250cm9sbGVyID0gZnVuY3Rpb24oJHNjb3BlLCAkd2luZG93LCBzb2NrZXRTZXJ2aWNlLCBkaXNwbGF5U2VydmljZSwgcGxheWVyU2VydmljZSl7XG4gICAgICAgICRzY29wZS5QQ1Nob3cgPSBkaXNwbGF5U2VydmljZS5nZXRQQ1Nob3c7XG4gICAgICAgICRzY29wZS5zdGFydEdhbWUgPSBmYWxzZTtcblxuICAgICAgICBzb2NrZXRTZXJ2aWNlLm9uKFwiZ2FtZUN5Y2xlXCIsIGZ1bmN0aW9uKGRhdGEpe1xuXG4gICAgICAgIH0pO1xuXG4gICAgfTtcblxuICAgIGFuZ3VsYXIubW9kdWxlKFwiYXBwXCIpLmNvbnRyb2xsZXIoXCJwbGF5Q29udHJvbGxlclwiLCBbXCIkc2NvcGVcIiwgXCIkd2luZG93XCIsIFwic29ja2V0U2VydmljZVwiLCBcImRpc3BsYXlTZXJ2aWNlXCIsIFwicGxheWVyU2VydmljZVwiLCBwbGF5Q29udHJvbGxlcl0pXG59KSgpOyIsIi8qKlxuICogQ3JlYXRlZCBieSBqdXN0aWpuZGVwb3ZlciBvbiAwOS8xMi8xNS5cbiAqL1xuXG52YXIgU3BhY2VzaGlwID0gZnVuY3Rpb24oZ2FtZXJJZCwgeCwgeSl7XG4gICAgdGhpcy5vcmllbnRhdGlvbiA9IDA7XG4gICAgdGhpcy5nYW1lcklkID0gZ2FtZXJJZDtcbiAgICB0aGlzLnggPSB4O1xuICAgIHRoaXMueSA9IHk7XG59O1xuXG5TcGFjZXNoaXAucHJvdG90eXBlLm1vdmVTcGFjZXNoaXAgPSBmdW5jdGlvbih4LCB5KXtcbiAgICAvL21vdmUgdGhlIHNwYWNlc2hpcCBvbiB0aGUgY2FudmFzXG5cbn07IiwiLyoqXG4gKiBDcmVhdGVkIGJ5IGp1c3Rpam5kZXBvdmVyIG9uIDE2LzEyLzE1LlxuICovXG4oZnVuY3Rpb24oKXtcbiAgICB2YXIgY2FudmFzRGlyZWN0aXZlID0gZnVuY3Rpb24oJHdpbmRvdyl7XG4gICAgICAgIHJldHVybntcbiAgICAgICAgICAgIHJlc3RyaWN0OiAnRScsXG4gICAgICAgICAgICBsaW5rOmxpbmssXG4gICAgICAgICAgICByZXBsYWNlOnRydWUsXG4gICAgICAgICAgICB0ZW1wbGF0ZTonPGNhbnZhcyBjbGFzcz1cInBsYXlBcmVhXCIgd2lkdGg9XCJ7e3dpZHRofX1cIiBoZWlnaHQ9XCJ7e3dpZHRofX1cIiAvPidcbiAgICAgICAgfTtcblxuICAgICAgICBmdW5jdGlvbiBsaW5rKHNjb3BlLCBlbGVtZW50LCBhdHRycyl7XG4gICAgICAgICAgICBpZigkd2luZG93LmlubmVyV2lkdGggPCAkd2luZG93LmlubmVySGVpZ2h0KXtcbiAgICAgICAgICAgICAgICBzY29wZS53aWR0aCA9ICR3aW5kb3cuaW5uZXJXaWR0aCAtIDIwO1xuICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgc2NvcGUud2lkdGggPSAkd2luZG93LmlubmVySGVpZ2h0IC0gMjA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGFuZ3VsYXIuZWxlbWVudCgkd2luZG93KS5iaW5kKCdyZXNpemUnLCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIGlmKCR3aW5kb3cuaW5uZXJXaWR0aCA8ICR3aW5kb3cuaW5uZXJIZWlnaHQpe1xuICAgICAgICAgICAgICAgICAgICBzY29wZS53aWR0aCA9ICR3aW5kb3cuaW5uZXJXaWR0aCAtIDIwO1xuICAgICAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgICAgICBzY29wZS53aWR0aCA9ICR3aW5kb3cuaW5uZXJIZWlnaHQgLSAyMDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBzY29wZS4kZGlnZXN0KCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBhbmd1bGFyLm1vZHVsZSgnYXBwJykuZGlyZWN0aXZlKFwiY2FudmFzRGlyZWN0aXZlXCIsIFtcIiR3aW5kb3dcIiwgY2FudmFzRGlyZWN0aXZlXSk7XG59KSgpOyIsIi8qKlxuICogQ3JlYXRlZCBieSBNaWNoaWVsIG9uIDE2LzEyLzIwMTUuXG4gKi9cbi8qKlxuICogQ3JlYXRlZCBieSBqdXN0aWpuZGVwb3ZlciBvbiAxNi8xMi8xNS5cbiAqL1xuXG5cbihmdW5jdGlvbigpe1xuICAgIHZhciBkaXNwbGF5U2VydmljZSA9IGZ1bmN0aW9uKCl7XG4gICAgICAgIC8vTG9naW4gQ29udHJvbGxlclxuICAgICAgICB2YXIgTENTaG93ID0gdHJ1ZTtcbiAgICAgICAgLy9QbGF5IGNvbnRyb2xsZXJcbiAgICAgICAgdmFyIFBDU2hvdyA9IGZhbHNlO1xuXG4gICAgICAgIHJldHVybntcbiAgICAgICAgICAgIGdldExDU2hvdzogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICByZXR1cm4gTENTaG93O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldExDU2hvdzogZnVuY3Rpb24odmFsdWUpe1xuICAgICAgICAgICAgICAgIExDU2hvdyA9IHZhbHVlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldFBDU2hvdzogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICByZXR1cm4gUENTaG93O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldFBDU2hvdzogZnVuY3Rpb24odmFsdWUpe1xuICAgICAgICAgICAgICAgIFBDU2hvdyA9IHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIGFuZ3VsYXIubW9kdWxlKCdhcHAnKS5mYWN0b3J5KCdkaXNwbGF5U2VydmljZScsIFtkaXNwbGF5U2VydmljZV0pO1xufSkoKTsiLCIvKipcbiAqIENyZWF0ZWQgYnkganVzdGlqbmRlcG92ZXIgb24gMTcvMTIvMTUuXG4gKi9cblxuKGZ1bmN0aW9uKCl7XG4gICAgdmFyIHBsYXllclNlcnZpY2UgPSBmdW5jdGlvbigpe1xuICAgICAgICAvL0xvZ2luIENvbnRyb2xsZXJcbiAgICAgICAgdmFyIHBsYXllcnMgPSBbXTtcblxuICAgICAgICByZXR1cm57XG4gICAgICAgICAgICBnZXRQbGF5ZXJzOiBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIHJldHVybiBwbGF5ZXJzO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldFBsYXllcnM6IGZ1bmN0aW9uKHBsYXllcnNBcnJheSl7XG4gICAgICAgICAgICAgICAgcGxheWVycyA9IHBsYXllcnNBcnJheTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBhbmd1bGFyLm1vZHVsZSgnYXBwJykuZmFjdG9yeSgncGxheWVyU2VydmljZScsIFtwbGF5ZXJTZXJ2aWNlXSk7XG59KSgpOyIsIi8qKlxuICogQ3JlYXRlZCBieSBqdXN0aWpuZGVwb3ZlciBvbiAwOS8xMi8xNS5cbiAqL1xuXG4oZnVuY3Rpb24oKXtcblxuICAgIHZhciBzb2NrZXRTZXJ2aWNlID0gZnVuY3Rpb24oJHJvb3RTY29wZSl7XG4gICAgICAgIFwidXNlIHN0cmljdFwiO1xuICAgICAgICAvL3ByaXZhdGVcbiAgICAgICAgdmFyIHNvY2tldCA9IGlvLmNvbm5lY3Qod2luZG93LmxvY2F0aW9uLmhvc3QpO1xuICAgICAgICAvL2Z1bmN0aW9uc1xuICAgICAgICB2YXIgb24gPSBmdW5jdGlvbiAoZXZlbnROYW1lLCBjYWxsYmFjaykge1xuICAgICAgICAgICAgc29ja2V0Lm9uKGV2ZW50TmFtZSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzO1xuICAgICAgICAgICAgICAgICRyb290U2NvcGUuJGFwcGx5KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2suYXBwbHkoc29ja2V0LCBhcmdzKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBlbWl0ID0gZnVuY3Rpb24gKGV2ZW50TmFtZSwgZGF0YSwgY2FsbGJhY2spIHtcbiAgICAgICAgICAgIHNvY2tldC5lbWl0KGV2ZW50TmFtZSwgZGF0YSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzO1xuICAgICAgICAgICAgICAgICRyb290U2NvcGUuJGFwcGx5KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjay5hcHBseShzb2NrZXQsIGFyZ3MpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KVxuICAgICAgICB9O1xuXG4gICAgICAgIC8vcHVibGljXG4gICAgICAgIHJldHVybntcbiAgICAgICAgICAgIG9uOiBvbixcbiAgICAgICAgICAgIGVtaXQ6IGVtaXQsXG4gICAgICAgICAgICBzb2NrZXQ6IHNvY2tldFxuICAgICAgICB9XG4gICAgfTtcblxuICAgIGFuZ3VsYXIubW9kdWxlKFwiYXBwXCIpLmZhY3RvcnkoXCJzb2NrZXRTZXJ2aWNlXCIsIFtcIiRyb290U2NvcGVcIiwgc29ja2V0U2VydmljZV0pO1xuXG59KSgpOyJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
