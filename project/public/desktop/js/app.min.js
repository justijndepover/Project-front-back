!function(){angular.module("app",[])}(),function(){var e=function(e,t,a,i){e.LCShow=a.getLCShow;var o=function(){t.emit("pcconnect",null)};e.room="",t.on("requestRoom",function(t){e.room=t}),t.on("deviceOrientation",function(e){var t=(e.username,{});t.gamma=e.gamma,t.beta=e.beta,t.alpha=e.alpha}),e.usernames={},e.checkUserCount=!0,t.on("updateusers",function(t){i.setPlayers(t),e.usernames=t,e.checkUserCount=Object.keys(e.usernames).length<2}),e.startGame=function(){t.emit("startGame",null),a.setLCShow(!1),a.setPCShow(!0)},function(){o()}()};angular.module("app").controller("loginController",["$scope","socketService","displayService","playerService",e])}(),function(){"use strict";var e=function(e,t,a,i,o,r){function s(){var e=Math.floor(100*Math.random());for(var t in w)if(Math.abs(w[t].x-e)<10)return s();return e}function h(){var e=Math.floor(100*Math.random());for(var t in w)if(Math.abs(w[t].y-e)<10)return h();return e}function n(e,t){return t.username===e.userName}function d(){w.length>0,0===M?(M=Math.floor(500*Math.random()+500),x.push(new Powerup(Math.floor(100*Math.random()),Math.floor(100*Math.random()),Math.ceil(3*Math.random()),Math.floor(2*Math.random())))):M--,f.clearRect(0,0,u.width,u.height);var e=u.width/100;if(0!==x.length)for(var t in x){var a=x[t];a.width=u.width/50,a.height=a.width*a.image.height/a.image.width,f.save(),f.translate(a.x*e,a.y*e),f.drawImage(a.image,-a.width/2,-a.height/2,a.width,a.height),f.restore(),a.decreaseDuration(),0===a.duration&&x.splice(t,1)}if(0!==y.length){var i=u.width/100,o=i*y[0].image.height/y[0].image.width;for(var r in y){var s=y[r];s.width=i,s.height=o,0===s.explodeStage?(f.save(),f.translate(s.x*e,s.y*e),f.rotate(s.rotation/180*Math.PI),f.drawImage(s.image,-i/2,-o/2,i,o),f.restore(),y[r].x=Math.cos((s.rotation-90)/180*Math.PI)+s.x,y[r].y=Math.sin((s.rotation-90)/180*Math.PI)+s.y):s.explodeStage<4&&(f.save(),f.translate(s.x*e,s.y*e),f.drawImage(s.explosionImage,-i,-i,2*i,2*i),f.restore())}}if(0!==w.length){var h=u.width/20,n=h*w[0].image.height/w[0].image.width;for(var d in w){var g=w[d];if(g.width=h,g.height=n,f.save(),f.translate(g.x*e,g.y*e),-1===g.explodeStage?(f.rotate(g.rotation/180*Math.PI),f.drawImage(g.image,-h/2,-n/2,h,n)):w[d].explode(),g.damage>0&&g.explodeStage<=140&&f.drawImage(g.damageImage,-h/2,-n/2,h,n),g.damage<4&&(w[d].x=Math.cos((g.rotation-90)/180*Math.PI)/10*g.speed+g.x,w[d].y=Math.sin((g.rotation-90)/180*Math.PI)/10*g.speed+g.y),g.shield&&-1===g.explodeStage){var c=1.5*h,m=c/g.shieldImage.width*g.shieldImage.height;f.drawImage(g.shieldImage,-c/2,-m/2,c,m)}w[d].checkPowerup(),f.restore()}}if(v.length>0)for(var S in v){var I=v[S];if(I.width=u.width/700*I.image.width,I.height=I.width*I.image.height/I.image.width,f.save(),f.translate(I.x*e,I.y*e),f.rotate(I.rotation/180*Math.PI),f.drawImage(I.image,-I.width/2,-I.height/2,I.width,I.height),f.restore(),I.x<-5||I.x>105||I.y<-5||I.y>105){var P=Math.random();.25>P?(v[S].x=-4,v[S].y=Math.floor(100*Math.random()),v[S].rotation=Math.floor(180*Math.random())):.5>P?(v[S].x=Math.floor(100*Math.random()),v[S].y=-4,v[S].rotation=Math.floor(180*Math.random())+90):.75>P?(v[S].x=104,v[S].y=Math.floor(100*Math.random()),v[S].rotation=Math.floor(180*Math.random())+180):(v[S].x=Math.floor(100*Math.random()),v[S].y=104,v[S].rotation=Math.floor(180*Math.random())+270),v[S].speed=1,v[S].setImage(Math.ceil(18*Math.random()))}else v[S].x=Math.cos((I.rotation-90)/180*Math.PI)/30*v[S].speed+I.x,v[S].y=Math.sin((I.rotation-90)/180*Math.PI)/30*v[S].speed+I.y}l(),p()}function l(){for(var e in y)y[e].x<0||y[e].x>u.width||y[e].y<0||y[e].y>u.height?y.splice(e,1):y[e].explodeStage>0&&(y[e].explodeStage<4?y[e].explode():y.splice(e,1))}function p(){var e=[];for(var t in w)if(!(w[t].damage>=4)){var a=w[t].x*u.width/100,o=w[t].y*u.width/100,r=1;w[t].shield&&(r=1.5);var s={},h=new Audio("../../assets/Bonus/sfx_lose.ogg");for(var n in y)if(0===y[n].explodeStage&&y[n].player!=w[t].userName){var d=Math.sqrt(2)/2*(y[n].height/2-y[n].width/2),l=(360-y[n].rotation)/180*Math.PI,p=y[n].x*u.width/100-d*Math.sin(l),c=y[n].y*u.width/100-d*Math.cos(l),m=Math.sqrt((p-a)*(p-a)+(c-o)*(c-o));m<y[n].width/2+w[t].width/2*r&&(h.play(),w[t].shield||(w[t].increaseDamage(),s={},s.username=w[t].userName,s.life=3-w[t].damage,i.emit("playerLife",s)),y[n].explode())}for(var f in v){var M=v[f].x*u.width/100,S=v[f].y*u.width/100,I=Math.sqrt((M-a)*(M-a)+(S-o)*(S-o));if(I<v[f].width/2+w[t].width/2*r){if(v[f].box===!1)if(v[f].box=!0,h.play(),w[t].shield){var P=-(180*Math.atan2(v[f].y-w[t].y,v[f].x-w[t].x)/Math.PI);P>-90&&0>P||P>90&&180>P?v[f].rotation=180+P:v[f].rotation=P,v[f].speed=6}else w[t].dead(),s={},s.username=w[t].userName,s.life=3-w[t].damage,i.emit("playerLife",s)}else I>v[f].width/2+w[t].width/2*r+100&&(v[f].box=!1)}for(var N in w)if(4!==w[N].damage&&N!=t){var G=w[N].x*u.width/100,b=w[N].y*u.width/100,C=1;w[N].shield&&(C=1.5);var k=Math.sqrt((G-a)*(G-a)+(b-o)*(b-o));k<w[N].width/2*C+w[t].width/2*r&&(h.play(),w[t].dead(),w[N].dead(),s={},s.username=w[t].userName,s.life=3-w[t].damage,i.emit("playerLife",s),s.username=w[N].userName,s.life=3-w[N].damage,i.emit("playerLife",s))}(w[t].x*u.width/100<w[t].height/2||w[t].x*u.width/100>u.width-w[t].height/2||w[t].y*u.width/100<w[t].height/2||w[t].y*u.width/100>u.width-w[t].height/2)&&(h.play(),w[t].dead(),s={},s.username=w[t].userName,s.life=3-w[t].damage,i.emit("playerLife",s));for(var L in x){var _=x[L].x*u.width/100,D=x[L].y*u.width/100,A=Math.sqrt((_-a)*(_-a)+(D-o)*(D-o));if(A<x[L].width/2+w[t].width/2){var $=new Audio("../../assets/Bonus/sfx_zap.ogg");if($.play(),1===x[L].boolSelf)for(var q in w)q!=t&&w[q].addPowerup(x[L]);else w[t].addPowerup(x[L]);3===x[L].type&&(s={},s.username=w[t].userName,s.life=3,i.emit("playerLife",s)),x.splice(L,1)}}w[t].damage<4&&e.push(w[t])}for(var B in v)for(var R in y)if(0===y[R].explodeStage&&y[R].player!=v[B].userName){var E=Math.sqrt(2)/2*(y[R].height/2-y[R].width/2),H=(360-y[R].rotation)/180*Math.PI,U=y[R].x*u.width/100-E*Math.sin(H),W=y[R].y*u.width/100-E*Math.cos(H),z=v[B].x*u.width/100,O=v[B].y*u.width/100,T=Math.sqrt((U-z)*(U-z)+(W-O)*(W-O));T<y[R].width/2+v[B].width/2&&(i.emit("playerLife",{username:v[B].userName,damage:3-v[B].damage}),y[R].explode())}e.length<=1&&g(e)}function g(a){angular.isDefined(m)&&(t.cancel(m),m=void 0),e.endGame=!0,1===a.length?(e.endGameText=a[0].userName+" is the winner!",i.emit("endGame",a[0].userName)):e.endGameText="No winners"}var c=[{x:10,y:10,rotation:135},{x:90,y:10,rotation:225},{x:90,y:90,rotation:315},{x:10,y:90,rotation:45}];e.PCShow=o.getPCShow,e.endGame=!1;var m,u=document.getElementById("game"),f=u.getContext("2d"),w=[],y=[],v=[],x=[];i.on("initGame",function(){var e=r.getPlayers(),a=0;for(var i in e){var o=e[i];w.push(new Spaceship(o.username,c[a].x,c[a].y,o.color,c[a].rotation)),a++}for(var n=0;15>n;n++)v.push(new Asteroid(s(),h(),Math.floor(361*Math.random()),Math.ceil(18*Math.random())));m=t(d,10)}),i.on("userleft",function(e){var t=null;for(var a in w)n(w[a],e)===!0&&(t=a);w.splice(t,1)}),i.on("updateGameData",function(e){var t=null;for(var a in w)n(w[a],e)===!0&&(t=a);null!==t&&w[t].rotateSpaceshipRelative(e.orientation)}),i.on("playerShot",function(t){if(e.endGame===!1){var a=null;for(var i in w)n(w[i],t)===!0&&(a=i);if(null!==a){var o=w[a],r=(360-(o.rotation+180))/180*Math.PI,s=o.x+u.width/400*Math.sin(r),h=o.y+u.width/400*Math.cos(r);y.push(new Bullet(s,h,o.rotation,o.color,o.userName));var d="../../assets/Bonus/sfx_laser2.ogg";a%2===0&&(d="../../assets/Bonus/sfx_laser1.ogg");var l=new Audio(d);l.play()}}});var M=Math.floor(500*Math.random()+500);e.restartGame=function(){e.endGame=!1;var a=0;for(var o in w)w[o].reset(c[a].x,c[a].y,c[a].rotation),a++;v=[];for(var r=0;15>r;r++)v.push(new Asteroid(s(),h(),Math.floor(361*Math.random()),Math.ceil(18*Math.random())));y=[],x=[],M=Math.floor(500*Math.random()+500),f.clearRect(0,0,u.width,u.height),i.emit("restartGame",null),m=t(d,10)}};angular.module("app").controller("playController",["$scope","$interval","$window","socketService","displayService","playerService",e])}(),function(){var e=function(e){function t(t,a,i){e.innerWidth<e.innerHeight?t.width=e.innerWidth-20:t.width=e.innerHeight-20,angular.element(e).bind("resize",function(){e.innerWidth<e.innerHeight?t.width=e.innerWidth-20:t.width=e.innerHeight-20,t.$digest()})}return{restrict:"E",link:t,replace:!0,template:'<canvas id="game" class="playArea" width="{{width}}" height="{{width}}" />'}};angular.module("app").directive("canvasDirective",["$window",e])}();var Bullet=function(e,t,a,i,o){this.x=e,this.y=t,this.rotation=a,this.image=new Image,this.color=i,this.width=0,this.height=0,this.player=o,this.explosionImage=new Image,this.explodeStage=0,"orange"==this.color&&(this.color="red"),this.image.src="../assets/PNG/Lasers/laser"+this.color.charAt(0).toUpperCase()+this.color.slice(1)+"01.png"};Bullet.prototype.explode=function(){if(this.explodeStage<4){this.explodeStage++;var e;e=this.explodeStage<3?1:2,this.explosionImage.src="../assets/PNG/Lasers/laser"+this.color.charAt(0).toUpperCase()+this.color.slice(1)+"Explode"+e+".png"}else this.explosionImage.src=""};var Powerup=function(e,t,a,i){this.x=e,this.y=t,this.width=0,this.height=0,this.type=a,this.duration=1e3,this.playerduration=1e3;var o;switch(this.image=new Image,this.boolSelf=i,a){case 1:o="bolt_";break;case 2:o="shield_";break;case 3:o="star_"}switch(i){case 0:o+="gold.png";break;case 1:o+="silver.png"}this.image.src="../assets/PNG/Power-ups/"+o};Powerup.prototype.decreaseDuration=function(){this.duration>0&&this.duration--};var Spaceship=function(e,t,a,i,o){this.userName=e,this.x=t,this.y=a,this.speed=1,this.color=i,this.rotation=o,this.image=new Image,this.damage=0,this.width=0,this.height=0,this.powerups=[],this.shield=!1,this.shieldImage=new Image,this.shieldImage.src="../assets/PNG/Effects/shield1.png",this.damageImage=new Image,this.image.src="../assets/PNG/playerShip1_"+this.color+".png",this.explodeStage=-1};Spaceship.prototype.reset=function(e,t,a){this.speed=1,this.damage=0,this.damageImage=new Image,this.image.src="../assets/PNG/playerShip1_"+this.color+".png",this.x=e,this.y=t,this.rotation=a,this.shield=!1,this.explodeStage=-1},Spaceship.prototype.moveSpaceship=function(e,t){this.x=e,this.y=t},Spaceship.prototype.moveSpaceshipRelative=function(e,t){this.x=this.x+e,this.y=this.y+t},Spaceship.prototype.rotateSpaceship=function(e){this.rotation=e},Spaceship.prototype.rotateSpaceshipRelative=function(e){e>80?e=80:-80>e&&(e=-80),this.rotation=this.rotation+e/5,this.rotation<-360&&(this.rotation=this.rotation+720),this.rotation>360&&(this.rotation=this.rotation-720)},Spaceship.prototype.increaseDamage=function(){this.damage<4&&(this.damage+=1),this.damage<=3&&this.damage>0?this.damageImage.src="../assets/PNG/Damage/playerShip1_damage"+this.damage+".png":4==this.damage&&this.explode()},Spaceship.prototype.dead=function(){this.damage=4,this.explode()},Spaceship.prototype.explode=function(){this.explodeStage<=140&&(this.explodeStage++,this.damageImage.src="../assets/PNG/Damage/frame"+Math.floor(this.explodeStage/10)+".gif")},Spaceship.prototype.decreaseDamage=function(){this.damage>0&&(this.damage-=1),this.damage<=3&&this.damage>0&&(this.damageImage.src="../assets/PNG/Damage/playerShip1_damage"+this.damage+".png")},Spaceship.prototype.addPowerup=function(e){switch(e.type){case 1:this.speed++,this.powerups.push(e);break;case 2:this.shield=!0,this.powerups.push(e);break;case 3:this.damage=0,this.damageImage.src=""}},Spaceship.prototype.checkPowerup=function(){for(var e in this.powerups)if(this.powerups[e].playerduration>0)this.powerups[e].playerduration--;else{switch(this.powerups[e].type){case 1:this.speed--;break;case 2:this.shield=!1}console.log("-------------"),console.log(this.powerups),this.powerups.splice(e,1),console.log(this.powerups)}};var Asteroid=function(e,t,a,i){this.x=e,this.y=t,this.width=0,this.height=0,this.rotation=a,this.stage=i,this.image=new Image,this.image.src="../assets/PNG/Meteors/meteor_"+i+".png",this.speed=1,this.box=!1};Asteroid.prototype.setImage=function(e){this.stage=e,this.image.src="../assets/PNG/Meteors/meteor_"+e+".png"},function(){var e=function(){var e=!0,t=!1;return{getLCShow:function(){return e},setLCShow:function(t){e=t},getPCShow:function(){return t},setPCShow:function(e){t=e}}};angular.module("app").factory("displayService",[e])}(),function(){var e=function(){var e=[];return{getPlayers:function(){return e},setPlayers:function(t){e=t}}};angular.module("app").factory("playerService",[e])}(),function(){var e=function(e){"use strict";var t=io.connect(window.location.host),a=function(a,i){t.on(a,function(){var a=arguments;e.$apply(function(){i.apply(t,a)})})},i=function(a,i,o){t.emit(a,i,function(){var a=arguments;e.$apply(function(){o&&o.apply(t,a)})})};return{on:a,emit:i,socket:t}};angular.module("app").factory("socketService",["$rootScope",e])}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsImNvbnRyb2xsZXIvbG9naW5Db250cm9sbGVyLmpzIiwiY29udHJvbGxlci9wbGF5Q29udHJvbGxlci5qcyIsImRpcmVjdGl2ZXMvY2FudmFzRGlyZWN0aXZlLmpzIiwibW9kZWxzL0J1bGxldC5qcyIsIm1vZGVscy9Qb3dlcnVwLmpzIiwibW9kZWxzL1NwYWNlc2hpcC5qcyIsIm1vZGVscy9hc3RlcmlvZC5qcyIsInNlcnZpY2VzL2Rpc3BsYXlTZXJ2aWNlLmpzIiwic2VydmljZXMvcGxheWVyU2VydmljZS5qcyIsInNlcnZpY2VzL3NvY2tldFNlcnZpY2UuanMiXSwibmFtZXMiOlsiYW5ndWxhciIsIm1vZHVsZSIsImxvZ2luQ29udHJvbGxlciIsIiRzY29wZSIsInNvY2tldFNlcnZpY2UiLCJkaXNwbGF5U2VydmljZSIsInBsYXllclNlcnZpY2UiLCJMQ1Nob3ciLCJnZXRMQ1Nob3ciLCJtYWtlUm9vbSIsImVtaXQiLCJyb29tIiwib24iLCJkYXRhIiwiZGV2aWNlT3JpZW50YXRpb24iLCJ1c2VybmFtZSIsImdhbW1hIiwiYmV0YSIsImFscGhhIiwidXNlcm5hbWVzIiwiY2hlY2tVc2VyQ291bnQiLCJzZXRQbGF5ZXJzIiwiT2JqZWN0Iiwia2V5cyIsImxlbmd0aCIsInN0YXJ0R2FtZSIsInNldExDU2hvdyIsInNldFBDU2hvdyIsImNvbnRyb2xsZXIiLCJwbGF5Q29udHJvbGxlciIsIiRpbnRlcnZhbCIsIiR3aW5kb3ciLCJjcmVhdGVDb29yZGluYXRlWCIsIngiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJwIiwiQWxsUGxheWVycyIsImFicyIsImNyZWF0ZUNvb3JkaW5hdGVZIiwieSIsImZpbHRlclBsYXllcnMiLCJvYmoiLCJ1c2VyTmFtZSIsImRyYXciLCJQb3dlcnVwU3Bhd25UaW1lIiwiQWxsUG93ZXJVcHMiLCJwdXNoIiwiUG93ZXJ1cCIsImNlaWwiLCJjdHgiLCJjbGVhclJlY3QiLCJjYW52Iiwid2lkdGgiLCJoZWlnaHQiLCJyYXRpbyIsInBvd2VydXAiLCJpbWFnZSIsInNhdmUiLCJ0cmFuc2xhdGUiLCJkcmF3SW1hZ2UiLCJyZXN0b3JlIiwiZGVjcmVhc2VEdXJhdGlvbiIsImR1cmF0aW9uIiwic3BsaWNlIiwiQWxsQnVsbGV0cyIsIkJ1bGxldFdpZHRoIiwiQnVsbGV0SGVpZ2h0IiwiYnVsbGV0IiwiYiIsImV4cGxvZGVTdGFnZSIsInJvdGF0ZSIsInJvdGF0aW9uIiwiUEkiLCJjb3MiLCJzaW4iLCJleHBsb3Npb25JbWFnZSIsIlNwYWNlc2hpcFdpZHRoIiwiU3BhY2VzaGlwSGVpZ2h0IiwicGxheWVyIiwicGwiLCJleHBsb2RlIiwiZGFtYWdlIiwiZGFtYWdlSW1hZ2UiLCJzcGVlZCIsInNoaWVsZCIsIlNoaWVsZFdpZHRoIiwiU2hpZWxkSGVpZ2h0Iiwic2hpZWxkSW1hZ2UiLCJjaGVja1Bvd2VydXAiLCJBbGxBc3Rlcm9pZHMiLCJBc3Rlcm9pZCIsImEiLCJrZXV6ZSIsInNldEltYWdlIiwiY2hlY2tCdWxsZXRzIiwiY29sbGlzaW9uRGV0ZWN0aW9uIiwibGl2aW5nUGxheWVycyIsInNwYWNlU2hpcFgiLCJzcGFjZVNoaXBZIiwic2hpZWxkUmF0aW8iLCJkYW1hZ2Vzb3VuZCIsIkF1ZGlvIiwicmFkaXVzIiwic3FydCIsImFuZ2xlIiwiYnVsbGV0SGVhZFgiLCJidWxsZXRIZWFkWSIsImRpc3RhbmNlIiwicGxheSIsImluY3JlYXNlRGFtYWdlIiwibGlmZSIsImFzdGVyb2lkWCIsImFzdGVyb2lkWSIsImRpc3RhbmNlUEEiLCJib3giLCJhbmdsZVAiLCJhdGFuMiIsImRlYWQiLCJhcCIsInNwYWNlU2hpcDFYIiwic3BhY2VTaGlwMVkiLCJzaGllbGRSYXRpbzEiLCJkaXN0YW5jZVBQIiwicHUiLCJwb3dlcnVwWCIsInBvd2VydXBZIiwiZGlzdGFuY2VQUFUiLCJwb3dlcnVwU291bmQiLCJib29sU2VsZiIsImFkZFBvd2VydXAiLCJ0eXBlIiwiYWEiLCJhYiIsInJhZGl1c0IiLCJhbmdsZUIiLCJhQnVsbGV0SGVhZFgiLCJhQnVsbGV0SGVhZFkiLCJhc3Rlcm9pZGFYIiwiYXN0ZXJvaWRhWSIsImRpc3RhbmNlQkEiLCJlbmRHYW1lIiwiaXNEZWZpbmVkIiwiY3ljbGUiLCJjYW5jZWwiLCJ1bmRlZmluZWQiLCJlbmRHYW1lVGV4dCIsImRlZmF1bHRWYXJzIiwiUENTaG93IiwiZ2V0UENTaG93IiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImdldENvbnRleHQiLCJCdWZmZXJQbGF5ZXIiLCJnZXRQbGF5ZXJzIiwidGVsbGVyIiwiU3BhY2VzaGlwIiwiY29sb3IiLCJpIiwicm90YXRlU3BhY2VzaGlwUmVsYXRpdmUiLCJvcmllbnRhdGlvbiIsInRlbXAiLCJCdWxsZXQiLCJhdWRpb1VybCIsInNob3QiLCJyZXN0YXJ0R2FtZSIsInJlc2V0IiwiY2FudmFzRGlyZWN0aXZlIiwibGluayIsInNjb3BlIiwiZWxlbWVudCIsImF0dHJzIiwiaW5uZXJXaWR0aCIsImlubmVySGVpZ2h0IiwiYmluZCIsIiRkaWdlc3QiLCJyZXN0cmljdCIsInJlcGxhY2UiLCJ0ZW1wbGF0ZSIsImRpcmVjdGl2ZSIsInRoaXMiLCJJbWFnZSIsInNyYyIsImNoYXJBdCIsInRvVXBwZXJDYXNlIiwic2xpY2UiLCJwcm90b3R5cGUiLCJudW1iZXIiLCJwbGF5ZXJkdXJhdGlvbiIsImltYWdlVHlwZSIsInBvd2VydXBzIiwibW92ZVNwYWNlc2hpcCIsIm1vdmVTcGFjZXNoaXBSZWxhdGl2ZSIsInJvdGF0ZVNwYWNlc2hpcCIsImRlZ3JlZSIsImRlY3JlYXNlRGFtYWdlIiwiY29uc29sZSIsImxvZyIsInN0YWdlIiwidmFsdWUiLCJmYWN0b3J5IiwicGxheWVycyIsInBsYXllcnNBcnJheSIsIiRyb290U2NvcGUiLCJzb2NrZXQiLCJpbyIsImNvbm5lY3QiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsImhvc3QiLCJldmVudE5hbWUiLCJjYWxsYmFjayIsImFyZ3MiLCJhcmd1bWVudHMiLCIkYXBwbHkiLCJhcHBseSJdLCJtYXBwaW5ncyI6IkNBR0Es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OiJhcHAubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDcmVhdGVkIGJ5IE1pY2hpZWwgb24gMjUvMTEvMjAxNS5cbiAqL1xuKGZ1bmN0aW9uKCl7XG5cbiAgICB2YXIgYXBwID0gYW5ndWxhci5tb2R1bGUoXCJhcHBcIixbXSk7XG59KSgpOyIsIi8qKlxuICogQ3JlYXRlZCBieSBNaWNoaWVsIG9uIDExLzEyLzIwMTUuXG4gKi9cblxuKGZ1bmN0aW9uKCl7XG4gICAgdmFyIGxvZ2luQ29udHJvbGxlciA9IGZ1bmN0aW9uKCRzY29wZSwgc29ja2V0U2VydmljZSwgZGlzcGxheVNlcnZpY2UsIHBsYXllclNlcnZpY2Upe1xuXG4gICAgICAgICRzY29wZS5MQ1Nob3cgPSBkaXNwbGF5U2VydmljZS5nZXRMQ1Nob3c7XG5cbiAgICAgICAgLy9mdW5jdGlvbnNcbiAgICAgICAgdmFyIG1ha2VSb29tID0gZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHNvY2tldFNlcnZpY2UuZW1pdChcInBjY29ubmVjdFwiLCBudWxsKTtcbiAgICAgICAgfTtcbiAgICAgICAgJHNjb3BlLnJvb20gPSBcIlwiO1xuICAgICAgICBzb2NrZXRTZXJ2aWNlLm9uKCdyZXF1ZXN0Um9vbScsZnVuY3Rpb24oZGF0YSl7XG4gICAgICAgICAgICAkc2NvcGUucm9vbSA9IGRhdGE7XG4gICAgICAgIH0pO1xuICAgICAgICBzb2NrZXRTZXJ2aWNlLm9uKCdkZXZpY2VPcmllbnRhdGlvbicsIGZ1bmN0aW9uKGRhdGEpe1xuICAgICAgICAgICAgdmFyIHVzZXJuYW1lID0gZGF0YS51c2VybmFtZTtcbiAgICAgICAgICAgIHZhciBkZXZpY2VPcmllbnRhdGlvbiA9IHt9O1xuICAgICAgICAgICAgZGV2aWNlT3JpZW50YXRpb24uZ2FtbWEgPSBkYXRhLmdhbW1hO1xuICAgICAgICAgICAgZGV2aWNlT3JpZW50YXRpb24uYmV0YSA9IGRhdGEuYmV0YTtcbiAgICAgICAgICAgIGRldmljZU9yaWVudGF0aW9uLmFscGhhID0gZGF0YS5hbHBoYTtcbiAgICAgICAgfSk7XG4gICAgICAgICRzY29wZS51c2VybmFtZXMgPSB7fTtcbiAgICAgICAgJHNjb3BlLmNoZWNrVXNlckNvdW50ID0gdHJ1ZTtcbiAgICAgICAgc29ja2V0U2VydmljZS5vbigndXBkYXRldXNlcnMnLCBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgcGxheWVyU2VydmljZS5zZXRQbGF5ZXJzKGRhdGEpO1xuICAgICAgICAgICAgJHNjb3BlLnVzZXJuYW1lcyA9IGRhdGE7XG4gICAgICAgICAgICAkc2NvcGUuY2hlY2tVc2VyQ291bnQgPSBPYmplY3Qua2V5cygkc2NvcGUudXNlcm5hbWVzKS5sZW5ndGggPCAyO1xuICAgICAgICB9KTtcblxuICAgICAgICAkc2NvcGUuc3RhcnRHYW1lPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBzb2NrZXRTZXJ2aWNlLmVtaXQoXCJzdGFydEdhbWVcIiwgbnVsbCk7XG4gICAgICAgICAgICBkaXNwbGF5U2VydmljZS5zZXRMQ1Nob3coZmFsc2UpO1xuICAgICAgICAgICAgZGlzcGxheVNlcnZpY2Uuc2V0UENTaG93KHRydWUpO1xuICAgICAgICB9O1xuXG5cbiAgICAgICAgKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgbWFrZVJvb20oKTtcbiAgICAgICAgfSkoKTtcblxuICAgIH07XG5cbiAgICBhbmd1bGFyLm1vZHVsZShcImFwcFwiKS5jb250cm9sbGVyKFwibG9naW5Db250cm9sbGVyXCIsIFtcIiRzY29wZVwiLCBcInNvY2tldFNlcnZpY2VcIiAsIFwiZGlzcGxheVNlcnZpY2VcIiwgXCJwbGF5ZXJTZXJ2aWNlXCIsIGxvZ2luQ29udHJvbGxlcl0pO1xufSkoKTsiLCIvKipcbiAqIENyZWF0ZWQgYnkgTWljaGllbCBvbiAxNi8xMi8yMDE1LlxuICovXG5cbihmdW5jdGlvbigpe1xuICAgIFwidXNlIHN0cmljdFwiO1xuICAgIHZhciBwbGF5Q29udHJvbGxlciA9IGZ1bmN0aW9uKCRzY29wZSwgJGludGVydmFsLCAkd2luZG93LCBzb2NrZXRTZXJ2aWNlLCBkaXNwbGF5U2VydmljZSwgcGxheWVyU2VydmljZSl7XG4gICAgICAgIHZhciBkZWZhdWx0VmFycyA9IFt7eDoxMCwgeToxMCxyb3RhdGlvbjoxMzV9LHt4OjkwLCB5OjEwLHJvdGF0aW9uOjIyNX0se3g6OTAsIHk6OTAscm90YXRpb246MzE1fSx7eDoxMCwgeTo5MCxyb3RhdGlvbjo0NX1dO1xuICAgICAgICAkc2NvcGUuUENTaG93ID0gZGlzcGxheVNlcnZpY2UuZ2V0UENTaG93O1xuICAgICAgICAkc2NvcGUuZW5kR2FtZSA9IGZhbHNlO1xuICAgICAgICB2YXIgY2FudiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdnYW1lJyk7XG4gICAgICAgIHZhciBjdHggPSBjYW52LmdldENvbnRleHQoJzJkJyk7XG5cbiAgICAgICAgdmFyIEFsbFBsYXllcnMgPSBbXTtcbiAgICAgICAgdmFyIEFsbEJ1bGxldHMgPSBbXTtcbiAgICAgICAgdmFyIEFsbEFzdGVyb2lkcyA9IFtdO1xuICAgICAgICB2YXIgQWxsUG93ZXJVcHMgPSBbXTtcblxuICAgICAgICB2YXIgY3ljbGU7XG5cbiAgICAgICAgc29ja2V0U2VydmljZS5vbihcImluaXRHYW1lXCIsIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICB2YXIgQnVmZmVyUGxheWVyID0gcGxheWVyU2VydmljZS5nZXRQbGF5ZXJzKCk7XG4gICAgICAgICAgICB2YXIgdGVsbGVyPSAwO1xuICAgICAgICAgICAgZm9yKHZhciBwbGF5ZXIgaW4gQnVmZmVyUGxheWVyKXtcbiAgICAgICAgICAgICAgICB2YXIgcCA9IEJ1ZmZlclBsYXllcltwbGF5ZXJdO1xuICAgICAgICAgICAgICAgIEFsbFBsYXllcnMucHVzaChuZXcgU3BhY2VzaGlwKHAudXNlcm5hbWUsIGRlZmF1bHRWYXJzW3RlbGxlcl0ueCwgZGVmYXVsdFZhcnNbdGVsbGVyXS55LCBwLmNvbG9yLCBkZWZhdWx0VmFyc1t0ZWxsZXJdLnJvdGF0aW9uKSk7XG4gICAgICAgICAgICAgICAgdGVsbGVyKys7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZvcih2YXIgaSA9IDA7IGk8MTU7IGkrKyl7XG4gICAgICAgICAgICAgICAgQWxsQXN0ZXJvaWRzLnB1c2gobmV3IEFzdGVyb2lkKGNyZWF0ZUNvb3JkaW5hdGVYKCksIGNyZWF0ZUNvb3JkaW5hdGVZKCksIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSozNjEpLCBNYXRoLmNlaWwoTWF0aC5yYW5kb20oKSoxOCkpKTtcbiAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICBjeWNsZSA9ICRpbnRlcnZhbChkcmF3LCAxMCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGZ1bmN0aW9uIGNyZWF0ZUNvb3JkaW5hdGVYKCl7XG4gICAgICAgICAgICB2YXIgeCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSoxMDApO1xuICAgICAgICAgICAgZm9yKHZhciBwIGluIEFsbFBsYXllcnMpe1xuICAgICAgICAgICAgICAgIGlmKE1hdGguYWJzKEFsbFBsYXllcnNbcF0ueCAtIHgpIDwgMTApe1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlQ29vcmRpbmF0ZVgoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4geDtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGNyZWF0ZUNvb3JkaW5hdGVZKCl7XG4gICAgICAgICAgICB2YXIgeSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSoxMDApO1xuICAgICAgICAgICAgZm9yKHZhciBwIGluIEFsbFBsYXllcnMpe1xuICAgICAgICAgICAgICAgIGlmKE1hdGguYWJzKEFsbFBsYXllcnNbcF0ueSAtIHkpIDwgMTApe1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlQ29vcmRpbmF0ZVkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4geTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNvY2tldFNlcnZpY2Uub24oXCJ1c2VybGVmdFwiLCBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgdmFyIHAgPSBudWxsO1xuICAgICAgICAgICAgZm9yKHZhciBpIGluIEFsbFBsYXllcnMpe1xuICAgICAgICAgICAgICAgIGlmKGZpbHRlclBsYXllcnMoQWxsUGxheWVyc1tpXSxkYXRhKSA9PT0gdHJ1ZSl7XG4gICAgICAgICAgICAgICAgICAgIHAgPSBpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIEFsbFBsYXllcnMuc3BsaWNlKHAsMSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHNvY2tldFNlcnZpY2Uub24oXCJ1cGRhdGVHYW1lRGF0YVwiLCBmdW5jdGlvbihkYXRhKXtcbiAgICAgICAgICAgIHZhciBwID0gbnVsbDtcbiAgICAgICAgICAgIGZvcih2YXIgaSBpbiBBbGxQbGF5ZXJzKXtcbiAgICAgICAgICAgICAgICBpZihmaWx0ZXJQbGF5ZXJzKEFsbFBsYXllcnNbaV0sZGF0YSkgPT09IHRydWUpe1xuICAgICAgICAgICAgICAgICAgICBwID0gaTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZihwICE9PSBudWxsKXtcbiAgICAgICAgICAgICAgICBBbGxQbGF5ZXJzW3BdLnJvdGF0ZVNwYWNlc2hpcFJlbGF0aXZlKGRhdGEub3JpZW50YXRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBzb2NrZXRTZXJ2aWNlLm9uKFwicGxheWVyU2hvdFwiLCBmdW5jdGlvbihkYXRhKXtcbiAgICAgICAgICAgIGlmKCRzY29wZS5lbmRHYW1lPT09ZmFsc2UpIHtcbiAgICAgICAgICAgICAgICB2YXIgcCA9IG51bGw7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSBpbiBBbGxQbGF5ZXJzKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChmaWx0ZXJQbGF5ZXJzKEFsbFBsYXllcnNbaV0sIGRhdGEpID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwID0gaTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IEFsbFBsYXllcnNbcF07XG4gICAgICAgICAgICAgICAgICAgIHZhciBhbmdsZSA9ICgzNjAgLSAodGVtcC5yb3RhdGlvbiArIDE4MCkpIC8gMTgwICogTWF0aC5QSTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHggPSB0ZW1wLnggKyAoY2Fudi53aWR0aCAvIDQwMCAqIE1hdGguc2luKGFuZ2xlKSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciB5ID0gdGVtcC55ICsgKGNhbnYud2lkdGggLyA0MDAgKiBNYXRoLmNvcyhhbmdsZSkpO1xuICAgICAgICAgICAgICAgICAgICBBbGxCdWxsZXRzLnB1c2gobmV3IEJ1bGxldCh4LCB5LCB0ZW1wLnJvdGF0aW9uLCB0ZW1wLmNvbG9yLCB0ZW1wLnVzZXJOYW1lKSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBhdWRpb1VybCA9ICcuLi8uLi9hc3NldHMvQm9udXMvc2Z4X2xhc2VyMi5vZ2cnO1xuICAgICAgICAgICAgICAgICAgICBpZiAocCAlIDIgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF1ZGlvVXJsID0gJy4uLy4uL2Fzc2V0cy9Cb251cy9zZnhfbGFzZXIxLm9nZyc7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdmFyIHNob3QgPSBuZXcgQXVkaW8oYXVkaW9VcmwpO1xuICAgICAgICAgICAgICAgICAgICBzaG90LnBsYXkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGZ1bmN0aW9uIGZpbHRlclBsYXllcnMob2JqLGRhdGEpe1xuICAgICAgICAgICAgcmV0dXJuIGRhdGEudXNlcm5hbWUgPT09IG9iai51c2VyTmFtZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBQb3dlcnVwU3Bhd25UaW1lID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKjUwMCArIDUwMCk7XG5cbiAgICAgICAgZnVuY3Rpb24gZHJhdygpe1xuICAgICAgICAgICAgaWYoQWxsUGxheWVycy5sZW5ndGg+MCl7XG4gICAgICAgICAgICAgICAgLy9BbGxQbGF5ZXJzWzBdLnNwZWVkID0gMDtcbiAgICAgICAgICAgICAgICAvL0FsbFBsYXllcnNbMV0uc3BlZWQgPSAwO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZihQb3dlcnVwU3Bhd25UaW1lID09PSAwKXtcbiAgICAgICAgICAgICAgICBQb3dlcnVwU3Bhd25UaW1lID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKjUwMCArIDUwMCk7XG4gICAgICAgICAgICAgICAgQWxsUG93ZXJVcHMucHVzaChuZXcgUG93ZXJ1cChNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqMTAwKSxNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqMTAwKSwgTWF0aC5jZWlsKE1hdGgucmFuZG9tKCkqMyksTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKjIpKSk7XG4gICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICBQb3dlcnVwU3Bhd25UaW1lIC0tO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjdHguY2xlYXJSZWN0KDAsMCxjYW52LndpZHRoLCBjYW52LmhlaWdodCk7XG4gICAgICAgICAgICB2YXIgcmF0aW8gPSBjYW52LndpZHRoLzEwMDtcblxuICAgICAgICAgICAgaWYoQWxsUG93ZXJVcHMubGVuZ3RoICE9PSAwKXtcbiAgICAgICAgICAgICAgICBmb3IodmFyIHBvd2VydXAgaW4gQWxsUG93ZXJVcHMpe1xuICAgICAgICAgICAgICAgICAgICB2YXIgcCA9IEFsbFBvd2VyVXBzW3Bvd2VydXBdO1xuICAgICAgICAgICAgICAgICAgICBwLndpZHRoID0gY2Fudi53aWR0aC81MDtcbiAgICAgICAgICAgICAgICAgICAgcC5oZWlnaHQgPSBwLndpZHRoICogcC5pbWFnZS5oZWlnaHQvIHAuaW1hZ2Uud2lkdGg7XG4gICAgICAgICAgICAgICAgICAgIGN0eC5zYXZlKCk7XG4gICAgICAgICAgICAgICAgICAgIGN0eC50cmFuc2xhdGUocC54KnJhdGlvLCBwLnkqcmF0aW8pO1xuICAgICAgICAgICAgICAgICAgICBjdHguZHJhd0ltYWdlKHAuaW1hZ2UsIC1wLndpZHRoLzIsIC1wLmhlaWdodC8yLCBwLndpZHRoLCBwLmhlaWdodCk7XG4gICAgICAgICAgICAgICAgICAgIGN0eC5yZXN0b3JlKCk7XG4gICAgICAgICAgICAgICAgICAgIHAuZGVjcmVhc2VEdXJhdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICBpZihwLmR1cmF0aW9uID09PSAwKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIEFsbFBvd2VyVXBzLnNwbGljZShwb3dlcnVwLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYoQWxsQnVsbGV0cy5sZW5ndGggIT09IDApe1xuICAgICAgICAgICAgICAgIHZhciBCdWxsZXRXaWR0aCA9IGNhbnYud2lkdGgvMTAwO1xuICAgICAgICAgICAgICAgIHZhciBCdWxsZXRIZWlnaHQgPSBCdWxsZXRXaWR0aCAqIEFsbEJ1bGxldHNbMF0uaW1hZ2UuaGVpZ2h0L0FsbEJ1bGxldHNbMF0uaW1hZ2Uud2lkdGg7XG5cbiAgICAgICAgICAgICAgICBmb3IodmFyIGJ1bGxldCBpbiBBbGxCdWxsZXRzKXtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGIgPSBBbGxCdWxsZXRzW2J1bGxldF07XG4gICAgICAgICAgICAgICAgICAgIGIud2lkdGggPSBCdWxsZXRXaWR0aDtcbiAgICAgICAgICAgICAgICAgICAgYi5oZWlnaHQgPSBCdWxsZXRIZWlnaHQ7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYoYi5leHBsb2RlU3RhZ2UgPT09IDApe1xuICAgICAgICAgICAgICAgICAgICAgICAgLy9EcmF3IGJ1bGxldFxuICAgICAgICAgICAgICAgICAgICAgICAgY3R4LnNhdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN0eC50cmFuc2xhdGUoYi54KnJhdGlvLCBiLnkqcmF0aW8pO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3R4LnJvdGF0ZShiLnJvdGF0aW9uLzE4MCpNYXRoLlBJKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN0eC5kcmF3SW1hZ2UoYi5pbWFnZSwgLUJ1bGxldFdpZHRoLzIsIC1CdWxsZXRIZWlnaHQvMiwgQnVsbGV0V2lkdGgsIEJ1bGxldEhlaWdodCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdHgucmVzdG9yZSgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBBbGxCdWxsZXRzW2J1bGxldF0ueCA9IE1hdGguY29zKChiLnJvdGF0aW9uIC0gOTApLzE4MCpNYXRoLlBJKSArIGIueDtcbiAgICAgICAgICAgICAgICAgICAgICAgIEFsbEJ1bGxldHNbYnVsbGV0XS55ID0gTWF0aC5zaW4oKGIucm90YXRpb24gLSA5MCkvMTgwKk1hdGguUEkpKyBiLnk7XG4gICAgICAgICAgICAgICAgICAgIH1lbHNlIGlmKGIuZXhwbG9kZVN0YWdlIDwgNCl7XG4gICAgICAgICAgICAgICAgICAgICAgICAvL0RyYXcgZXhwbG9zaW9uXG4gICAgICAgICAgICAgICAgICAgICAgICBjdHguc2F2ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3R4LnRyYW5zbGF0ZShiLngqcmF0aW8sIGIueSpyYXRpbyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdHguZHJhd0ltYWdlKGIuZXhwbG9zaW9uSW1hZ2UsIC1CdWxsZXRXaWR0aCwgLUJ1bGxldFdpZHRoLCBCdWxsZXRXaWR0aCoyLCBCdWxsZXRXaWR0aCoyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN0eC5yZXN0b3JlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmKEFsbFBsYXllcnMubGVuZ3RoICE9PSAwKXtcbiAgICAgICAgICAgICAgICB2YXIgU3BhY2VzaGlwV2lkdGggPSBjYW52LndpZHRoLzIwO1xuICAgICAgICAgICAgICAgIHZhciBTcGFjZXNoaXBIZWlnaHQgPSBTcGFjZXNoaXBXaWR0aCAqIEFsbFBsYXllcnNbMF0uaW1hZ2UuaGVpZ2h0LyBBbGxQbGF5ZXJzWzBdLmltYWdlLndpZHRoO1xuXG4gICAgICAgICAgICAgICAgZm9yKHZhciBwbGF5ZXIgaW4gQWxsUGxheWVycyl7XG4gICAgICAgICAgICAgICAgICAgIHZhciBwbCA9IEFsbFBsYXllcnNbcGxheWVyXTtcbiAgICAgICAgICAgICAgICAgICAgcGwud2lkdGggPSBTcGFjZXNoaXBXaWR0aDtcbiAgICAgICAgICAgICAgICAgICAgcGwuaGVpZ2h0ID0gU3BhY2VzaGlwSGVpZ2h0O1xuICAgICAgICAgICAgICAgICAgICBjdHguc2F2ZSgpO1xuICAgICAgICAgICAgICAgICAgICBjdHgudHJhbnNsYXRlKHBsLngqcmF0aW8sIHBsLnkqcmF0aW8pO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmKHBsLmV4cGxvZGVTdGFnZSA9PT0gLTEpe1xuICAgICAgICAgICAgICAgICAgICAgICAgY3R4LnJvdGF0ZShwbC5yb3RhdGlvbi8xODAqTWF0aC5QSSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdHguZHJhd0ltYWdlKHBsLmltYWdlLCAtU3BhY2VzaGlwV2lkdGgvMiwgLVNwYWNlc2hpcEhlaWdodC8yLCBTcGFjZXNoaXBXaWR0aCwgU3BhY2VzaGlwSGVpZ2h0KTtcbiAgICAgICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgICAgICBBbGxQbGF5ZXJzW3BsYXllcl0uZXhwbG9kZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmKHBsLmRhbWFnZSA+IDAgJiYgcGwuZXhwbG9kZVN0YWdlIDw9IDE0MCl7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdHguZHJhd0ltYWdlKHBsLmRhbWFnZUltYWdlLCAtU3BhY2VzaGlwV2lkdGgvMiwgLVNwYWNlc2hpcEhlaWdodC8yLCBTcGFjZXNoaXBXaWR0aCwgU3BhY2VzaGlwSGVpZ2h0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmKHBsLmRhbWFnZTw0KXtcbiAgICAgICAgICAgICAgICAgICAgICAgIEFsbFBsYXllcnNbcGxheWVyXS54ID0gTWF0aC5jb3MoKHBsLnJvdGF0aW9uIC0gOTApLzE4MCpNYXRoLlBJKS8xMCogcGwuc3BlZWQgKyBwbC54O1xuICAgICAgICAgICAgICAgICAgICAgICAgQWxsUGxheWVyc1twbGF5ZXJdLnkgPSBNYXRoLnNpbigocGwucm90YXRpb24gLSA5MCkvMTgwKk1hdGguUEkpLzEwKiBwbC5zcGVlZCArIHBsLnk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYocGwuc2hpZWxkICYmIHBsLmV4cGxvZGVTdGFnZSA9PT0gLTEpe1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIFNoaWVsZFdpZHRoID0gU3BhY2VzaGlwV2lkdGggKiAxLjU7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgU2hpZWxkSGVpZ2h0ID0gU2hpZWxkV2lkdGggLyBwbC5zaGllbGRJbWFnZS53aWR0aCAqIHBsLnNoaWVsZEltYWdlLmhlaWdodDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN0eC5kcmF3SW1hZ2UocGwuc2hpZWxkSW1hZ2UsIC1TaGllbGRXaWR0aC8yLCAtU2hpZWxkSGVpZ2h0LzIsIFNoaWVsZFdpZHRoLCBTaGllbGRIZWlnaHQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIEFsbFBsYXllcnNbcGxheWVyXS5jaGVja1Bvd2VydXAoKTtcbiAgICAgICAgICAgICAgICAgICAgY3R4LnJlc3RvcmUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmKEFsbEFzdGVyb2lkcy5sZW5ndGg+MCl7XG4gICAgICAgICAgICAgICAgZm9yKHZhciBBc3Rlcm9pZCBpbiBBbGxBc3Rlcm9pZHMpe1xuICAgICAgICAgICAgICAgICAgICB2YXIgYSA9IEFsbEFzdGVyb2lkc1tBc3Rlcm9pZF07XG4gICAgICAgICAgICAgICAgICAgIGEud2lkdGggPSBjYW52LndpZHRoLzcwMCogYS5pbWFnZS53aWR0aDtcbiAgICAgICAgICAgICAgICAgICAgYS5oZWlnaHQgPSBhLndpZHRoKiBhLmltYWdlLmhlaWdodC8gYS5pbWFnZS53aWR0aDtcbiAgICAgICAgICAgICAgICAgICAgY3R4LnNhdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgY3R4LnRyYW5zbGF0ZShhLngqcmF0aW8sIGEueSpyYXRpbyk7XG4gICAgICAgICAgICAgICAgICAgIGN0eC5yb3RhdGUoYS5yb3RhdGlvbi8xODAqTWF0aC5QSSk7XG4gICAgICAgICAgICAgICAgICAgIGN0eC5kcmF3SW1hZ2UoYS5pbWFnZSwgLWEud2lkdGgvMiwgLWEuaGVpZ2h0LzIsIGEud2lkdGgsIGEuaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICAgICAgY3R4LnJlc3RvcmUoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYoYS54IDwgLTUgfHwgYS54ID4gMTA1IHx8IGEueSA8IC01IHx8IGEueSA+IDEwNSl7XG4gICAgICAgICAgICAgICAgICAgICAgICAvL25pZXV3ZSBhc3Rlcm9pZCB0ZWtlbmVuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIga2V1emUgPSBNYXRoLnJhbmRvbSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYoa2V1emUgPCAwLjI1KXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2xpbmtzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQWxsQXN0ZXJvaWRzW0FzdGVyb2lkXS54ID0gLTQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQWxsQXN0ZXJvaWRzW0FzdGVyb2lkXS55ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKjEwMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQWxsQXN0ZXJvaWRzW0FzdGVyb2lkXS5yb3RhdGlvbiA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSoxODApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2UgaWYoa2V1emUgPCAwLjUpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vYm92ZW5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBBbGxBc3Rlcm9pZHNbQXN0ZXJvaWRdLnggPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqMTAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBBbGxBc3Rlcm9pZHNbQXN0ZXJvaWRdLnkgPSAtNDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBBbGxBc3Rlcm9pZHNbQXN0ZXJvaWRdLnJvdGF0aW9uID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKjE4MCkgKyA5MDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNlIGlmKGtldXplIDwgMC43NSl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9yZWNodHNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBBbGxBc3Rlcm9pZHNbQXN0ZXJvaWRdLnggPSAxMDQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQWxsQXN0ZXJvaWRzW0FzdGVyb2lkXS55ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKjEwMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQWxsQXN0ZXJvaWRzW0FzdGVyb2lkXS5yb3RhdGlvbiA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSoxODApICsgMTgwO1xuICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9vbmRlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFsbEFzdGVyb2lkc1tBc3Rlcm9pZF0ueCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSoxMDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFsbEFzdGVyb2lkc1tBc3Rlcm9pZF0ueSA9IDEwNDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBBbGxBc3Rlcm9pZHNbQXN0ZXJvaWRdLnJvdGF0aW9uID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKjE4MCkgKyAyNzA7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBBbGxBc3Rlcm9pZHNbQXN0ZXJvaWRdLnNwZWVkID0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIEFsbEFzdGVyb2lkc1tBc3Rlcm9pZF0uc2V0SW1hZ2UoTWF0aC5jZWlsKE1hdGgucmFuZG9tKCkqMTgpKTtcblxuICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgICAgIEFsbEFzdGVyb2lkc1tBc3Rlcm9pZF0ueCA9IE1hdGguY29zKChhLnJvdGF0aW9uIC0gOTApLzE4MCpNYXRoLlBJKS8zMCpBbGxBc3Rlcm9pZHNbQXN0ZXJvaWRdLnNwZWVkICsgYS54O1xuICAgICAgICAgICAgICAgICAgICAgICAgQWxsQXN0ZXJvaWRzW0FzdGVyb2lkXS55ID0gTWF0aC5zaW4oKGEucm90YXRpb24gLSA5MCkvMTgwKk1hdGguUEkpLzMwKkFsbEFzdGVyb2lkc1tBc3Rlcm9pZF0uc3BlZWQgKyBhLnk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNoZWNrQnVsbGV0cygpO1xuXG4gICAgICAgICAgICBjb2xsaXNpb25EZXRlY3Rpb24oKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGNoZWNrQnVsbGV0cygpe1xuICAgICAgICAgICAgZm9yKHZhciBiIGluIEFsbEJ1bGxldHMpe1xuICAgICAgICAgICAgICAgIGlmKEFsbEJ1bGxldHNbYl0ueCA8IDAgfHwgQWxsQnVsbGV0c1tiXS54ID4gY2Fudi53aWR0aCB8fCBBbGxCdWxsZXRzW2JdLnkgPCAwIHx8IEFsbEJ1bGxldHNbYl0ueSA+IGNhbnYuaGVpZ2h0KXtcbiAgICAgICAgICAgICAgICAgICAgQWxsQnVsbGV0cy5zcGxpY2UoYiwgMSk7XG4gICAgICAgICAgICAgICAgfWVsc2UgaWYoQWxsQnVsbGV0c1tiXS5leHBsb2RlU3RhZ2UgPjApIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKEFsbEJ1bGxldHNbYl0uZXhwbG9kZVN0YWdlIDwgNCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgQWxsQnVsbGV0c1tiXS5leHBsb2RlKCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBBbGxCdWxsZXRzLnNwbGljZShiLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGNvbGxpc2lvbkRldGVjdGlvbigpe1xuICAgICAgICAgICAgLy9QbGF5ZXIgLSBCdWxsZXRcbiAgICAgICAgICAgIHZhciBsaXZpbmdQbGF5ZXJzPVtdO1xuICAgICAgICAgICAgZm9yKHZhciBwIGluIEFsbFBsYXllcnMpe1xuICAgICAgICAgICAgICAgIGlmKEFsbFBsYXllcnNbcF0uZGFtYWdlPj00KXtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBzcGFjZVNoaXBYID0gQWxsUGxheWVyc1twXS54ICogY2Fudi53aWR0aCAvIDEwMDtcbiAgICAgICAgICAgICAgICB2YXIgc3BhY2VTaGlwWSA9IEFsbFBsYXllcnNbcF0ueSAqIGNhbnYud2lkdGggLyAxMDA7XG4gICAgICAgICAgICAgICAgdmFyIHNoaWVsZFJhdGlvID0gMTtcbiAgICAgICAgICAgICAgICBpZihBbGxQbGF5ZXJzW3BdLnNoaWVsZCl7XG4gICAgICAgICAgICAgICAgICAgIHNoaWVsZFJhdGlvID0gMS41O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IHt9O1xuICAgICAgICAgICAgICAgIHZhciBkYW1hZ2Vzb3VuZCA9IG5ldyBBdWRpbygnLi4vLi4vYXNzZXRzL0JvbnVzL3NmeF9sb3NlLm9nZycpO1xuXG4gICAgICAgICAgICAgICAgZm9yKHZhciBiIGluIEFsbEJ1bGxldHMpe1xuICAgICAgICAgICAgICAgICAgICBpZihBbGxCdWxsZXRzW2JdLmV4cGxvZGVTdGFnZSA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKEFsbEJ1bGxldHNbYl0ucGxheWVyICE9IEFsbFBsYXllcnNbcF0udXNlck5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmFkaXVzID0gTWF0aC5zcXJ0KDIpIC8gMiAqIChBbGxCdWxsZXRzW2JdLmhlaWdodCAvIDIgLSBBbGxCdWxsZXRzW2JdLndpZHRoIC8gMik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFuZ2xlID0gKDM2MCAtIChBbGxCdWxsZXRzW2JdLnJvdGF0aW9uKSkgLyAxODAgKiBNYXRoLlBJO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBidWxsZXRIZWFkWCA9IChBbGxCdWxsZXRzW2JdLnggKiBjYW52LndpZHRoIC8gMTAwIC0gKHJhZGl1cyAqIE1hdGguc2luKGFuZ2xlKSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBidWxsZXRIZWFkWSA9IChBbGxCdWxsZXRzW2JdLnkgKiBjYW52LndpZHRoIC8gMTAwIC0gKHJhZGl1cyAqIE1hdGguY29zKGFuZ2xlKSkpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRpc3RhbmNlID0gTWF0aC5zcXJ0KChidWxsZXRIZWFkWCAtIHNwYWNlU2hpcFgpICogKGJ1bGxldEhlYWRYIC0gc3BhY2VTaGlwWCkgKyAoYnVsbGV0SGVhZFkgLSBzcGFjZVNoaXBZKSAqIChidWxsZXRIZWFkWSAtIHNwYWNlU2hpcFkpKTtcblxuXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGlzdGFuY2UgPCAoQWxsQnVsbGV0c1tiXS53aWR0aCAvIDIgKyBBbGxQbGF5ZXJzW3BdLndpZHRoIC8gMiAqIHNoaWVsZFJhdGlvKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYW1hZ2Vzb3VuZC5wbGF5KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCFBbGxQbGF5ZXJzW3BdLnNoaWVsZCl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBbGxQbGF5ZXJzW3BdLmluY3JlYXNlRGFtYWdlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhID0ge307XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLnVzZXJuYW1lID0gQWxsUGxheWVyc1twXS51c2VyTmFtZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEubGlmZSA9IDMtQWxsUGxheWVyc1twXS5kYW1hZ2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb2NrZXRTZXJ2aWNlLmVtaXQoXCJwbGF5ZXJMaWZlXCIsZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQWxsQnVsbGV0c1tiXS5leHBsb2RlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vUGxheWVyIC0gQXN0ZXJvaWRcbiAgICAgICAgICAgICAgICBmb3IodmFyIGEgaW4gQWxsQXN0ZXJvaWRzKXtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFzdGVyb2lkWCA9IEFsbEFzdGVyb2lkc1thXS54ICogY2Fudi53aWR0aCAvIDEwMDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFzdGVyb2lkWSA9IEFsbEFzdGVyb2lkc1thXS55ICogY2Fudi53aWR0aCAvIDEwMDtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgZGlzdGFuY2VQQSA9IE1hdGguc3FydCgoYXN0ZXJvaWRYIC0gc3BhY2VTaGlwWCkgKiAoYXN0ZXJvaWRYIC0gc3BhY2VTaGlwWCkgKyAoYXN0ZXJvaWRZIC0gc3BhY2VTaGlwWSkgKiAoYXN0ZXJvaWRZIC0gc3BhY2VTaGlwWSkpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChkaXN0YW5jZVBBIDwgKEFsbEFzdGVyb2lkc1thXS53aWR0aCAvIDIgKyBBbGxQbGF5ZXJzW3BdLndpZHRoIC8gMiAqIHNoaWVsZFJhdGlvKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYoQWxsQXN0ZXJvaWRzW2FdLmJveCA9PT0gZmFsc2Upe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFsbEFzdGVyb2lkc1thXS5ib3ggPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhbWFnZXNvdW5kLnBsYXkoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihBbGxQbGF5ZXJzW3BdLnNoaWVsZCl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhbmdsZVAgPSAtIChNYXRoLmF0YW4yKChBbGxBc3Rlcm9pZHNbYV0ueSAtIEFsbFBsYXllcnNbcF0ueSksKEFsbEFzdGVyb2lkc1thXS54IC0gQWxsUGxheWVyc1twXS54KSkqMTgwL01hdGguUEkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZigoYW5nbGVQID4gLTkwICYmIGFuZ2xlUCA8IDApIHx8IChhbmdsZVAgPiA5MCAmJiBhbmdsZVAgPCAxODApKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFsbEFzdGVyb2lkc1thXS5yb3RhdGlvbiA9IDE4MCArIGFuZ2xlUDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBbGxBc3Rlcm9pZHNbYV0ucm90YXRpb24gPSBhbmdsZVA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQWxsQXN0ZXJvaWRzW2FdLnNwZWVkID0gNjsvLypBbGxQbGF5ZXJzW3BdLnNwZWVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBbGxQbGF5ZXJzW3BdLmRlYWQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YSA9IHt9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLnVzZXJuYW1lID0gQWxsUGxheWVyc1twXS51c2VyTmFtZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5saWZlID0gMy1BbGxQbGF5ZXJzW3BdLmRhbWFnZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc29ja2V0U2VydmljZS5lbWl0KFwicGxheWVyTGlmZVwiLGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfWVsc2UgaWYoZGlzdGFuY2VQQSA+IChBbGxBc3Rlcm9pZHNbYV0ud2lkdGggLyAyICsgQWxsUGxheWVyc1twXS53aWR0aCAvIDIgKiBzaGllbGRSYXRpbyArIDEwMCkpe1xuICAgICAgICAgICAgICAgICAgICAgICAgQWxsQXN0ZXJvaWRzW2FdLmJveCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy9QbGF5ZXIgLSBQbGF5ZXJcbiAgICAgICAgICAgICAgICBmb3IodmFyIGFwIGluIEFsbFBsYXllcnMpe1xuICAgICAgICAgICAgICAgICAgICBpZihBbGxQbGF5ZXJzW2FwXS5kYW1hZ2UgPT09IDQpe1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYoYXAhPXApe1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNwYWNlU2hpcDFYID0gQWxsUGxheWVyc1thcF0ueCAqIGNhbnYud2lkdGggLyAxMDA7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3BhY2VTaGlwMVkgPSBBbGxQbGF5ZXJzW2FwXS55ICogY2Fudi53aWR0aCAvIDEwMDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNoaWVsZFJhdGlvMSA9IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZihBbGxQbGF5ZXJzW2FwXS5zaGllbGQpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNoaWVsZFJhdGlvMSA9IDEuNTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRpc3RhbmNlUFAgPSBNYXRoLnNxcnQoKHNwYWNlU2hpcDFYIC0gc3BhY2VTaGlwWCkgKiAoc3BhY2VTaGlwMVggLSBzcGFjZVNoaXBYKSArIChzcGFjZVNoaXAxWSAtIHNwYWNlU2hpcFkpICogKHNwYWNlU2hpcDFZIC0gc3BhY2VTaGlwWSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRpc3RhbmNlUFAgPCAoQWxsUGxheWVyc1thcF0ud2lkdGggLyAyICogc2hpZWxkUmF0aW8xICsgQWxsUGxheWVyc1twXS53aWR0aCAvIDIgKiBzaGllbGRSYXRpbykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYW1hZ2Vzb3VuZC5wbGF5KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQWxsUGxheWVyc1twXS5kZWFkKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQWxsUGxheWVyc1thcF0uZGVhZCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLnVzZXJuYW1lID0gQWxsUGxheWVyc1twXS51c2VyTmFtZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLmxpZmUgPSAzLUFsbFBsYXllcnNbcF0uZGFtYWdlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvY2tldFNlcnZpY2UuZW1pdChcInBsYXllckxpZmVcIixkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLnVzZXJuYW1lID0gQWxsUGxheWVyc1thcF0udXNlck5hbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5saWZlID0gMy1BbGxQbGF5ZXJzW2FwXS5kYW1hZ2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc29ja2V0U2VydmljZS5lbWl0KFwicGxheWVyTGlmZVwiLGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy9QbGF5ZXIgLSBXYWxsXG4gICAgICAgICAgICAgICAgaWYoQWxsUGxheWVyc1twXS54KmNhbnYud2lkdGgvMTAwIDwgQWxsUGxheWVyc1twXS5oZWlnaHQvMiB8fCBBbGxQbGF5ZXJzW3BdLngqY2Fudi53aWR0aC8xMDAgPiBjYW52LndpZHRoLShBbGxQbGF5ZXJzW3BdLmhlaWdodC8yKXx8XG4gICAgICAgICAgICAgICAgICAgIEFsbFBsYXllcnNbcF0ueSpjYW52LndpZHRoLzEwMCA8IEFsbFBsYXllcnNbcF0uaGVpZ2h0LzIgfHwgQWxsUGxheWVyc1twXS55KmNhbnYud2lkdGgvMTAwID4gY2Fudi53aWR0aC0oQWxsUGxheWVyc1twXS5oZWlnaHQvMikpe1xuICAgICAgICAgICAgICAgICAgICBkYW1hZ2Vzb3VuZC5wbGF5KCk7XG4gICAgICAgICAgICAgICAgICAgIEFsbFBsYXllcnNbcF0uZGVhZCgpO1xuICAgICAgICAgICAgICAgICAgICBkYXRhID0ge307XG4gICAgICAgICAgICAgICAgICAgIGRhdGEudXNlcm5hbWUgPSBBbGxQbGF5ZXJzW3BdLnVzZXJOYW1lO1xuICAgICAgICAgICAgICAgICAgICBkYXRhLmxpZmUgPSAzLUFsbFBsYXllcnNbcF0uZGFtYWdlO1xuICAgICAgICAgICAgICAgICAgICBzb2NrZXRTZXJ2aWNlLmVtaXQoXCJwbGF5ZXJMaWZlXCIsZGF0YSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy9QbGF5ZXIgLSBQb3dlcnVwXG4gICAgICAgICAgICAgICAgZm9yKHZhciBwdSBpbiBBbGxQb3dlclVwcyl7XG4gICAgICAgICAgICAgICAgICAgIHZhciBwb3dlcnVwWCA9IEFsbFBvd2VyVXBzW3B1XS54ICogY2Fudi53aWR0aCAvIDEwMDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBvd2VydXBZID0gQWxsUG93ZXJVcHNbcHVdLnkgKiBjYW52LndpZHRoIC8gMTAwO1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBkaXN0YW5jZVBQVSA9IE1hdGguc3FydCgocG93ZXJ1cFggLSBzcGFjZVNoaXBYKSAqIChwb3dlcnVwWCAtIHNwYWNlU2hpcFgpICsgKHBvd2VydXBZIC0gc3BhY2VTaGlwWSkgKiAocG93ZXJ1cFkgLSBzcGFjZVNoaXBZKSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkaXN0YW5jZVBQVSA8IChBbGxQb3dlclVwc1twdV0ud2lkdGggLyAyICsgQWxsUGxheWVyc1twXS53aWR0aCAvIDIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcG93ZXJ1cFNvdW5kID0gbmV3IEF1ZGlvKCcuLi8uLi9hc3NldHMvQm9udXMvc2Z4X3phcC5vZ2cnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvd2VydXBTb3VuZC5wbGF5KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZihBbGxQb3dlclVwc1twdV0uYm9vbFNlbGYgPT09IDEpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcih2YXIgcGxheWVyIGluIEFsbFBsYXllcnMpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihwbGF5ZXIgIT0gcCl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBbGxQbGF5ZXJzW3BsYXllcl0uYWRkUG93ZXJ1cChBbGxQb3dlclVwc1twdV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQWxsUGxheWVyc1twXS5hZGRQb3dlcnVwKEFsbFBvd2VyVXBzW3B1XSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZihBbGxQb3dlclVwc1twdV0udHlwZSA9PT0gMyl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YSA9IHt9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEudXNlcm5hbWUgPSBBbGxQbGF5ZXJzW3BdLnVzZXJOYW1lO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEubGlmZSA9IDM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc29ja2V0U2VydmljZS5lbWl0KFwicGxheWVyTGlmZVwiLCBkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIEFsbFBvd2VyVXBzLnNwbGljZShwdSwgMSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYoQWxsUGxheWVyc1twXS5kYW1hZ2U8NCl7XG4gICAgICAgICAgICAgICAgICAgIGxpdmluZ1BsYXllcnMucHVzaChBbGxQbGF5ZXJzW3BdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vQnVsbGV0IC0gQXN0ZXJvaWRcbiAgICAgICAgICAgIGZvcih2YXIgYWEgaW4gQWxsQXN0ZXJvaWRzKSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgYWIgaW4gQWxsQnVsbGV0cykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoQWxsQnVsbGV0c1thYl0uZXhwbG9kZVN0YWdlID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoQWxsQnVsbGV0c1thYl0ucGxheWVyICE9IEFsbEFzdGVyb2lkc1thYV0udXNlck5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmFkaXVzQiA9IE1hdGguc3FydCgyKSAvIDIgKiAoQWxsQnVsbGV0c1thYl0uaGVpZ2h0IC8gMiAtIEFsbEJ1bGxldHNbYWJdLndpZHRoIC8gMik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFuZ2xlQiA9ICgzNjAgLSAoQWxsQnVsbGV0c1thYl0ucm90YXRpb24pKSAvIDE4MCAqIE1hdGguUEk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFCdWxsZXRIZWFkWCA9IChBbGxCdWxsZXRzW2FiXS54ICogY2Fudi53aWR0aCAvIDEwMCAtIChyYWRpdXNCICogTWF0aC5zaW4oYW5nbGVCKSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhQnVsbGV0SGVhZFkgPSAoQWxsQnVsbGV0c1thYl0ueSAqIGNhbnYud2lkdGggLyAxMDAgLSAocmFkaXVzQiAqIE1hdGguY29zKGFuZ2xlQikpKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhc3Rlcm9pZGFYID0gQWxsQXN0ZXJvaWRzW2FhXS54ICogY2Fudi53aWR0aCAvIDEwMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYXN0ZXJvaWRhWSA9IEFsbEFzdGVyb2lkc1thYV0ueSAqIGNhbnYud2lkdGggLyAxMDA7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGlzdGFuY2VCQSA9IE1hdGguc3FydCgoYUJ1bGxldEhlYWRYIC0gYXN0ZXJvaWRhWCkgKiAoYUJ1bGxldEhlYWRYIC0gYXN0ZXJvaWRhWCkgKyAoYUJ1bGxldEhlYWRZIC0gYXN0ZXJvaWRhWSkgKiAoYUJ1bGxldEhlYWRZIC0gYXN0ZXJvaWRhWSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkaXN0YW5jZUJBIDwgKEFsbEJ1bGxldHNbYWJdLndpZHRoIC8gMiArIEFsbEFzdGVyb2lkc1thYV0ud2lkdGggLyAyKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb2NrZXRTZXJ2aWNlLmVtaXQoXCJwbGF5ZXJMaWZlXCIsIHt1c2VybmFtZTpBbGxBc3Rlcm9pZHNbYWFdLnVzZXJOYW1lLCBkYW1hZ2U6ICgzIC0gQWxsQXN0ZXJvaWRzW2FhXS5kYW1hZ2UpfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFsbEJ1bGxldHNbYWJdLmV4cGxvZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmKGxpdmluZ1BsYXllcnMubGVuZ3RoPD0xKXtcbiAgICAgICAgICAgICAgICBlbmRHYW1lKGxpdmluZ1BsYXllcnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gZW5kR2FtZShsaXZpbmdQbGF5ZXJzKXtcbiAgICAgICAgICAgIGlmIChhbmd1bGFyLmlzRGVmaW5lZChjeWNsZSkpIHtcbiAgICAgICAgICAgICAgICAkaW50ZXJ2YWwuY2FuY2VsKGN5Y2xlKTtcbiAgICAgICAgICAgICAgICBjeWNsZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICRzY29wZS5lbmRHYW1lPXRydWU7XG4gICAgICAgICAgICBpZihsaXZpbmdQbGF5ZXJzLmxlbmd0aD09PTEpIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUuZW5kR2FtZVRleHQgPSBsaXZpbmdQbGF5ZXJzWzBdLnVzZXJOYW1lICsgXCIgaXMgdGhlIHdpbm5lciFcIjtcbiAgICAgICAgICAgICAgICBzb2NrZXRTZXJ2aWNlLmVtaXQoXCJlbmRHYW1lXCIsIGxpdmluZ1BsYXllcnNbMF0udXNlck5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICAkc2NvcGUuZW5kR2FtZVRleHQgPSBcIk5vIHdpbm5lcnNcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAkc2NvcGUucmVzdGFydEdhbWUgPSBmdW5jdGlvbigpe1xuICAgICAgICAgICAgJHNjb3BlLmVuZEdhbWU9ZmFsc2U7XG4gICAgICAgICAgICB2YXIgdGVsbGVyPTA7XG4gICAgICAgICAgICBmb3IodmFyIHAgaW4gQWxsUGxheWVycyl7XG4gICAgICAgICAgICAgICAgQWxsUGxheWVyc1twXS5yZXNldChkZWZhdWx0VmFyc1t0ZWxsZXJdLngsZGVmYXVsdFZhcnNbdGVsbGVyXS55LGRlZmF1bHRWYXJzW3RlbGxlcl0ucm90YXRpb24pO1xuICAgICAgICAgICAgICAgIHRlbGxlcisrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgQWxsQXN0ZXJvaWRzPVtdO1xuICAgICAgICAgICAgZm9yKHZhciBpID0gMDsgaTwxNTsgaSsrKXtcbiAgICAgICAgICAgICAgICBBbGxBc3Rlcm9pZHMucHVzaChuZXcgQXN0ZXJvaWQoY3JlYXRlQ29vcmRpbmF0ZVgoKSwgY3JlYXRlQ29vcmRpbmF0ZVkoKSwgTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKjM2MSksIE1hdGguY2VpbChNYXRoLnJhbmRvbSgpKjE4KSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgQWxsQnVsbGV0cyA9IFtdO1xuICAgICAgICAgICAgQWxsUG93ZXJVcHMgPSBbXTtcbiAgICAgICAgICAgIFBvd2VydXBTcGF3blRpbWUgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqNTAwICsgNTAwKTtcblxuICAgICAgICAgICAgY3R4LmNsZWFyUmVjdCgwLDAsY2Fudi53aWR0aCwgY2Fudi5oZWlnaHQpO1xuICAgICAgICAgICAgc29ja2V0U2VydmljZS5lbWl0KFwicmVzdGFydEdhbWVcIixudWxsKTtcbiAgICAgICAgICAgIGN5Y2xlID0gJGludGVydmFsKGRyYXcsIDEwKTtcbiAgICAgICAgfTtcbiAgICB9O1xuXG4gICAgYW5ndWxhci5tb2R1bGUoXCJhcHBcIikuY29udHJvbGxlcihcInBsYXlDb250cm9sbGVyXCIsIFtcIiRzY29wZVwiLCBcIiRpbnRlcnZhbFwiLCBcIiR3aW5kb3dcIiwgXCJzb2NrZXRTZXJ2aWNlXCIsIFwiZGlzcGxheVNlcnZpY2VcIiwgXCJwbGF5ZXJTZXJ2aWNlXCIsIHBsYXlDb250cm9sbGVyXSk7XG59KSgpOyIsIi8qKlxuICogQ3JlYXRlZCBieSBqdXN0aWpuZGVwb3ZlciBvbiAxNi8xMi8xNS5cbiAqL1xuKGZ1bmN0aW9uKCl7XG4gICAgdmFyIGNhbnZhc0RpcmVjdGl2ZSA9IGZ1bmN0aW9uKCR3aW5kb3cpe1xuICAgICAgICByZXR1cm57XG4gICAgICAgICAgICByZXN0cmljdDogJ0UnLFxuICAgICAgICAgICAgbGluazpsaW5rLFxuICAgICAgICAgICAgcmVwbGFjZTp0cnVlLFxuICAgICAgICAgICAgdGVtcGxhdGU6JzxjYW52YXMgaWQ9XCJnYW1lXCIgY2xhc3M9XCJwbGF5QXJlYVwiIHdpZHRoPVwie3t3aWR0aH19XCIgaGVpZ2h0PVwie3t3aWR0aH19XCIgLz4nXG4gICAgICAgIH07XG5cbiAgICAgICAgZnVuY3Rpb24gbGluayhzY29wZSwgZWxlbWVudCwgYXR0cnMpe1xuICAgICAgICAgICAgaWYoJHdpbmRvdy5pbm5lcldpZHRoIDwgJHdpbmRvdy5pbm5lckhlaWdodCl7XG4gICAgICAgICAgICAgICAgc2NvcGUud2lkdGggPSAkd2luZG93LmlubmVyV2lkdGggLSAyMDtcbiAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgIHNjb3BlLndpZHRoID0gJHdpbmRvdy5pbm5lckhlaWdodCAtIDIwO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBhbmd1bGFyLmVsZW1lbnQoJHdpbmRvdykuYmluZCgncmVzaXplJywgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICBpZigkd2luZG93LmlubmVyV2lkdGggPCAkd2luZG93LmlubmVySGVpZ2h0KXtcbiAgICAgICAgICAgICAgICAgICAgc2NvcGUud2lkdGggPSAkd2luZG93LmlubmVyV2lkdGggLSAyMDtcbiAgICAgICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgc2NvcGUud2lkdGggPSAkd2luZG93LmlubmVySGVpZ2h0IC0gMjA7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgc2NvcGUuJGRpZ2VzdCgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgYW5ndWxhci5tb2R1bGUoJ2FwcCcpLmRpcmVjdGl2ZShcImNhbnZhc0RpcmVjdGl2ZVwiLCBbXCIkd2luZG93XCIsIGNhbnZhc0RpcmVjdGl2ZV0pO1xufSkoKTsiLCIvKipcbiAqIENyZWF0ZWQgYnkganVzdGlqbmRlcG92ZXIgb24gMjIvMTIvMTUuXG4gKi9cblxudmFyIEJ1bGxldCA9IGZ1bmN0aW9uKHgsIHkscm90YXRpb24sIGNvbG9yLCBwbGF5ZXIpe1xuICAgIHRoaXMueCA9IHg7XG4gICAgdGhpcy55ID0geTtcbiAgICB0aGlzLnJvdGF0aW9uID0gcm90YXRpb247XG4gICAgdGhpcy5pbWFnZSA9IG5ldyBJbWFnZSgpO1xuICAgIHRoaXMuY29sb3IgPSBjb2xvcjtcbiAgICB0aGlzLndpZHRoID0gMDtcbiAgICB0aGlzLmhlaWdodCA9IDA7XG4gICAgdGhpcy5wbGF5ZXIgPSBwbGF5ZXI7XG4gICAgdGhpcy5leHBsb3Npb25JbWFnZSA9IG5ldyBJbWFnZSgpO1xuICAgIHRoaXMuZXhwbG9kZVN0YWdlID0gMDtcbiAgICBpZih0aGlzLmNvbG9yID09IFwib3JhbmdlXCIpe1xuICAgICAgICB0aGlzLmNvbG9yID0gJ3JlZCc7XG4gICAgfVxuICAgIHRoaXMuaW1hZ2Uuc3JjID0gJy4uL2Fzc2V0cy9QTkcvTGFzZXJzL2xhc2VyJysgdGhpcy5jb2xvci5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHRoaXMuY29sb3Iuc2xpY2UoMSkgKycwMS5wbmcnO1xufTtcblxuQnVsbGV0LnByb3RvdHlwZS5leHBsb2RlID0gZnVuY3Rpb24oKXtcbiAgICBpZih0aGlzLmV4cGxvZGVTdGFnZSA8IDQpe1xuICAgICAgICB0aGlzLmV4cGxvZGVTdGFnZSsrO1xuICAgICAgICB2YXIgbnVtYmVyO1xuICAgICAgICBpZih0aGlzLmV4cGxvZGVTdGFnZSA8IDMpe1xuICAgICAgICAgICAgbnVtYmVyID0gMTtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICBudW1iZXIgPSAyO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZXhwbG9zaW9uSW1hZ2Uuc3JjID0gJy4uL2Fzc2V0cy9QTkcvTGFzZXJzL2xhc2VyJyArIHRoaXMuY29sb3IuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyB0aGlzLmNvbG9yLnNsaWNlKDEpICsgJ0V4cGxvZGUnKyBudW1iZXIgKycucG5nJztcbiAgICB9ZWxzZXtcbiAgICAgICAgdGhpcy5leHBsb3Npb25JbWFnZS5zcmMgPSAnJztcbiAgICB9XG59O1xuIiwiLyoqXG4gKiBDcmVhdGVkIGJ5IGp1c3Rpam5kZXBvdmVyIG9uIDA1LzAxLzE2LlxuICovXG5cblxudmFyIFBvd2VydXAgPSBmdW5jdGlvbih4LCB5LCB0eXBlLCBib29sU2VsZil7XG4gICAgdGhpcy54ID0geDtcbiAgICB0aGlzLnkgPSB5O1xuICAgIHRoaXMud2lkdGggPSAwO1xuICAgIHRoaXMuaGVpZ2h0ID0gMDtcbiAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgIHRoaXMuZHVyYXRpb24gPSAxMDAwO1xuICAgIHRoaXMucGxheWVyZHVyYXRpb24gPSAxMDAwO1xuICAgIHZhciBpbWFnZVR5cGU7XG4gICAgdGhpcy5pbWFnZSA9IG5ldyBJbWFnZSgpO1xuICAgIHRoaXMuYm9vbFNlbGYgPSBib29sU2VsZjtcbiAgICBzd2l0Y2godHlwZSl7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgIGltYWdlVHlwZSA9IFwiYm9sdF9cIjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICBpbWFnZVR5cGUgPSBcInNoaWVsZF9cIjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICBpbWFnZVR5cGUgPSBcInN0YXJfXCI7XG4gICAgICAgICAgICBicmVhaztcbiAgICB9XG5cbiAgICBzd2l0Y2goYm9vbFNlbGYpe1xuICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICBpbWFnZVR5cGUgKz0gXCJnb2xkLnBuZ1wiO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgIGltYWdlVHlwZSArPSBcInNpbHZlci5wbmdcIjtcbiAgICB9XG4gICAgdGhpcy5pbWFnZS5zcmMgPSBcIi4uL2Fzc2V0cy9QTkcvUG93ZXItdXBzL1wiICsgaW1hZ2VUeXBlO1xufTtcblxuUG93ZXJ1cC5wcm90b3R5cGUuZGVjcmVhc2VEdXJhdGlvbiA9IGZ1bmN0aW9uKCl7XG4gIGlmKHRoaXMuZHVyYXRpb24gPiAwKXtcbiAgICAgIHRoaXMuZHVyYXRpb24gLS07XG4gIH1cbn07IiwiLyoqXG4gKiBDcmVhdGVkIGJ5IGp1c3Rpam5kZXBvdmVyIG9uIDA5LzEyLzE1LlxuICovXG5cbnZhciBTcGFjZXNoaXAgPSBmdW5jdGlvbih1c2VyTmFtZSwgeCwgeSwgY29sb3IsIHJvdGF0aW9uKXtcbiAgICB0aGlzLnVzZXJOYW1lID0gdXNlck5hbWU7XG4gICAgdGhpcy54ID0geDtcbiAgICB0aGlzLnkgPSB5O1xuICAgIHRoaXMuc3BlZWQgPSAxO1xuICAgIHRoaXMuY29sb3IgPSBjb2xvcjtcbiAgICB0aGlzLnJvdGF0aW9uID0gcm90YXRpb247XG4gICAgdGhpcy5pbWFnZSA9IG5ldyBJbWFnZSgpO1xuICAgIHRoaXMuZGFtYWdlID0gMDtcbiAgICB0aGlzLndpZHRoID0gMDtcbiAgICB0aGlzLmhlaWdodCA9IDA7XG4gICAgdGhpcy5wb3dlcnVwcyA9IFtdO1xuICAgIHRoaXMuc2hpZWxkID0gZmFsc2U7XG4gICAgdGhpcy5zaGllbGRJbWFnZSA9IG5ldyBJbWFnZSgpO1xuICAgIHRoaXMuc2hpZWxkSW1hZ2Uuc3JjID0gXCIuLi9hc3NldHMvUE5HL0VmZmVjdHMvc2hpZWxkMS5wbmdcIjtcbiAgICB0aGlzLmRhbWFnZUltYWdlID0gbmV3IEltYWdlKCk7XG4gICAgdGhpcy5pbWFnZS5zcmMgPSAnLi4vYXNzZXRzL1BORy9wbGF5ZXJTaGlwMV8nKyB0aGlzLmNvbG9yICsnLnBuZyc7XG4gICAgdGhpcy5leHBsb2RlU3RhZ2UgPSAtMTtcbn07XG5cblNwYWNlc2hpcC5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAoeCwgeSwgcm90YXRpb24pIHtcbiAgICB0aGlzLnNwZWVkID0gMTtcbiAgICB0aGlzLmRhbWFnZSA9IDA7XG4gICAgdGhpcy5kYW1hZ2VJbWFnZSA9IG5ldyBJbWFnZSgpO1xuICAgIHRoaXMuaW1hZ2Uuc3JjID0gJy4uL2Fzc2V0cy9QTkcvcGxheWVyU2hpcDFfJysgdGhpcy5jb2xvciArJy5wbmcnO1xuICAgIHRoaXMueCA9IHg7XG4gICAgdGhpcy55ID0geTtcbiAgICB0aGlzLnJvdGF0aW9uID0gcm90YXRpb247XG4gICAgdGhpcy5zaGllbGQgPSBmYWxzZTtcbiAgICB0aGlzLmV4cGxvZGVTdGFnZSA9IC0xO1xufTtcblxuU3BhY2VzaGlwLnByb3RvdHlwZS5tb3ZlU3BhY2VzaGlwID0gZnVuY3Rpb24oeCwgeSl7XG4gICAgdGhpcy54ID0geDtcbiAgICB0aGlzLnkgPSB5O1xufTtcblxuU3BhY2VzaGlwLnByb3RvdHlwZS5tb3ZlU3BhY2VzaGlwUmVsYXRpdmUgPSBmdW5jdGlvbih4LCB5KXtcbiAgICB0aGlzLnggPSB0aGlzLngreDtcbiAgICB0aGlzLnkgPSB0aGlzLnkreTtcbn07XG5cblNwYWNlc2hpcC5wcm90b3R5cGUucm90YXRlU3BhY2VzaGlwID0gZnVuY3Rpb24oZGVncmVlKXtcbiAgICB0aGlzLnJvdGF0aW9uID0gZGVncmVlO1xufTtcblxuU3BhY2VzaGlwLnByb3RvdHlwZS5yb3RhdGVTcGFjZXNoaXBSZWxhdGl2ZSA9IGZ1bmN0aW9uKGRlZ3JlZSl7XG4gICAgaWYoZGVncmVlPjgwKXtcbiAgICAgICAgZGVncmVlPTgwO1xuICAgIH1lbHNlIGlmIChkZWdyZWU8LTgwKXtcbiAgICAgICAgZGVncmVlID0gLTgwO1xuICAgIH1cbiAgICB0aGlzLnJvdGF0aW9uID0gdGhpcy5yb3RhdGlvbiArIGRlZ3JlZS81O1xuICAgIGlmKHRoaXMucm90YXRpb24gPCAtMzYwKXtcbiAgICAgICAgdGhpcy5yb3RhdGlvbiA9IHRoaXMucm90YXRpb24gKyA3MjA7XG4gICAgfVxuICAgIGlmKHRoaXMucm90YXRpb24gPiAzNjApe1xuICAgICAgICB0aGlzLnJvdGF0aW9uID0gdGhpcy5yb3RhdGlvbiAtIDcyMDtcbiAgICB9XG59O1xuXG5TcGFjZXNoaXAucHJvdG90eXBlLmluY3JlYXNlRGFtYWdlID0gZnVuY3Rpb24oKXtcbiAgICBpZih0aGlzLmRhbWFnZSA8IDQpe1xuICAgICAgICB0aGlzLmRhbWFnZSArPSAxO1xuICAgIH1cblxuICAgIGlmKHRoaXMuZGFtYWdlIDw9IDMgJiYgdGhpcy5kYW1hZ2UgPiAwKXtcbiAgICAgICAgdGhpcy5kYW1hZ2VJbWFnZS5zcmMgPSAnLi4vYXNzZXRzL1BORy9EYW1hZ2UvcGxheWVyU2hpcDFfZGFtYWdlJysgdGhpcy5kYW1hZ2UgKyAnLnBuZyc7XG4gICAgfWVsc2UgaWYodGhpcy5kYW1hZ2U9PTQpe1xuICAgICAgICB0aGlzLmV4cGxvZGUoKTtcbiAgICB9XG59O1xuXG5TcGFjZXNoaXAucHJvdG90eXBlLmRlYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5kYW1hZ2UgPSA0O1xuICAgIHRoaXMuZXhwbG9kZSgpO1xufTtcblxuU3BhY2VzaGlwLnByb3RvdHlwZS5leHBsb2RlID0gZnVuY3Rpb24oKXtcbiAgICBpZih0aGlzLmV4cGxvZGVTdGFnZSA8PSAxNDApe1xuICAgICAgICB0aGlzLmV4cGxvZGVTdGFnZSArKztcbiAgICAgICAgdGhpcy5kYW1hZ2VJbWFnZS5zcmMgPSBcIi4uL2Fzc2V0cy9QTkcvRGFtYWdlL2ZyYW1lXCIgKyBNYXRoLmZsb29yKHRoaXMuZXhwbG9kZVN0YWdlLzEwKSArIFwiLmdpZlwiO1xuICAgIH1cbn07XG5cblNwYWNlc2hpcC5wcm90b3R5cGUuZGVjcmVhc2VEYW1hZ2UgPSBmdW5jdGlvbigpe1xuICAgIGlmKHRoaXMuZGFtYWdlID4gMCl7XG4gICAgICAgIHRoaXMuZGFtYWdlIC09IDE7XG4gICAgfVxuXG4gICAgaWYodGhpcy5kYW1hZ2UgPD0gMyAmJiB0aGlzLmRhbWFnZSA+IDApe1xuICAgICAgICB0aGlzLmRhbWFnZUltYWdlLnNyYyA9ICcuLi9hc3NldHMvUE5HL0RhbWFnZS9wbGF5ZXJTaGlwMV9kYW1hZ2UnKyB0aGlzLmRhbWFnZSArICcucG5nJztcbiAgICB9XG59O1xuXG5TcGFjZXNoaXAucHJvdG90eXBlLmFkZFBvd2VydXAgPSBmdW5jdGlvbihwb3dlcnVwKXtcbiAgICBzd2l0Y2gocG93ZXJ1cC50eXBlKXtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgdGhpcy5zcGVlZCArKztcbiAgICAgICAgICAgIHRoaXMucG93ZXJ1cHMucHVzaChwb3dlcnVwKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICB0aGlzLnNoaWVsZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLnBvd2VydXBzLnB1c2gocG93ZXJ1cCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgdGhpcy5kYW1hZ2UgPSAwO1xuICAgICAgICAgICAgdGhpcy5kYW1hZ2VJbWFnZS5zcmMgPSBcIlwiO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgfVxufTtcblxuU3BhY2VzaGlwLnByb3RvdHlwZS5jaGVja1Bvd2VydXAgPSBmdW5jdGlvbigpe1xuICAgIGZvcih2YXIgcCBpbiB0aGlzLnBvd2VydXBzKXtcbiAgICAgICAgaWYodGhpcy5wb3dlcnVwc1twXS5wbGF5ZXJkdXJhdGlvbiA+IDApe1xuICAgICAgICAgICAgdGhpcy5wb3dlcnVwc1twXS5wbGF5ZXJkdXJhdGlvbiAtLTtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICBzd2l0Y2godGhpcy5wb3dlcnVwc1twXS50eXBlKXtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3BlZWQgLS07XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zaGllbGQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIi0tLS0tLS0tLS0tLS1cIik7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnBvd2VydXBzKTtcbiAgICAgICAgICAgIHRoaXMucG93ZXJ1cHMuc3BsaWNlKHAsIDEpO1xuICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5wb3dlcnVwcyk7XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG4iLCIvKipcbiAqIENyZWF0ZWQgYnkganVzdGlqbmRlcG92ZXIgb24gMDkvMTIvMTUuXG4gKi9cblxuXG52YXIgQXN0ZXJvaWQgPSBmdW5jdGlvbih4LCB5LCByb3RhdGlvbiwgc3RhZ2Upe1xuICAgIHRoaXMueCA9IHg7XG4gICAgdGhpcy55ID0geTtcbiAgICB0aGlzLndpZHRoID0gMDtcbiAgICB0aGlzLmhlaWdodCA9IDA7XG4gICAgdGhpcy5yb3RhdGlvbiA9IHJvdGF0aW9uO1xuICAgIHRoaXMuc3RhZ2UgPSBzdGFnZTtcbiAgICB0aGlzLmltYWdlID0gbmV3IEltYWdlKCk7XG4gICAgdGhpcy5pbWFnZS5zcmMgPSAoXCIuLi9hc3NldHMvUE5HL01ldGVvcnMvbWV0ZW9yX1wiICsgc3RhZ2UgKyBcIi5wbmdcIik7XG4gICAgdGhpcy5zcGVlZCA9IDE7XG4gICAgdGhpcy5ib3ggPSBmYWxzZTtcbn07XG5cbkFzdGVyb2lkLnByb3RvdHlwZS5zZXRJbWFnZSA9IGZ1bmN0aW9uKHN0YWdlKXtcbiAgICB0aGlzLnN0YWdlID0gc3RhZ2U7XG4gICAgdGhpcy5pbWFnZS5zcmMgPSAoXCIuLi9hc3NldHMvUE5HL01ldGVvcnMvbWV0ZW9yX1wiICsgc3RhZ2UgKyBcIi5wbmdcIik7XG59OyIsIi8qKlxuICogQ3JlYXRlZCBieSBNaWNoaWVsIG9uIDE2LzEyLzIwMTUuXG4gKi9cbi8qKlxuICogQ3JlYXRlZCBieSBqdXN0aWpuZGVwb3ZlciBvbiAxNi8xMi8xNS5cbiAqL1xuXG5cbihmdW5jdGlvbigpe1xuICAgIHZhciBkaXNwbGF5U2VydmljZSA9IGZ1bmN0aW9uKCl7XG4gICAgICAgIC8vTG9naW4gQ29udHJvbGxlclxuICAgICAgICB2YXIgTENTaG93ID0gdHJ1ZTtcbiAgICAgICAgLy9QbGF5IGNvbnRyb2xsZXJcbiAgICAgICAgdmFyIFBDU2hvdyA9IGZhbHNlO1xuXG4gICAgICAgIHJldHVybntcbiAgICAgICAgICAgIGdldExDU2hvdzogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICByZXR1cm4gTENTaG93O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldExDU2hvdzogZnVuY3Rpb24odmFsdWUpe1xuICAgICAgICAgICAgICAgIExDU2hvdyA9IHZhbHVlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldFBDU2hvdzogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICByZXR1cm4gUENTaG93O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldFBDU2hvdzogZnVuY3Rpb24odmFsdWUpe1xuICAgICAgICAgICAgICAgIFBDU2hvdyA9IHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH07XG5cbiAgICBhbmd1bGFyLm1vZHVsZSgnYXBwJykuZmFjdG9yeSgnZGlzcGxheVNlcnZpY2UnLCBbZGlzcGxheVNlcnZpY2VdKTtcbn0pKCk7IiwiLyoqXG4gKiBDcmVhdGVkIGJ5IGp1c3Rpam5kZXBvdmVyIG9uIDE3LzEyLzE1LlxuICovXG5cbihmdW5jdGlvbigpe1xuICAgIHZhciBwbGF5ZXJTZXJ2aWNlID0gZnVuY3Rpb24oKXtcbiAgICAgICAgLy9Mb2dpbiBDb250cm9sbGVyXG4gICAgICAgIHZhciBwbGF5ZXJzID0gW107XG5cbiAgICAgICAgcmV0dXJue1xuICAgICAgICAgICAgZ2V0UGxheWVyczogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGxheWVycztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXRQbGF5ZXJzOiBmdW5jdGlvbihwbGF5ZXJzQXJyYXkpe1xuICAgICAgICAgICAgICAgIHBsYXllcnMgPSBwbGF5ZXJzQXJyYXk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfTtcblxuICAgIGFuZ3VsYXIubW9kdWxlKCdhcHAnKS5mYWN0b3J5KCdwbGF5ZXJTZXJ2aWNlJywgW3BsYXllclNlcnZpY2VdKTtcbn0pKCk7IiwiLyoqXG4gKiBDcmVhdGVkIGJ5IGp1c3Rpam5kZXBvdmVyIG9uIDA5LzEyLzE1LlxuICovXG5cbihmdW5jdGlvbigpe1xuXG4gICAgdmFyIHNvY2tldFNlcnZpY2UgPSBmdW5jdGlvbigkcm9vdFNjb3BlKXtcbiAgICAgICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgICAgIC8vcHJpdmF0ZVxuICAgICAgICB2YXIgc29ja2V0ID0gaW8uY29ubmVjdCh3aW5kb3cubG9jYXRpb24uaG9zdCk7XG4gICAgICAgIC8vZnVuY3Rpb25zXG4gICAgICAgIHZhciBvbiA9IGZ1bmN0aW9uIChldmVudE5hbWUsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICBzb2NrZXQub24oZXZlbnROYW1lLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgICAgICAgICAgICAgJHJvb3RTY29wZS4kYXBwbHkoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjay5hcHBseShzb2NrZXQsIGFyZ3MpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIGVtaXQgPSBmdW5jdGlvbiAoZXZlbnROYW1lLCBkYXRhLCBjYWxsYmFjaykge1xuICAgICAgICAgICAgc29ja2V0LmVtaXQoZXZlbnROYW1lLCBkYXRhLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgICAgICAgICAgICAgJHJvb3RTY29wZS4kYXBwbHkoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrLmFwcGx5KHNvY2tldCwgYXJncyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vcHVibGljXG4gICAgICAgIHJldHVybntcbiAgICAgICAgICAgIG9uOiBvbixcbiAgICAgICAgICAgIGVtaXQ6IGVtaXQsXG4gICAgICAgICAgICBzb2NrZXQ6IHNvY2tldFxuICAgICAgICB9O1xuICAgIH07XG5cbiAgICBhbmd1bGFyLm1vZHVsZShcImFwcFwiKS5mYWN0b3J5KFwic29ja2V0U2VydmljZVwiLCBbXCIkcm9vdFNjb3BlXCIsIHNvY2tldFNlcnZpY2VdKTtcblxufSkoKTsiXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
