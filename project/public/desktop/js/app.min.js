!function(){angular.module("app",[])}(),function(){var e=function(e,t,a,i){e.LCShow=a.getLCShow;var r=function(){t.emit("pcconnect",null)};e.room="",t.on("requestRoom",function(t){e.room=t}),t.on("deviceOrientation",function(e){var t=(e.username,{});t.gamma=e.gamma,t.beta=e.beta,t.alpha=e.alpha}),e.usernames={},e.checkUserCount=!1,t.on("updateusers",function(t){i.setPlayers(t),e.usernames=t,e.checkUserCount=Object.keys(e.usernames).length<0}),e.startGame=function(){t.emit("startGame",null),a.setLCShow(!1),a.setPCShow(!0)},function(){r()}()};angular.module("app").controller("loginController",["$scope","socketService","displayService","playerService",e])}(),function(){"use strict";var e=function(e,t,a,i,r,o){function s(){var e=Math.floor(100*Math.random());for(var t in w)if(Math.abs(w[t].x-e)<10)return s();return e}function h(){var e=Math.floor(100*Math.random());for(var t in w)if(Math.abs(w[t].y-e)<10)return h();return e}function n(e,t){return t.username==e.userName}function d(){w.length>0&&(w[0].speed=0),0==M?(M=Math.floor(500*Math.random()+500),x.push(new Powerup(Math.floor(100*Math.random()),Math.floor(100*Math.random()),Math.ceil(3*Math.random()),Math.floor(2*Math.random())))):M--,f.clearRect(0,0,u.width,u.height);var e=u.width/100;if(0!=x.length)for(var t in x){var a=x[t];a.width=u.width/50,a.height=a.width*a.image.height/a.image.width,f.save(),f.translate(a.x*e,a.y*e),f.drawImage(a.image,-a.width/2,-a.height/2,a.width,a.height),f.restore(),a.decreaseDuration(),0==a.duration&&x.splice(t,1)}if(0!=y.length){var i=u.width/100,r=i*y[0].image.height/y[0].image.width;for(var o in y){var s=y[o];s.width=i,s.height=r,0==s.explodeStage?(f.save(),f.translate(s.x*e,s.y*e),f.rotate(s.rotation/180*Math.PI),f.drawImage(s.image,-i/2,-r/2,i,r),f.restore(),y[o].x=Math.cos((s.rotation-90)/180*Math.PI)+s.x,y[o].y=Math.sin((s.rotation-90)/180*Math.PI)+s.y):s.explodeStage<4&&(f.save(),f.translate(s.x*e,s.y*e),f.drawImage(s.explosionImage,-i,-i,2*i,2*i),f.restore())}}if(0!=w.length){var h=u.width/20,n=h*w[0].image.height/w[0].image.width;for(var d in w){var a=w[d];if(a.width=h,a.height=n,f.save(),f.translate(a.x*e,a.y*e),f.rotate(a.rotation/180*Math.PI),f.drawImage(a.image,-h/2,-n/2,h,n),a.damage>0&&f.drawImage(a.damageImage,-h/2,-n/2,h,n),a.dead&&w[d].explode(),a.damage<4&&(w[d].x=Math.cos((a.rotation-90)/180*Math.PI)/10*a.speed+a.x,w[d].y=Math.sin((a.rotation-90)/180*Math.PI)/10*a.speed+a.y),a.shield){var p=1.5*h,m=p/a.shieldImage.width*a.shieldImage.height;f.drawImage(a.shieldImage,-p/2,-m/2,p,m)}f.restore()}}if(v.length>0)for(var c in v){var S=v[c];if(S.width=u.width/700*S.image.width,S.height=S.width*S.image.height/S.image.width,f.save(),f.translate(S.x*e,S.y*e),f.rotate(S.rotation/180*Math.PI),f.drawImage(S.image,-S.width/2,-S.height/2,S.width,S.height),f.restore(),S.x<-5||S.x>105||S.y<-5||S.y>105){var I=Math.random();.25>I?(v[c].x=-4,v[c].y=Math.floor(100*Math.random()),v[c].rotation=Math.floor(180*Math.random())):.5>I?(v[c].x=Math.floor(100*Math.random()),v[c].y=-4,v[c].rotation=Math.floor(180*Math.random())+90):.75>I?(v[c].x=104,v[c].y=Math.floor(100*Math.random()),v[c].rotation=Math.floor(180*Math.random())+180):(v[c].x=Math.floor(100*Math.random()),v[c].y=104,v[c].rotation=Math.floor(180*Math.random())+270),v[c].speed=1,v[c].setImage(Math.ceil(18*Math.random()))}else v[c].x=Math.cos((S.rotation-90)/180*Math.PI)/30*v[c].speed+S.x,v[c].y=Math.sin((S.rotation-90)/180*Math.PI)/30*v[c].speed+S.y}l(),g()}function l(){for(var e in y)y[e].x<0||y[e].x>u.width||y[e].y<0||y[e].y>u.height?y.splice(e,1):y[e].explodeStage>0&&(y[e].explodeStage<4?y[e].explode():y.splice(e,1))}function g(){var e=[];for(var t in w){w[t].damage<4&&e.push(w[t]);for(var a in y)if(0==y[a].explodeStage&&y[a].player!=w[t].userName){var r=Math.sqrt(2)/2*(y[a].height/2-y[a].width/2),o=(360-y[a].rotation)/180*Math.PI,s=y[a].x*u.width/100-r*Math.sin(o),h=y[a].y*u.width/100-r*Math.cos(o),n=w[t].x*u.width/100,d=w[t].y*u.width/100,l=Math.sqrt((s-n)*(s-n)+(h-d)*(h-d)),g=1;if(w[t].shield&&(g=1.5),l<y[a].width/2+w[t].width/2*g){var m=new Audio("../../assets/Bonus/sfx_lose.ogg");if(m.play(),!w[t].shield){w[t].increaseDamage();var c={};c.username=w[t].userName,c.life=3-w[t].damage,i.emit("playerLife",c)}y[a].explode()}}for(var f in v){var M=v[f].x*u.width/100,S=v[f].y*u.width/100,n=w[t].x*u.width/100,d=w[t].y*u.width/100,l=Math.sqrt((M-n)*(M-n)+(S-d)*(S-d)),g=1;if(w[t].shield&&(g=1.5),l<v[f].width/2+w[t].width/2*g){var m=new Audio("../../assets/Bonus/sfx_lose.ogg");if(m.play(),w[t].shield)v[f].rotation=v[f].rotation+180,v[f].speed=3,v[f].x=Math.cos((v[f].rotation-90)/180*Math.PI)/30*v[f].speed+v[f].x,v[f].y=Math.sin((v[f].rotation-90)/180*Math.PI)/30*v[f].speed+v[f].y;else{w[t].dead();var c={};c.username=w[t].userName,c.life=3-w[t].damage,i.emit("playerLife",c)}}}for(var f in w)if(f!=t){var I=w[f].x*u.width/100,P=w[f].y*u.width/100,n=w[t].x*u.width/100,d=w[t].y*u.width/100,g=1;w[t].shield&&(g=1.5);var N=1;w[f].shield&&(N=1.5);var l=Math.sqrt((I-n)*(I-n)+(P-d)*(P-d));if(l<w[f].width/2*N+w[t].width/2*g){var m=new Audio("../../assets/Bonus/sfx_lose.ogg");m.play(),w[t].dead(),w[f].dead();var c={};c.username=w[t].userName,c.life=3-w[t].damage,i.emit("playerLife",c),c.username=w[f].userName,c.life=3-w[f].damage,i.emit("playerLife",c)}}if(w[t].x*u.width/100<w[t].height/2||w[t].x*u.width/100>u.width-w[t].height/2||w[t].y*u.width/100<w[t].height/2||w[t].y*u.width/100>u.width-w[t].height/2){var m=new Audio("../../assets/Bonus/sfx_lose.ogg");m.play(),w[t].dead();var c={};c.username=w[t].userName,c.life=3-w[t].damage,i.emit("playerLife",c)}for(var f in x){var G=x[f].x*u.width/100,C=x[f].y*u.width/100,n=w[t].x*u.width/100,d=w[t].y*u.width/100,l=Math.sqrt((G-n)*(G-n)+(C-d)*(C-d));if(l<x[f].width/2+w[t].width/2){var A=new Audio("../../assets/Bonus/sfx_zap.ogg");if(A.play(),w[t].addPowerup(x[f]),3==x[f].type){var c={};c.username=w[t].userName,c.life=3,i.emit("playerLife",c)}x.splice(f,1)}}}for(var f in v)for(var a in y)if(0==y[a].explodeStage&&y[a].player!=v[f].userName){var r=Math.sqrt(2)/2*(y[a].height/2-y[a].width/2),o=(360-y[a].rotation)/180*Math.PI,s=y[a].x*u.width/100-r*Math.sin(o),h=y[a].y*u.width/100-r*Math.cos(o),M=v[f].x*u.width/100,S=v[f].y*u.width/100,l=Math.sqrt((s-M)*(s-M)+(h-S)*(h-S));if(l<y[a].width/2+v[f].width/2){var c={};c.username=v[f].userName,c.life=3-v[f].damage,i.emit("playerLife",c),y[a].explode()}}1==e.length&&p(e)}function p(a){angular.isDefined(c)&&(t.cancel(c),c=void 0),e.endGame=!0,e.endGameText=a[0].userName+" is the winner!",i.emit("endGame",a[0].userName)}var m=[{x:10,y:10,rotation:135},{x:90,y:10,rotation:225},{x:90,y:90,rotation:315},{x:10,y:90,rotation:45}];e.PCShow=r.getPCShow,e.endGame=!1;var c,u=document.getElementById("game"),f=u.getContext("2d"),w=new Array,y=new Array,v=new Array,x=new Array;i.on("initGame",function(){var e=o.getPlayers(),a=0;for(var i in e){var r=e[i];w.push(new Spaceship(r.username,m[a].x,m[a].y,r.color,m[a].rotation)),a++}for(var s=0;15>s;s++);c=t(d,10)}),i.on("userleft",function(e){var t=null;for(var a in w)1==n(w[a],e)&&(t=a);w.splice(t,1)}),i.on("updateGameData",function(e){var t=null;for(var a in w)1==n(w[a],e)&&(t=a);null!=t&&w[t].rotateSpaceshipRelative(e.orientation)}),i.on("playerShot",function(t){if(0==e.endGame){var a=null;for(var i in w)1==n(w[i],t)&&(a=i);if(null!=a){var r=w[a],o=(360-(r.rotation+180))/180*Math.PI,s=r.x+u.width/400*Math.sin(o),h=r.y+u.width/400*Math.cos(o);y.push(new Bullet(s,h,r.rotation,r.color,r.userName));var d="../../assets/Bonus/sfx_laser2.ogg";a%2==0&&(d="../../assets/Bonus/sfx_laser1.ogg");var l=new Audio(d);l.play()}}});var M=Math.floor(500*Math.random()+500);e.restartGame=function(){e.endGame=!1;var a=0;for(var r in w)w[r].reset(m[a].x,m[a].y,m[a].rotation),a++;v=[];for(var o=0;15>o;o++)v.push(new Asteroid(s(),h(),Math.floor(361*Math.random()),Math.ceil(18*Math.random())));y=[],x=[],M=Math.floor(500*Math.random()+500),f.clearRect(0,0,u.width,u.height),i.emit("restartGame",null),c=t(d,10)}};angular.module("app").controller("playController",["$scope","$interval","$window","socketService","displayService","playerService",e])}(),function(){var e=function(e){function t(t,a,i){e.innerWidth<e.innerHeight?t.width=e.innerWidth-20:t.width=e.innerHeight-20,angular.element(e).bind("resize",function(){e.innerWidth<e.innerHeight?t.width=e.innerWidth-20:t.width=e.innerHeight-20,t.$digest()})}return{restrict:"E",link:t,replace:!0,template:'<canvas id="game" class="playArea" width="{{width}}" height="{{width}}" />'}};angular.module("app").directive("canvasDirective",["$window",e])}(),function(){var e=function(){var e=!0,t=!1;return{getLCShow:function(){return e},setLCShow:function(t){e=t},getPCShow:function(){return t},setPCShow:function(e){t=e}}};angular.module("app").factory("displayService",[e])}(),function(){var e=function(){var e=[];return{getPlayers:function(){return e},setPlayers:function(t){e=t}}};angular.module("app").factory("playerService",[e])}();var Asteroid=function(e,t,a,i){this.x=e,this.y=t,this.width=0,this.height=0,this.rotation=a,this.stage=i,this.image=new Image,this.image.src="../assets/PNG/Meteors/meteor_"+i+".png",this.speed=1};Asteroid.prototype.setImage=function(e){this.stage=e,this.image.src="../assets/PNG/Meteors/meteor_"+e+".png"};var Bullet=function(e,t,a,i,r){this.x=e,this.y=t,this.rotation=a,this.image=new Image,this.color=i,this.width=0,this.height=0,this.player=r,this.explosionImage=new Image,this.explodeStage=0,"orange"==this.color&&(this.color="red"),this.image.src="../assets/PNG/Lasers/laser"+this.color.charAt(0).toUpperCase()+this.color.slice(1)+"01.png"};Bullet.prototype.explode=function(){if(this.explodeStage<4){this.explodeStage++;var e;e=this.explodeStage<3?1:2,this.explosionImage.src="../assets/PNG/Lasers/laser"+this.color.charAt(0).toUpperCase()+this.color.slice(1)+"Explode"+e+".png"}else this.explosionImage.src=""};var Powerup=function(e,t,a,i){this.x=e,this.y=t,this.width=0,this.height=0,this.type=a,this.duration=1e3;var r;switch(this.image=new Image,a){case 1:r="bolt_";break;case 2:r="shield_";break;case 3:r="star_"}switch(i){case 0:r+="gold.png";break;case 1:r+="silver.png"}this.image.src="../assets/PNG/Power-ups/"+r};Powerup.prototype.decreaseDuration=function(){this.duration>0&&this.duration--};var Spaceship=function(e,t,a,i,r){this.userName=e,this.x=t,this.y=a,this.speed=1,this.color=i,this.rotation=r,this.image=new Image,this.damage=0,this.width=0,this.height=0,this.powerups=[],this.shield=!1,this.dead=!1,this.shieldImage=new Image,this.shieldImage.src="../assets/PNG/Effects/shield1.png",this.damageImage=new Image,this.image.src="../assets/PNG/playerShip1_"+this.color+".png",this.explodeStage=-1};Spaceship.prototype.reset=function(e,t,a){this.speed=1,this.damage=0,this.damageImage=new Image,this.image.src="../assets/PNG/playerShip1_"+this.color+".png",this.x=e,this.y=t,this.rotation=a,this.shield=!1},Spaceship.prototype.moveSpaceship=function(e,t){this.x=e,this.y=t},Spaceship.prototype.moveSpaceshipRelative=function(e,t){this.x=this.x+e,this.y=this.y+t},Spaceship.prototype.rotateSpaceship=function(e){this.rotation=e},Spaceship.prototype.rotateSpaceshipRelative=function(e){e>80?e=80:-80>e&&(e=-80),this.rotation=this.rotation+e/5,this.rotation<-360&&(this.rotation=this.rotation+720),this.rotation>360&&(this.rotation=this.rotation-720)},Spaceship.prototype.increaseDamage=function(){this.damage<4&&(this.damage+=1),this.damage<=3&&this.damage>0?this.damageImage.src="../assets/PNG/Damage/playerShip1_damage"+this.damage+".png":4==this.damage&&(this.dead=!0,this.damageImage.src="../assets/PNG/Damage/explode.gif")},Spaceship.prototype.dead=function(){this.dead=!0,this.damage=4,this.damageImage.src="../assets/PNG/Damage/explode.gif"},Spaceship.prototype.explode=function(){this.explodeStage<=14&&(this.explodeStage++,this.image="",this.damageImage.src="../assets/PNG/Damage/frame"+this.explodeStage+".gif")},Spaceship.prototype.decreaseDamage=function(){this.damage>0&&(this.damage-=1),this.damage<=3&&this.damage>0&&(this.damageImage.src="../assets/PNG/Damage/playerShip1_damage"+this.damage+".png")},Spaceship.prototype.addPowerup=function(e){switch(e.type){case 1:this.speed++;break;case 2:this.shield=!0;break;case 3:this.damage=0,this.damageImage.src=""}this.powerups.push(e)},function(){var e=function(e){"use strict";var t=io.connect(window.location.host),a=function(a,i){t.on(a,function(){var a=arguments;e.$apply(function(){i.apply(t,a)})})},i=function(a,i,r){t.emit(a,i,function(){var a=arguments;e.$apply(function(){r&&r.apply(t,a)})})};return{on:a,emit:i,socket:t}};angular.module("app").factory("socketService",["$rootScope",e])}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsImNvbnRyb2xsZXIvbG9naW5Db250cm9sbGVyLmpzIiwiY29udHJvbGxlci9wbGF5Q29udHJvbGxlci5qcyIsImRpcmVjdGl2ZXMvY2FudmFzRGlyZWN0aXZlLmpzIiwic2VydmljZXMvZGlzcGxheVNlcnZpY2UuanMiLCJzZXJ2aWNlcy9wbGF5ZXJTZXJ2aWNlLmpzIiwibW9kZWxzL0FzdGVyaW9kLmpzIiwibW9kZWxzL0J1bGxldC5qcyIsIm1vZGVscy9Qb3dlcnVwLmpzIiwibW9kZWxzL1NwYWNlc2hpcC5qcyIsInNlcnZpY2VzL3NvY2tldFNlcnZpY2UuanMiXSwibmFtZXMiOlsiYW5ndWxhciIsIm1vZHVsZSIsImxvZ2luQ29udHJvbGxlciIsIiRzY29wZSIsInNvY2tldFNlcnZpY2UiLCJkaXNwbGF5U2VydmljZSIsInBsYXllclNlcnZpY2UiLCJMQ1Nob3ciLCJnZXRMQ1Nob3ciLCJtYWtlUm9vbSIsImVtaXQiLCJyb29tIiwib24iLCJkYXRhIiwiZGV2aWNlT3JpZW50YXRpb24iLCJ1c2VybmFtZSIsImdhbW1hIiwiYmV0YSIsImFscGhhIiwidXNlcm5hbWVzIiwiY2hlY2tVc2VyQ291bnQiLCJzZXRQbGF5ZXJzIiwiT2JqZWN0Iiwia2V5cyIsImxlbmd0aCIsInN0YXJ0R2FtZSIsInNldExDU2hvdyIsInNldFBDU2hvdyIsImNvbnRyb2xsZXIiLCJwbGF5Q29udHJvbGxlciIsIiRpbnRlcnZhbCIsIiR3aW5kb3ciLCJjcmVhdGVDb29yZGluYXRlWCIsIngiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJwIiwiQWxsUGxheWVycyIsImFicyIsImNyZWF0ZUNvb3JkaW5hdGVZIiwieSIsImZpbHRlclBsYXllcnMiLCJvYmoiLCJ1c2VyTmFtZSIsImRyYXciLCJzcGVlZCIsIlBvd2VydXBTcGF3blRpbWUiLCJBbGxQb3dlclVwcyIsInB1c2giLCJQb3dlcnVwIiwiY2VpbCIsImN0eCIsImNsZWFyUmVjdCIsImNhbnYiLCJ3aWR0aCIsImhlaWdodCIsInJhdGlvIiwicG93ZXJ1cCIsImltYWdlIiwic2F2ZSIsInRyYW5zbGF0ZSIsImRyYXdJbWFnZSIsInJlc3RvcmUiLCJkZWNyZWFzZUR1cmF0aW9uIiwiZHVyYXRpb24iLCJzcGxpY2UiLCJBbGxCdWxsZXRzIiwiQnVsbGV0V2lkdGgiLCJCdWxsZXRIZWlnaHQiLCJidWxsZXQiLCJiIiwiZXhwbG9kZVN0YWdlIiwicm90YXRlIiwicm90YXRpb24iLCJQSSIsImNvcyIsInNpbiIsImV4cGxvc2lvbkltYWdlIiwiU3BhY2VzaGlwV2lkdGgiLCJTcGFjZXNoaXBIZWlnaHQiLCJwbGF5ZXIiLCJkYW1hZ2UiLCJkYW1hZ2VJbWFnZSIsImRlYWQiLCJleHBsb2RlIiwic2hpZWxkIiwiU2hpZWxkV2lkdGgiLCJTaGllbGRIZWlnaHQiLCJzaGllbGRJbWFnZSIsIkFsbEFzdGVyb2lkcyIsIkFzdGVyb2lkIiwiYSIsImtldXplIiwic2V0SW1hZ2UiLCJjaGVja0J1bGxldHMiLCJjb2xsaXNpb25EZXRlY3Rpb24iLCJsaXZpbmdQbGF5ZXJzIiwicmFkaXVzIiwic3FydCIsImFuZ2xlIiwiYnVsbGV0SGVhZFgiLCJidWxsZXRIZWFkWSIsInNwYWNlU2hpcFgiLCJzcGFjZVNoaXBZIiwiZGlzdGFuY2UiLCJzaGllbGRSYXRpbyIsImRhbWFnZXNvdW5kIiwiQXVkaW8iLCJwbGF5IiwiaW5jcmVhc2VEYW1hZ2UiLCJsaWZlIiwiYXN0ZXJvaWRYIiwiYXN0ZXJvaWRZIiwic3BhY2VTaGlwMVgiLCJzcGFjZVNoaXAxWSIsInNoaWVsZFJhdGlvMSIsInBvd2VydXBYIiwicG93ZXJ1cFkiLCJwb3dlcnVwU291bmQiLCJhZGRQb3dlcnVwIiwidHlwZSIsImVuZEdhbWUiLCJpc0RlZmluZWQiLCJjeWNsZSIsImNhbmNlbCIsInVuZGVmaW5lZCIsImVuZEdhbWVUZXh0IiwiZGVmYXVsdFZhcnMiLCJQQ1Nob3ciLCJnZXRQQ1Nob3ciLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiZ2V0Q29udGV4dCIsIkFycmF5IiwiQnVmZmVyUGxheWVyIiwiZ2V0UGxheWVycyIsInRlbGxlciIsIlNwYWNlc2hpcCIsImNvbG9yIiwiaSIsInJvdGF0ZVNwYWNlc2hpcFJlbGF0aXZlIiwib3JpZW50YXRpb24iLCJ0ZW1wIiwiQnVsbGV0IiwiYXVkaW9VcmwiLCJzaG90IiwicmVzdGFydEdhbWUiLCJyZXNldCIsImNhbnZhc0RpcmVjdGl2ZSIsImxpbmsiLCJzY29wZSIsImVsZW1lbnQiLCJhdHRycyIsImlubmVyV2lkdGgiLCJpbm5lckhlaWdodCIsImJpbmQiLCIkZGlnZXN0IiwicmVzdHJpY3QiLCJyZXBsYWNlIiwidGVtcGxhdGUiLCJkaXJlY3RpdmUiLCJ2YWx1ZSIsImZhY3RvcnkiLCJwbGF5ZXJzIiwicGxheWVyc0FycmF5Iiwic3RhZ2UiLCJ0aGlzIiwiSW1hZ2UiLCJzcmMiLCJwcm90b3R5cGUiLCJjaGFyQXQiLCJ0b1VwcGVyQ2FzZSIsInNsaWNlIiwibnVtYmVyIiwiYm9vbFNlbGYiLCJpbWFnZVR5cGUiLCJwb3dlcnVwcyIsIm1vdmVTcGFjZXNoaXAiLCJtb3ZlU3BhY2VzaGlwUmVsYXRpdmUiLCJyb3RhdGVTcGFjZXNoaXAiLCJkZWdyZWUiLCJkZWNyZWFzZURhbWFnZSIsIiRyb290U2NvcGUiLCJzb2NrZXQiLCJpbyIsImNvbm5lY3QiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsImhvc3QiLCJldmVudE5hbWUiLCJjYWxsYmFjayIsImFyZ3MiLCJhcmd1bWVudHMiLCIkYXBwbHkiLCJhcHBseSJdLCJtYXBwaW5ncyI6IkNBR0EsV0FFQUEsUUFBQUMsT0FBQSxhQ0RBLFdBQ0EsR0FBQUMsR0FBQSxTQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxHQUVBSCxFQUFBSSxPQUFBRixFQUFBRyxTQUdBLElBQUFDLEdBQUEsV0FDQUwsRUFBQU0sS0FBQSxZQUFBLE1BRUFQLEdBQUFRLEtBQUEsR0FDQVAsRUFBQVEsR0FBQSxjQUFBLFNBQUFDLEdBQ0FWLEVBQUFRLEtBQUFFLElBRUFULEVBQUFRLEdBQUEsb0JBQUEsU0FBQUMs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QUEsQ0FDQSxNQUNBLEtBQUEsR0FDQWlGLEtBQUFyRixPQUFBLEVBQ0FxRixLQUFBcEYsWUFBQXNGLElBQUEsR0FHQUYsS0FBQVUsU0FBQWhJLEtBQUFTLElDL0dBLFdBRUEsR0FBQXRELEdBQUEsU0FBQW1MLEdBQ0EsWUFFQSxJQUFBQyxHQUFBQyxHQUFBQyxRQUFBQyxPQUFBQyxTQUFBQyxNQUVBakwsRUFBQSxTQUFBa0wsRUFBQUMsR0FDQVAsRUFBQTVLLEdBQUFrTCxFQUFBLFdBQ0EsR0FBQUUsR0FBQUMsU0FDQVYsR0FBQVcsT0FBQSxXQUNBSCxFQUFBSSxNQUFBWCxFQUFBUSxRQUtBdEwsRUFBQSxTQUFBb0wsRUFBQWpMLEVBQUFrTCxHQUNBUCxFQUFBOUssS0FBQW9MLEVBQUFqTCxFQUFBLFdBQ0EsR0FBQW1MLEdBQUFDLFNBQ0FWLEdBQUFXLE9BQUEsV0FDQUgsR0FDQUEsRUFBQUksTUFBQVgsRUFBQVEsT0FPQSxRQUNBcEwsR0FBQUEsRUFDQUYsS0FBQUEsRUFDQThLLE9BQUFBLEdBSUF4TCxTQUFBQyxPQUFBLE9BQUFrSyxRQUFBLGlCQUFBLGFBQUEvSiIsImZpbGUiOiJhcHAubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDcmVhdGVkIGJ5IE1pY2hpZWwgb24gMjUvMTEvMjAxNS5cbiAqL1xuKGZ1bmN0aW9uKCl7XG5cbiAgICB2YXIgYXBwID0gYW5ndWxhci5tb2R1bGUoXCJhcHBcIixbXSk7XG59KSgpOyIsIi8qKlxuICogQ3JlYXRlZCBieSBNaWNoaWVsIG9uIDExLzEyLzIwMTUuXG4gKi9cblxuKGZ1bmN0aW9uKCl7XG4gICAgdmFyIGxvZ2luQ29udHJvbGxlciA9IGZ1bmN0aW9uKCRzY29wZSwgc29ja2V0U2VydmljZSwgZGlzcGxheVNlcnZpY2UsIHBsYXllclNlcnZpY2Upe1xuXG4gICAgICAgICRzY29wZS5MQ1Nob3cgPSBkaXNwbGF5U2VydmljZS5nZXRMQ1Nob3c7XG5cbiAgICAgICAgLy9mdW5jdGlvbnNcbiAgICAgICAgdmFyIG1ha2VSb29tID0gZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHNvY2tldFNlcnZpY2UuZW1pdChcInBjY29ubmVjdFwiLCBudWxsKTtcbiAgICAgICAgfTtcbiAgICAgICAgJHNjb3BlLnJvb20gPSBcIlwiO1xuICAgICAgICBzb2NrZXRTZXJ2aWNlLm9uKCdyZXF1ZXN0Um9vbScsZnVuY3Rpb24oZGF0YSl7XG4gICAgICAgICAgICAkc2NvcGUucm9vbSA9IGRhdGE7XG4gICAgICAgIH0pO1xuICAgICAgICBzb2NrZXRTZXJ2aWNlLm9uKCdkZXZpY2VPcmllbnRhdGlvbicsIGZ1bmN0aW9uKGRhdGEpe1xuICAgICAgICAgICAgdmFyIHVzZXJuYW1lID0gZGF0YS51c2VybmFtZTtcbiAgICAgICAgICAgIHZhciBkZXZpY2VPcmllbnRhdGlvbiA9IHt9O1xuICAgICAgICAgICAgZGV2aWNlT3JpZW50YXRpb24uZ2FtbWEgPSBkYXRhLmdhbW1hO1xuICAgICAgICAgICAgZGV2aWNlT3JpZW50YXRpb24uYmV0YSA9IGRhdGEuYmV0YTtcbiAgICAgICAgICAgIGRldmljZU9yaWVudGF0aW9uLmFscGhhID0gZGF0YS5hbHBoYTtcbiAgICAgICAgfSk7XG4gICAgICAgICRzY29wZS51c2VybmFtZXMgPSB7fTtcbiAgICAgICAgJHNjb3BlLmNoZWNrVXNlckNvdW50ID0gZmFsc2U7XG4gICAgICAgIHNvY2tldFNlcnZpY2Uub24oJ3VwZGF0ZXVzZXJzJywgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgIHBsYXllclNlcnZpY2Uuc2V0UGxheWVycyhkYXRhKTtcbiAgICAgICAgICAgICRzY29wZS51c2VybmFtZXMgPSBkYXRhO1xuICAgICAgICAgICAgJHNjb3BlLmNoZWNrVXNlckNvdW50ID0gT2JqZWN0LmtleXMoJHNjb3BlLnVzZXJuYW1lcykubGVuZ3RoIDwgMDtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgJHNjb3BlLnN0YXJ0R2FtZT0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgc29ja2V0U2VydmljZS5lbWl0KFwic3RhcnRHYW1lXCIsIG51bGwpO1xuICAgICAgICAgICAgZGlzcGxheVNlcnZpY2Uuc2V0TENTaG93KGZhbHNlKTtcbiAgICAgICAgICAgIGRpc3BsYXlTZXJ2aWNlLnNldFBDU2hvdyh0cnVlKTtcbiAgICAgICAgfTtcblxuXG4gICAgICAgIChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIG1ha2VSb29tKCk7XG4gICAgICAgIH0pKCk7XG5cbiAgICB9O1xuXG4gICAgYW5ndWxhci5tb2R1bGUoXCJhcHBcIikuY29udHJvbGxlcihcImxvZ2luQ29udHJvbGxlclwiLCBbXCIkc2NvcGVcIiwgXCJzb2NrZXRTZXJ2aWNlXCIgLCBcImRpc3BsYXlTZXJ2aWNlXCIsIFwicGxheWVyU2VydmljZVwiLCBsb2dpbkNvbnRyb2xsZXJdKTtcbn0pKCk7IiwiLyoqXG4gKiBDcmVhdGVkIGJ5IE1pY2hpZWwgb24gMTYvMTIvMjAxNS5cbiAqL1xuXG4oZnVuY3Rpb24oKXtcbiAgICBcInVzZSBzdHJpY3RcIjtcbiAgICB2YXIgcGxheUNvbnRyb2xsZXIgPSBmdW5jdGlvbigkc2NvcGUsICRpbnRlcnZhbCwgJHdpbmRvdywgc29ja2V0U2VydmljZSwgZGlzcGxheVNlcnZpY2UsIHBsYXllclNlcnZpY2Upe1xuICAgICAgICB2YXIgZGVmYXVsdFZhcnMgPSBbe3g6MTAsIHk6MTAscm90YXRpb246MTM1fSx7eDo5MCwgeToxMCxyb3RhdGlvbjoyMjV9LHt4OjkwLCB5OjkwLHJvdGF0aW9uOjMxNX0se3g6MTAsIHk6OTAscm90YXRpb246NDV9XTtcbiAgICAgICAgJHNjb3BlLlBDU2hvdyA9IGRpc3BsYXlTZXJ2aWNlLmdldFBDU2hvdztcbiAgICAgICAgJHNjb3BlLmVuZEdhbWUgPSBmYWxzZTtcbiAgICAgICAgdmFyIGNhbnYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ2FtZScpO1xuICAgICAgICB2YXIgY3R4ID0gY2Fudi5nZXRDb250ZXh0KCcyZCcpO1xuXG4gICAgICAgIHZhciBBbGxQbGF5ZXJzID0gbmV3IEFycmF5KCk7XG4gICAgICAgIHZhciBBbGxCdWxsZXRzID0gbmV3IEFycmF5KCk7XG4gICAgICAgIHZhciBBbGxBc3Rlcm9pZHMgPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgdmFyIEFsbFBvd2VyVXBzID0gbmV3IEFycmF5KCk7XG5cbiAgICAgICAgdmFyIGN5Y2xlO1xuXG4gICAgICAgIHNvY2tldFNlcnZpY2Uub24oXCJpbml0R2FtZVwiLCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgdmFyIEJ1ZmZlclBsYXllciA9IHBsYXllclNlcnZpY2UuZ2V0UGxheWVycygpO1xuICAgICAgICAgICAgdmFyIHRlbGxlcj0gMDtcbiAgICAgICAgICAgIGZvcih2YXIgcGxheWVyIGluIEJ1ZmZlclBsYXllcil7XG4gICAgICAgICAgICAgICAgdmFyIHAgPSBCdWZmZXJQbGF5ZXJbcGxheWVyXTtcbiAgICAgICAgICAgICAgICBBbGxQbGF5ZXJzLnB1c2gobmV3IFNwYWNlc2hpcChwLnVzZXJuYW1lLCBkZWZhdWx0VmFyc1t0ZWxsZXJdLngsIGRlZmF1bHRWYXJzW3RlbGxlcl0ueSwgcC5jb2xvciwgZGVmYXVsdFZhcnNbdGVsbGVyXS5yb3RhdGlvbikpO1xuICAgICAgICAgICAgICAgIHRlbGxlcisrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmb3IodmFyIGkgPSAwOyBpPDE1OyBpKyspe1xuICAgICAgICAgICAgICAgIC8vQWxsQXN0ZXJvaWRzLnB1c2gobmV3IEFzdGVyb2lkKGNyZWF0ZUNvb3JkaW5hdGVYKCksIGNyZWF0ZUNvb3JkaW5hdGVZKCksIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSozNjEpLCBNYXRoLmNlaWwoTWF0aC5yYW5kb20oKSoxOCkpKTtcbiAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICBjeWNsZSA9ICRpbnRlcnZhbChkcmF3LCAxMCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGZ1bmN0aW9uIGNyZWF0ZUNvb3JkaW5hdGVYKCl7XG4gICAgICAgICAgICB2YXIgeCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSoxMDApO1xuICAgICAgICAgICAgZm9yKHZhciBwIGluIEFsbFBsYXllcnMpe1xuICAgICAgICAgICAgICAgIGlmKE1hdGguYWJzKEFsbFBsYXllcnNbcF0ueCAtIHgpIDwgMTApe1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlQ29vcmRpbmF0ZVgoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4geDtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGNyZWF0ZUNvb3JkaW5hdGVZKCl7XG4gICAgICAgICAgICB2YXIgeSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSoxMDApO1xuICAgICAgICAgICAgZm9yKHZhciBwIGluIEFsbFBsYXllcnMpe1xuICAgICAgICAgICAgICAgIGlmKE1hdGguYWJzKEFsbFBsYXllcnNbcF0ueSAtIHkpIDwgMTApe1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlQ29vcmRpbmF0ZVkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4geTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNvY2tldFNlcnZpY2Uub24oXCJ1c2VybGVmdFwiLCBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgdmFyIHAgPSBudWxsO1xuICAgICAgICAgICAgZm9yKHZhciBpIGluIEFsbFBsYXllcnMpe1xuICAgICAgICAgICAgICAgIGlmKGZpbHRlclBsYXllcnMoQWxsUGxheWVyc1tpXSxkYXRhKSA9PSB0cnVlKXtcbiAgICAgICAgICAgICAgICAgICAgcCA9IGk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgQWxsUGxheWVycy5zcGxpY2UocCwxKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgc29ja2V0U2VydmljZS5vbihcInVwZGF0ZUdhbWVEYXRhXCIsIGZ1bmN0aW9uKGRhdGEpe1xuICAgICAgICAgICAgdmFyIHAgPSBudWxsO1xuICAgICAgICAgICAgZm9yKHZhciBpIGluIEFsbFBsYXllcnMpe1xuICAgICAgICAgICAgICAgIGlmKGZpbHRlclBsYXllcnMoQWxsUGxheWVyc1tpXSxkYXRhKSA9PSB0cnVlKXtcbiAgICAgICAgICAgICAgICAgICAgcCA9IGk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYocCAhPSBudWxsKXtcbiAgICAgICAgICAgICAgICBBbGxQbGF5ZXJzW3BdLnJvdGF0ZVNwYWNlc2hpcFJlbGF0aXZlKGRhdGEub3JpZW50YXRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBzb2NrZXRTZXJ2aWNlLm9uKFwicGxheWVyU2hvdFwiLCBmdW5jdGlvbihkYXRhKXtcbiAgICAgICAgICAgIGlmKCRzY29wZS5lbmRHYW1lPT1mYWxzZSkge1xuICAgICAgICAgICAgICAgIHZhciBwID0gbnVsbDtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpIGluIEFsbFBsYXllcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZpbHRlclBsYXllcnMoQWxsUGxheWVyc1tpXSwgZGF0YSkgPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcCA9IGk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHAgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IEFsbFBsYXllcnNbcF07XG4gICAgICAgICAgICAgICAgICAgIHZhciBhbmdsZSA9ICgzNjAgLSAodGVtcC5yb3RhdGlvbiArIDE4MCkpIC8gMTgwICogTWF0aC5QSTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHggPSB0ZW1wLnggKyAoY2Fudi53aWR0aCAvIDQwMCAqIE1hdGguc2luKGFuZ2xlKSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciB5ID0gdGVtcC55ICsgKGNhbnYud2lkdGggLyA0MDAgKiBNYXRoLmNvcyhhbmdsZSkpO1xuICAgICAgICAgICAgICAgICAgICBBbGxCdWxsZXRzLnB1c2gobmV3IEJ1bGxldCh4LCB5LCB0ZW1wLnJvdGF0aW9uLCB0ZW1wLmNvbG9yLCB0ZW1wLnVzZXJOYW1lKSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBhdWRpb1VybCA9ICcuLi8uLi9hc3NldHMvQm9udXMvc2Z4X2xhc2VyMi5vZ2cnO1xuICAgICAgICAgICAgICAgICAgICBpZiAocCAlIDIgPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXVkaW9VcmwgPSAnLi4vLi4vYXNzZXRzL0JvbnVzL3NmeF9sYXNlcjEub2dnJztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB2YXIgc2hvdCA9IG5ldyBBdWRpbyhhdWRpb1VybCk7XG4gICAgICAgICAgICAgICAgICAgIHNob3QucGxheSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgZnVuY3Rpb24gZmlsdGVyUGxheWVycyhvYmosZGF0YSl7XG4gICAgICAgICAgICByZXR1cm4gZGF0YS51c2VybmFtZSA9PSBvYmoudXNlck5hbWU7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgUG93ZXJ1cFNwYXduVGltZSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSo1MDAgKyA1MDApO1xuXG4gICAgICAgIGZ1bmN0aW9uIGRyYXcoKXtcbiAgICAgICAgICAgIGlmKEFsbFBsYXllcnMubGVuZ3RoPjApe1xuICAgICAgICAgICAgICAgIEFsbFBsYXllcnNbMF0uc3BlZWQgPSAwO1xuICAgICAgICAgICAgICAgIC8vQWxsUGxheWVyc1sxXS5zcGVlZCA9IDA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmKFBvd2VydXBTcGF3blRpbWUgPT0gMCl7XG4gICAgICAgICAgICAgICAgUG93ZXJ1cFNwYXduVGltZSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSo1MDAgKyA1MDApO1xuICAgICAgICAgICAgICAgIEFsbFBvd2VyVXBzLnB1c2gobmV3IFBvd2VydXAoTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKjEwMCksTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKjEwMCksIE1hdGguY2VpbChNYXRoLnJhbmRvbSgpKjMpLE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSoyKSkpXG4gICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICBQb3dlcnVwU3Bhd25UaW1lIC0tO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjdHguY2xlYXJSZWN0KDAsMCxjYW52LndpZHRoLCBjYW52LmhlaWdodCk7XG4gICAgICAgICAgICB2YXIgcmF0aW8gPSBjYW52LndpZHRoLzEwMDtcblxuICAgICAgICAgICAgaWYoQWxsUG93ZXJVcHMubGVuZ3RoICE9IDApe1xuICAgICAgICAgICAgICAgIGZvcih2YXIgcG93ZXJ1cCBpbiBBbGxQb3dlclVwcyl7XG4gICAgICAgICAgICAgICAgICAgIHZhciBwID0gQWxsUG93ZXJVcHNbcG93ZXJ1cF07XG4gICAgICAgICAgICAgICAgICAgIHAud2lkdGggPSBjYW52LndpZHRoLzUwO1xuICAgICAgICAgICAgICAgICAgICBwLmhlaWdodCA9IHAud2lkdGggKiBwLmltYWdlLmhlaWdodC8gcC5pbWFnZS53aWR0aDtcbiAgICAgICAgICAgICAgICAgICAgY3R4LnNhdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgY3R4LnRyYW5zbGF0ZShwLngqcmF0aW8sIHAueSpyYXRpbyk7XG4gICAgICAgICAgICAgICAgICAgIGN0eC5kcmF3SW1hZ2UocC5pbWFnZSwgLXAud2lkdGgvMiwgLXAuaGVpZ2h0LzIsIHAud2lkdGgsIHAuaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICAgICAgY3R4LnJlc3RvcmUoKTtcbiAgICAgICAgICAgICAgICAgICAgcC5kZWNyZWFzZUR1cmF0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmKHAuZHVyYXRpb24gPT0gMCl7XG4gICAgICAgICAgICAgICAgICAgICAgICBBbGxQb3dlclVwcy5zcGxpY2UocG93ZXJ1cCwgMSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmKEFsbEJ1bGxldHMubGVuZ3RoICE9IDApe1xuICAgICAgICAgICAgICAgIHZhciBCdWxsZXRXaWR0aCA9IGNhbnYud2lkdGgvMTAwO1xuICAgICAgICAgICAgICAgIHZhciBCdWxsZXRIZWlnaHQgPSBCdWxsZXRXaWR0aCAqIEFsbEJ1bGxldHNbMF0uaW1hZ2UuaGVpZ2h0L0FsbEJ1bGxldHNbMF0uaW1hZ2Uud2lkdGg7XG5cbiAgICAgICAgICAgICAgICBmb3IodmFyIGJ1bGxldCBpbiBBbGxCdWxsZXRzKXtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGIgPSBBbGxCdWxsZXRzW2J1bGxldF07XG4gICAgICAgICAgICAgICAgICAgIGIud2lkdGggPSBCdWxsZXRXaWR0aDtcbiAgICAgICAgICAgICAgICAgICAgYi5oZWlnaHQgPSBCdWxsZXRIZWlnaHQ7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYoYi5leHBsb2RlU3RhZ2UgPT0gMCl7XG4gICAgICAgICAgICAgICAgICAgICAgICAvL0RyYXcgYnVsbGV0XG4gICAgICAgICAgICAgICAgICAgICAgICBjdHguc2F2ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3R4LnRyYW5zbGF0ZShiLngqcmF0aW8sIGIueSpyYXRpbyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdHgucm90YXRlKGIucm90YXRpb24vMTgwKk1hdGguUEkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3R4LmRyYXdJbWFnZShiLmltYWdlLCAtQnVsbGV0V2lkdGgvMiwgLUJ1bGxldEhlaWdodC8yLCBCdWxsZXRXaWR0aCwgQnVsbGV0SGVpZ2h0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN0eC5yZXN0b3JlKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIEFsbEJ1bGxldHNbYnVsbGV0XS54ID0gTWF0aC5jb3MoKGIucm90YXRpb24gLSA5MCkvMTgwKk1hdGguUEkpICsgYi54O1xuICAgICAgICAgICAgICAgICAgICAgICAgQWxsQnVsbGV0c1tidWxsZXRdLnkgPSBNYXRoLnNpbigoYi5yb3RhdGlvbiAtIDkwKS8xODAqTWF0aC5QSSkrIGIueTtcbiAgICAgICAgICAgICAgICAgICAgfWVsc2UgaWYoYi5leHBsb2RlU3RhZ2UgPCA0KXtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vRHJhdyBleHBsb3Npb25cbiAgICAgICAgICAgICAgICAgICAgICAgIGN0eC5zYXZlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdHgudHJhbnNsYXRlKGIueCpyYXRpbywgYi55KnJhdGlvKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN0eC5kcmF3SW1hZ2UoYi5leHBsb3Npb25JbWFnZSwgLUJ1bGxldFdpZHRoLCAtQnVsbGV0V2lkdGgsIEJ1bGxldFdpZHRoKjIsIEJ1bGxldFdpZHRoKjIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3R4LnJlc3RvcmUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYoQWxsUGxheWVycy5sZW5ndGggIT0gMCl7XG4gICAgICAgICAgICAgICAgdmFyIFNwYWNlc2hpcFdpZHRoID0gY2Fudi53aWR0aC8yMDtcbiAgICAgICAgICAgICAgICB2YXIgU3BhY2VzaGlwSGVpZ2h0ID0gU3BhY2VzaGlwV2lkdGggKiBBbGxQbGF5ZXJzWzBdLmltYWdlLmhlaWdodC8gQWxsUGxheWVyc1swXS5pbWFnZS53aWR0aDtcblxuICAgICAgICAgICAgICAgIGZvcih2YXIgcGxheWVyIGluIEFsbFBsYXllcnMpe1xuICAgICAgICAgICAgICAgICAgICB2YXIgcCA9IEFsbFBsYXllcnNbcGxheWVyXTtcbiAgICAgICAgICAgICAgICAgICAgcC53aWR0aCA9IFNwYWNlc2hpcFdpZHRoO1xuICAgICAgICAgICAgICAgICAgICBwLmhlaWdodCA9IFNwYWNlc2hpcEhlaWdodDtcbiAgICAgICAgICAgICAgICAgICAgY3R4LnNhdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgY3R4LnRyYW5zbGF0ZShwLngqcmF0aW8sIHAueSpyYXRpbyk7XG4gICAgICAgICAgICAgICAgICAgIGN0eC5yb3RhdGUocC5yb3RhdGlvbi8xODAqTWF0aC5QSSk7XG4gICAgICAgICAgICAgICAgICAgIGN0eC5kcmF3SW1hZ2UocC5pbWFnZSwgLVNwYWNlc2hpcFdpZHRoLzIsIC1TcGFjZXNoaXBIZWlnaHQvMiwgU3BhY2VzaGlwV2lkdGgsIFNwYWNlc2hpcEhlaWdodCk7XG4gICAgICAgICAgICAgICAgICAgIGlmKHAuZGFtYWdlID4gMCl7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdHguZHJhd0ltYWdlKHAuZGFtYWdlSW1hZ2UsIC1TcGFjZXNoaXBXaWR0aC8yLCAtU3BhY2VzaGlwSGVpZ2h0LzIsIFNwYWNlc2hpcFdpZHRoLCBTcGFjZXNoaXBIZWlnaHQpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYocC5kZWFkKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIEFsbFBsYXllcnNbcGxheWVyXS5leHBsb2RlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZihwLmRhbWFnZTw0KXtcbiAgICAgICAgICAgICAgICAgICAgICAgIEFsbFBsYXllcnNbcGxheWVyXS54ID0gTWF0aC5jb3MoKHAucm90YXRpb24gLSA5MCkvMTgwKk1hdGguUEkpLzEwKiBwLnNwZWVkICsgcC54O1xuICAgICAgICAgICAgICAgICAgICAgICAgQWxsUGxheWVyc1twbGF5ZXJdLnkgPSBNYXRoLnNpbigocC5yb3RhdGlvbiAtIDkwKS8xODAqTWF0aC5QSSkvMTAqIHAuc3BlZWQgKyBwLnk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYocC5zaGllbGQpe1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIFNoaWVsZFdpZHRoID0gU3BhY2VzaGlwV2lkdGggKiAxLjU7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgU2hpZWxkSGVpZ2h0ID0gU2hpZWxkV2lkdGggLyBwLnNoaWVsZEltYWdlLndpZHRoICogcC5zaGllbGRJbWFnZS5oZWlnaHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdHguZHJhd0ltYWdlKHAuc2hpZWxkSW1hZ2UsIC1TaGllbGRXaWR0aC8yLCAtU2hpZWxkSGVpZ2h0LzIsIFNoaWVsZFdpZHRoLCBTaGllbGRIZWlnaHQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGN0eC5yZXN0b3JlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZihBbGxBc3Rlcm9pZHMubGVuZ3RoPjApe1xuICAgICAgICAgICAgICAgIGZvcih2YXIgQXN0ZXJvaWQgaW4gQWxsQXN0ZXJvaWRzKXtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGEgPSBBbGxBc3Rlcm9pZHNbQXN0ZXJvaWRdO1xuICAgICAgICAgICAgICAgICAgICBhLndpZHRoID0gY2Fudi53aWR0aC83MDAqIGEuaW1hZ2Uud2lkdGg7XG4gICAgICAgICAgICAgICAgICAgIGEuaGVpZ2h0ID0gYS53aWR0aCogYS5pbWFnZS5oZWlnaHQvIGEuaW1hZ2Uud2lkdGg7XG4gICAgICAgICAgICAgICAgICAgIGN0eC5zYXZlKCk7XG4gICAgICAgICAgICAgICAgICAgIGN0eC50cmFuc2xhdGUoYS54KnJhdGlvLCBhLnkqcmF0aW8pO1xuICAgICAgICAgICAgICAgICAgICBjdHgucm90YXRlKGEucm90YXRpb24vMTgwKk1hdGguUEkpO1xuICAgICAgICAgICAgICAgICAgICBjdHguZHJhd0ltYWdlKGEuaW1hZ2UsIC1hLndpZHRoLzIsIC1hLmhlaWdodC8yLCBhLndpZHRoLCBhLmhlaWdodCk7XG4gICAgICAgICAgICAgICAgICAgIGN0eC5yZXN0b3JlKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmKGEueCA8IC01IHx8IGEueCA+IDEwNSB8fCBhLnkgPCAtNSB8fCBhLnkgPiAxMDUpe1xuICAgICAgICAgICAgICAgICAgICAgICAgLy9uaWV1d2UgYXN0ZXJvaWQgdGVrZW5lblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGtldXplID0gTWF0aC5yYW5kb20oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGtldXplIDwgMC4yNSl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9saW5rc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFsbEFzdGVyb2lkc1tBc3Rlcm9pZF0ueCA9IC00O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFsbEFzdGVyb2lkc1tBc3Rlcm9pZF0ueSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSoxMDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFsbEFzdGVyb2lkc1tBc3Rlcm9pZF0ucm90YXRpb24gPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqMTgwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNlIGlmKGtldXplIDwgMC41KXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2JvdmVuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQWxsQXN0ZXJvaWRzW0FzdGVyb2lkXS54ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKjEwMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQWxsQXN0ZXJvaWRzW0FzdGVyb2lkXS55ID0gLTQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQWxsQXN0ZXJvaWRzW0FzdGVyb2lkXS5yb3RhdGlvbiA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSoxODApICsgOTA7XG4gICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZSBpZihrZXV6ZSA8IDAuNzUpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vcmVjaHRzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQWxsQXN0ZXJvaWRzW0FzdGVyb2lkXS54ID0gMTA0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFsbEFzdGVyb2lkc1tBc3Rlcm9pZF0ueSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSoxMDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFsbEFzdGVyb2lkc1tBc3Rlcm9pZF0ucm90YXRpb24gPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqMTgwKSArIDE4MDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vb25kZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBBbGxBc3Rlcm9pZHNbQXN0ZXJvaWRdLnggPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqMTAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBBbGxBc3Rlcm9pZHNbQXN0ZXJvaWRdLnkgPSAxMDQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQWxsQXN0ZXJvaWRzW0FzdGVyb2lkXS5yb3RhdGlvbiA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSoxODApICsgMjcwO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgQWxsQXN0ZXJvaWRzW0FzdGVyb2lkXS5zcGVlZCA9IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICBBbGxBc3Rlcm9pZHNbQXN0ZXJvaWRdLnNldEltYWdlKE1hdGguY2VpbChNYXRoLnJhbmRvbSgpKjE4KSk7XG5cbiAgICAgICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgICAgICBBbGxBc3Rlcm9pZHNbQXN0ZXJvaWRdLnggPSBNYXRoLmNvcygoYS5yb3RhdGlvbiAtIDkwKS8xODAqTWF0aC5QSSkvMzAqQWxsQXN0ZXJvaWRzW0FzdGVyb2lkXS5zcGVlZCArIGEueDtcbiAgICAgICAgICAgICAgICAgICAgICAgIEFsbEFzdGVyb2lkc1tBc3Rlcm9pZF0ueSA9IE1hdGguc2luKChhLnJvdGF0aW9uIC0gOTApLzE4MCpNYXRoLlBJKS8zMCpBbGxBc3Rlcm9pZHNbQXN0ZXJvaWRdLnNwZWVkICsgYS55O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjaGVja0J1bGxldHMoKTtcblxuICAgICAgICAgICAgY29sbGlzaW9uRGV0ZWN0aW9uKCk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBjaGVja0J1bGxldHMoKXtcbiAgICAgICAgICAgIGZvcih2YXIgYiBpbiBBbGxCdWxsZXRzKXtcbiAgICAgICAgICAgICAgICBpZihBbGxCdWxsZXRzW2JdLnggPCAwIHx8IEFsbEJ1bGxldHNbYl0ueCA+IGNhbnYud2lkdGggfHwgQWxsQnVsbGV0c1tiXS55IDwgMCB8fCBBbGxCdWxsZXRzW2JdLnkgPiBjYW52LmhlaWdodCl7XG4gICAgICAgICAgICAgICAgICAgIEFsbEJ1bGxldHMuc3BsaWNlKGIsIDEpO1xuICAgICAgICAgICAgICAgIH1lbHNlIGlmKEFsbEJ1bGxldHNbYl0uZXhwbG9kZVN0YWdlID4wKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChBbGxCdWxsZXRzW2JdLmV4cGxvZGVTdGFnZSA8IDQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIEFsbEJ1bGxldHNbYl0uZXhwbG9kZSgpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgQWxsQnVsbGV0cy5zcGxpY2UoYiwgMSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBjb2xsaXNpb25EZXRlY3Rpb24oKXtcbiAgICAgICAgICAgIC8vUGxheWVyIC0gQnVsbGV0XG4gICAgICAgICAgICB2YXIgbGl2aW5nUGxheWVycz1bXTtcbiAgICAgICAgICAgIGZvcih2YXIgcCBpbiBBbGxQbGF5ZXJzKXtcbiAgICAgICAgICAgICAgICBpZihBbGxQbGF5ZXJzW3BdLmRhbWFnZTw0KXtcbiAgICAgICAgICAgICAgICAgICAgbGl2aW5nUGxheWVycy5wdXNoKEFsbFBsYXllcnNbcF0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmb3IodmFyIGIgaW4gQWxsQnVsbGV0cyl7XG4gICAgICAgICAgICAgICAgICAgIGlmKEFsbEJ1bGxldHNbYl0uZXhwbG9kZVN0YWdlID09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChBbGxCdWxsZXRzW2JdLnBsYXllciAhPSBBbGxQbGF5ZXJzW3BdLnVzZXJOYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJhZGl1cyA9IE1hdGguc3FydCgyKSAvIDIgKiAoQWxsQnVsbGV0c1tiXS5oZWlnaHQgLyAyIC0gQWxsQnVsbGV0c1tiXS53aWR0aCAvIDIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhbmdsZSA9ICgzNjAgLSAoQWxsQnVsbGV0c1tiXS5yb3RhdGlvbikpIC8gMTgwICogTWF0aC5QSTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYnVsbGV0SGVhZFggPSAoQWxsQnVsbGV0c1tiXS54ICogY2Fudi53aWR0aCAvIDEwMCAtIChyYWRpdXMgKiBNYXRoLnNpbihhbmdsZSkpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYnVsbGV0SGVhZFkgPSAoQWxsQnVsbGV0c1tiXS55ICogY2Fudi53aWR0aCAvIDEwMCAtIChyYWRpdXMgKiBNYXRoLmNvcyhhbmdsZSkpKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzcGFjZVNoaXBYID0gQWxsUGxheWVyc1twXS54ICogY2Fudi53aWR0aCAvIDEwMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3BhY2VTaGlwWSA9IEFsbFBsYXllcnNbcF0ueSAqIGNhbnYud2lkdGggLyAxMDA7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGlzdGFuY2UgPSBNYXRoLnNxcnQoKGJ1bGxldEhlYWRYIC0gc3BhY2VTaGlwWCkgKiAoYnVsbGV0SGVhZFggLSBzcGFjZVNoaXBYKSArIChidWxsZXRIZWFkWSAtIHNwYWNlU2hpcFkpICogKGJ1bGxldEhlYWRZIC0gc3BhY2VTaGlwWSkpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNoaWVsZFJhdGlvID0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihBbGxQbGF5ZXJzW3BdLnNoaWVsZCl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNoaWVsZFJhdGlvID0gMS41O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkaXN0YW5jZSA8IChBbGxCdWxsZXRzW2JdLndpZHRoIC8gMiArIEFsbFBsYXllcnNbcF0ud2lkdGggLyAyICogc2hpZWxkUmF0aW8pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkYW1hZ2Vzb3VuZCA9IG5ldyBBdWRpbygnLi4vLi4vYXNzZXRzL0JvbnVzL3NmeF9sb3NlLm9nZycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYW1hZ2Vzb3VuZC5wbGF5KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCFBbGxQbGF5ZXJzW3BdLnNoaWVsZCl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBbGxQbGF5ZXJzW3BdLmluY3JlYXNlRGFtYWdlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IHt9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS51c2VybmFtZSA9IEFsbFBsYXllcnNbcF0udXNlck5hbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLmxpZmUgPSAzLUFsbFBsYXllcnNbcF0uZGFtYWdlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc29ja2V0U2VydmljZS5lbWl0KFwicGxheWVyTGlmZVwiLGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFsbEJ1bGxldHNbYl0uZXhwbG9kZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvL1BsYXllciAtIEFzdGVyb2lkXG4gICAgICAgICAgICAgICAgZm9yKHZhciBhIGluIEFsbEFzdGVyb2lkcyl7XG4gICAgICAgICAgICAgICAgICAgIHZhciBhc3Rlcm9pZFggPSBBbGxBc3Rlcm9pZHNbYV0ueCAqIGNhbnYud2lkdGggLyAxMDA7XG4gICAgICAgICAgICAgICAgICAgIHZhciBhc3Rlcm9pZFkgPSBBbGxBc3Rlcm9pZHNbYV0ueSAqIGNhbnYud2lkdGggLyAxMDA7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIHNwYWNlU2hpcFggPSBBbGxQbGF5ZXJzW3BdLnggKiBjYW52LndpZHRoIC8gMTAwO1xuICAgICAgICAgICAgICAgICAgICB2YXIgc3BhY2VTaGlwWSA9IEFsbFBsYXllcnNbcF0ueSAqIGNhbnYud2lkdGggLyAxMDA7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGRpc3RhbmNlID0gTWF0aC5zcXJ0KChhc3Rlcm9pZFggLSBzcGFjZVNoaXBYKSAqIChhc3Rlcm9pZFggLSBzcGFjZVNoaXBYKSArIChhc3Rlcm9pZFkgLSBzcGFjZVNoaXBZKSAqIChhc3Rlcm9pZFkgLSBzcGFjZVNoaXBZKSk7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIHNoaWVsZFJhdGlvID0gMTtcbiAgICAgICAgICAgICAgICAgICAgaWYoQWxsUGxheWVyc1twXS5zaGllbGQpe1xuICAgICAgICAgICAgICAgICAgICAgICAgc2hpZWxkUmF0aW8gPSAxLjU7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAoZGlzdGFuY2UgPCAoQWxsQXN0ZXJvaWRzW2FdLndpZHRoIC8gMiArIEFsbFBsYXllcnNbcF0ud2lkdGggLyAyICogc2hpZWxkUmF0aW8pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGFtYWdlc291bmQgPSBuZXcgQXVkaW8oJy4uLy4uL2Fzc2V0cy9Cb251cy9zZnhfbG9zZS5vZ2cnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhbWFnZXNvdW5kLnBsYXkoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKEFsbFBsYXllcnNbcF0uc2hpZWxkKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBBbGxBc3Rlcm9pZHNbYV0ucm90YXRpb24gPSBBbGxBc3Rlcm9pZHNbYV0ucm90YXRpb24gKyAxODA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQWxsQXN0ZXJvaWRzW2FdLnNwZWVkID0gMztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBBbGxBc3Rlcm9pZHNbYV0ueCA9IE1hdGguY29zKChBbGxBc3Rlcm9pZHNbYV0ucm90YXRpb24gLSA5MCkvMTgwKk1hdGguUEkpLzMwKkFsbEFzdGVyb2lkc1thXS5zcGVlZCArIEFsbEFzdGVyb2lkc1thXS54O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFsbEFzdGVyb2lkc1thXS55ID0gTWF0aC5zaW4oKEFsbEFzdGVyb2lkc1thXS5yb3RhdGlvbiAtIDkwKS8xODAqTWF0aC5QSSkvMzAqQWxsQXN0ZXJvaWRzW2FdLnNwZWVkICsgQWxsQXN0ZXJvaWRzW2FdLnk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBBbGxQbGF5ZXJzW3BdLmRlYWQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IHt9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEudXNlcm5hbWUgPSBBbGxQbGF5ZXJzW3BdLnVzZXJOYW1lO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEubGlmZSA9IDMtQWxsUGxheWVyc1twXS5kYW1hZ2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc29ja2V0U2VydmljZS5lbWl0KFwicGxheWVyTGlmZVwiLGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy9QbGF5ZXIgLSBQbGF5ZXJcblxuICAgICAgICAgICAgICAgIGZvcih2YXIgYSBpbiBBbGxQbGF5ZXJzKXtcbiAgICAgICAgICAgICAgICAgICAgaWYoYSE9cCl7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3BhY2VTaGlwMVggPSBBbGxQbGF5ZXJzW2FdLnggKiBjYW52LndpZHRoIC8gMTAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNwYWNlU2hpcDFZID0gQWxsUGxheWVyc1thXS55ICogY2Fudi53aWR0aCAvIDEwMDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNwYWNlU2hpcFggPSBBbGxQbGF5ZXJzW3BdLnggKiBjYW52LndpZHRoIC8gMTAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNwYWNlU2hpcFkgPSBBbGxQbGF5ZXJzW3BdLnkgKiBjYW52LndpZHRoIC8gMTAwO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2hpZWxkUmF0aW8gPSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYoQWxsUGxheWVyc1twXS5zaGllbGQpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNoaWVsZFJhdGlvID0gMS41O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2hpZWxkUmF0aW8xID0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKEFsbFBsYXllcnNbYV0uc2hpZWxkKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaGllbGRSYXRpbzEgPSAxLjU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkaXN0YW5jZSA9IE1hdGguc3FydCgoc3BhY2VTaGlwMVggLSBzcGFjZVNoaXBYKSAqIChzcGFjZVNoaXAxWCAtIHNwYWNlU2hpcFgpICsgKHNwYWNlU2hpcDFZIC0gc3BhY2VTaGlwWSkgKiAoc3BhY2VTaGlwMVkgLSBzcGFjZVNoaXBZKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGlzdGFuY2UgPCAoQWxsUGxheWVyc1thXS53aWR0aCAvIDIgKiBzaGllbGRSYXRpbzEgKyBBbGxQbGF5ZXJzW3BdLndpZHRoIC8gMiAqIHNoaWVsZFJhdGlvKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkYW1hZ2Vzb3VuZCA9IG5ldyBBdWRpbygnLi4vLi4vYXNzZXRzL0JvbnVzL3NmeF9sb3NlLm9nZycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhbWFnZXNvdW5kLnBsYXkoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBBbGxQbGF5ZXJzW3BdLmRlYWQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBBbGxQbGF5ZXJzW2FdLmRlYWQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IHt9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEudXNlcm5hbWUgPSBBbGxQbGF5ZXJzW3BdLnVzZXJOYW1lO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEubGlmZSA9IDMtQWxsUGxheWVyc1twXS5kYW1hZ2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc29ja2V0U2VydmljZS5lbWl0KFwicGxheWVyTGlmZVwiLGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEudXNlcm5hbWUgPSBBbGxQbGF5ZXJzW2FdLnVzZXJOYW1lO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEubGlmZSA9IDMtQWxsUGxheWVyc1thXS5kYW1hZ2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc29ja2V0U2VydmljZS5lbWl0KFwicGxheWVyTGlmZVwiLGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy9QbGF5ZXIgLSBXYWxsXG4gICAgICAgICAgICAgICAgaWYoQWxsUGxheWVyc1twXS54KmNhbnYud2lkdGgvMTAwIDwgQWxsUGxheWVyc1twXS5oZWlnaHQvMiB8fCBBbGxQbGF5ZXJzW3BdLngqY2Fudi53aWR0aC8xMDAgPiBjYW52LndpZHRoLShBbGxQbGF5ZXJzW3BdLmhlaWdodC8yKXx8XG4gICAgICAgICAgICAgICAgICAgIEFsbFBsYXllcnNbcF0ueSpjYW52LndpZHRoLzEwMCA8IEFsbFBsYXllcnNbcF0uaGVpZ2h0LzIgfHwgQWxsUGxheWVyc1twXS55KmNhbnYud2lkdGgvMTAwID4gY2Fudi53aWR0aC0oQWxsUGxheWVyc1twXS5oZWlnaHQvMikpe1xuICAgICAgICAgICAgICAgICAgICB2YXIgZGFtYWdlc291bmQgPSBuZXcgQXVkaW8oJy4uLy4uL2Fzc2V0cy9Cb251cy9zZnhfbG9zZS5vZ2cnKTtcbiAgICAgICAgICAgICAgICAgICAgZGFtYWdlc291bmQucGxheSgpO1xuICAgICAgICAgICAgICAgICAgICBBbGxQbGF5ZXJzW3BdLmRlYWQoKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGEgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgZGF0YS51c2VybmFtZSA9IEFsbFBsYXllcnNbcF0udXNlck5hbWU7XG4gICAgICAgICAgICAgICAgICAgIGRhdGEubGlmZSA9IDMtQWxsUGxheWVyc1twXS5kYW1hZ2U7XG4gICAgICAgICAgICAgICAgICAgIHNvY2tldFNlcnZpY2UuZW1pdChcInBsYXllckxpZmVcIixkYXRhKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvL1BsYXllciAtIFBvd2VydXBcbiAgICAgICAgICAgICAgICBmb3IodmFyIGEgaW4gQWxsUG93ZXJVcHMpe1xuICAgICAgICAgICAgICAgICAgICB2YXIgcG93ZXJ1cFggPSBBbGxQb3dlclVwc1thXS54ICogY2Fudi53aWR0aCAvIDEwMDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBvd2VydXBZID0gQWxsUG93ZXJVcHNbYV0ueSAqIGNhbnYud2lkdGggLyAxMDA7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIHNwYWNlU2hpcFggPSBBbGxQbGF5ZXJzW3BdLnggKiBjYW52LndpZHRoIC8gMTAwO1xuICAgICAgICAgICAgICAgICAgICB2YXIgc3BhY2VTaGlwWSA9IEFsbFBsYXllcnNbcF0ueSAqIGNhbnYud2lkdGggLyAxMDA7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGRpc3RhbmNlID0gTWF0aC5zcXJ0KChwb3dlcnVwWCAtIHNwYWNlU2hpcFgpICogKHBvd2VydXBYIC0gc3BhY2VTaGlwWCkgKyAocG93ZXJ1cFkgLSBzcGFjZVNoaXBZKSAqIChwb3dlcnVwWSAtIHNwYWNlU2hpcFkpKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRpc3RhbmNlIDwgKEFsbFBvd2VyVXBzW2FdLndpZHRoIC8gMiArIEFsbFBsYXllcnNbcF0ud2lkdGggLyAyKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBvd2VydXBTb3VuZCA9IG5ldyBBdWRpbygnLi4vLi4vYXNzZXRzL0JvbnVzL3NmeF96YXAub2dnJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBwb3dlcnVwU291bmQucGxheSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgQWxsUGxheWVyc1twXS5hZGRQb3dlcnVwKEFsbFBvd2VyVXBzW2FdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKEFsbFBvd2VyVXBzW2FdLnR5cGUgPT0gMyl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGEgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLnVzZXJuYW1lID0gQWxsUGxheWVyc1twXS51c2VyTmFtZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLmxpZmUgPSAzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvY2tldFNlcnZpY2UuZW1pdChcInBsYXllckxpZmVcIiwgZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBBbGxQb3dlclVwcy5zcGxpY2UoYSwgMSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy9CdWxsZXQgLSBBc3Rlcm9pZFxuICAgICAgICAgICAgZm9yKHZhciBhIGluIEFsbEFzdGVyb2lkcykge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGIgaW4gQWxsQnVsbGV0cykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoQWxsQnVsbGV0c1tiXS5leHBsb2RlU3RhZ2UgPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKEFsbEJ1bGxldHNbYl0ucGxheWVyICE9IEFsbEFzdGVyb2lkc1thXS51c2VyTmFtZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByYWRpdXMgPSBNYXRoLnNxcnQoMikgLyAyICogKEFsbEJ1bGxldHNbYl0uaGVpZ2h0IC8gMiAtIEFsbEJ1bGxldHNbYl0ud2lkdGggLyAyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYW5nbGUgPSAoMzYwIC0gKEFsbEJ1bGxldHNbYl0ucm90YXRpb24pKSAvIDE4MCAqIE1hdGguUEk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGJ1bGxldEhlYWRYID0gKEFsbEJ1bGxldHNbYl0ueCAqIGNhbnYud2lkdGggLyAxMDAgLSAocmFkaXVzICogTWF0aC5zaW4oYW5nbGUpKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGJ1bGxldEhlYWRZID0gKEFsbEJ1bGxldHNbYl0ueSAqIGNhbnYud2lkdGggLyAxMDAgLSAocmFkaXVzICogTWF0aC5jb3MoYW5nbGUpKSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYXN0ZXJvaWRYID0gQWxsQXN0ZXJvaWRzW2FdLnggKiBjYW52LndpZHRoIC8gMTAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhc3Rlcm9pZFkgPSBBbGxBc3Rlcm9pZHNbYV0ueSAqIGNhbnYud2lkdGggLyAxMDA7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGlzdGFuY2UgPSBNYXRoLnNxcnQoKGJ1bGxldEhlYWRYIC0gYXN0ZXJvaWRYKSAqIChidWxsZXRIZWFkWCAtIGFzdGVyb2lkWCkgKyAoYnVsbGV0SGVhZFkgLSBhc3Rlcm9pZFkpICogKGJ1bGxldEhlYWRZIC0gYXN0ZXJvaWRZKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRpc3RhbmNlIDwgKEFsbEJ1bGxldHNbYl0ud2lkdGggLyAyICsgQWxsQXN0ZXJvaWRzW2FdLndpZHRoIC8gMikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGEgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS51c2VybmFtZSA9IEFsbEFzdGVyb2lkc1thXS51c2VyTmFtZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5saWZlID0gMyAtIEFsbEFzdGVyb2lkc1thXS5kYW1hZ2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvY2tldFNlcnZpY2UuZW1pdChcInBsYXllckxpZmVcIiwgZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFsbEJ1bGxldHNbYl0uZXhwbG9kZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy9cblxuICAgICAgICAgICAgaWYobGl2aW5nUGxheWVycy5sZW5ndGg9PTEpe1xuICAgICAgICAgICAgICAgIGVuZEdhbWUobGl2aW5nUGxheWVycyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBlbmRHYW1lKGxpdmluZ1BsYXllcnMpe1xuICAgICAgICAgICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKGN5Y2xlKSkge1xuICAgICAgICAgICAgICAgICRpbnRlcnZhbC5jYW5jZWwoY3ljbGUpO1xuICAgICAgICAgICAgICAgIGN5Y2xlID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgJHNjb3BlLmVuZEdhbWU9dHJ1ZTtcbiAgICAgICAgICAgICRzY29wZS5lbmRHYW1lVGV4dD0gbGl2aW5nUGxheWVyc1swXS51c2VyTmFtZSArIFwiIGlzIHRoZSB3aW5uZXIhXCI7XG4gICAgICAgICAgICBzb2NrZXRTZXJ2aWNlLmVtaXQoXCJlbmRHYW1lXCIsIGxpdmluZ1BsYXllcnNbMF0udXNlck5hbWUpO1xuICAgICAgICB9XG4gICAgICAgICRzY29wZS5yZXN0YXJ0R2FtZSA9IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAkc2NvcGUuZW5kR2FtZT1mYWxzZTtcbiAgICAgICAgICAgIHZhciB0ZWxsZXI9MDtcbiAgICAgICAgICAgIGZvcih2YXIgcCBpbiBBbGxQbGF5ZXJzKXtcbiAgICAgICAgICAgICAgICBBbGxQbGF5ZXJzW3BdLnJlc2V0KGRlZmF1bHRWYXJzW3RlbGxlcl0ueCxkZWZhdWx0VmFyc1t0ZWxsZXJdLnksZGVmYXVsdFZhcnNbdGVsbGVyXS5yb3RhdGlvbik7XG4gICAgICAgICAgICAgICAgdGVsbGVyKys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBBbGxBc3Rlcm9pZHM9W107XG4gICAgICAgICAgICBmb3IodmFyIGkgPSAwOyBpPDE1OyBpKyspe1xuICAgICAgICAgICAgICAgIEFsbEFzdGVyb2lkcy5wdXNoKG5ldyBBc3Rlcm9pZChjcmVhdGVDb29yZGluYXRlWCgpLCBjcmVhdGVDb29yZGluYXRlWSgpLCBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqMzYxKSwgTWF0aC5jZWlsKE1hdGgucmFuZG9tKCkqMTgpKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBBbGxCdWxsZXRzID0gW107XG4gICAgICAgICAgICBBbGxQb3dlclVwcyA9IFtdO1xuICAgICAgICAgICAgUG93ZXJ1cFNwYXduVGltZSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSo1MDAgKyA1MDApO1xuXG4gICAgICAgICAgICBjdHguY2xlYXJSZWN0KDAsMCxjYW52LndpZHRoLCBjYW52LmhlaWdodCk7XG4gICAgICAgICAgICBzb2NrZXRTZXJ2aWNlLmVtaXQoXCJyZXN0YXJ0R2FtZVwiLG51bGwpO1xuICAgICAgICAgICAgY3ljbGUgPSAkaW50ZXJ2YWwoZHJhdywgMTApO1xuICAgICAgICB9O1xuICAgIH07XG5cbiAgICBhbmd1bGFyLm1vZHVsZShcImFwcFwiKS5jb250cm9sbGVyKFwicGxheUNvbnRyb2xsZXJcIiwgW1wiJHNjb3BlXCIsIFwiJGludGVydmFsXCIsIFwiJHdpbmRvd1wiLCBcInNvY2tldFNlcnZpY2VcIiwgXCJkaXNwbGF5U2VydmljZVwiLCBcInBsYXllclNlcnZpY2VcIiwgcGxheUNvbnRyb2xsZXJdKVxufSkoKTsiLCIvKipcbiAqIENyZWF0ZWQgYnkganVzdGlqbmRlcG92ZXIgb24gMTYvMTIvMTUuXG4gKi9cbihmdW5jdGlvbigpe1xuICAgIHZhciBjYW52YXNEaXJlY3RpdmUgPSBmdW5jdGlvbigkd2luZG93KXtcbiAgICAgICAgcmV0dXJue1xuICAgICAgICAgICAgcmVzdHJpY3Q6ICdFJyxcbiAgICAgICAgICAgIGxpbms6bGluayxcbiAgICAgICAgICAgIHJlcGxhY2U6dHJ1ZSxcbiAgICAgICAgICAgIHRlbXBsYXRlOic8Y2FudmFzIGlkPVwiZ2FtZVwiIGNsYXNzPVwicGxheUFyZWFcIiB3aWR0aD1cInt7d2lkdGh9fVwiIGhlaWdodD1cInt7d2lkdGh9fVwiIC8+J1xuICAgICAgICB9O1xuXG4gICAgICAgIGZ1bmN0aW9uIGxpbmsoc2NvcGUsIGVsZW1lbnQsIGF0dHJzKXtcbiAgICAgICAgICAgIGlmKCR3aW5kb3cuaW5uZXJXaWR0aCA8ICR3aW5kb3cuaW5uZXJIZWlnaHQpe1xuICAgICAgICAgICAgICAgIHNjb3BlLndpZHRoID0gJHdpbmRvdy5pbm5lcldpZHRoIC0gMjA7XG4gICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICBzY29wZS53aWR0aCA9ICR3aW5kb3cuaW5uZXJIZWlnaHQgLSAyMDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYW5ndWxhci5lbGVtZW50KCR3aW5kb3cpLmJpbmQoJ3Jlc2l6ZScsIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgaWYoJHdpbmRvdy5pbm5lcldpZHRoIDwgJHdpbmRvdy5pbm5lckhlaWdodCl7XG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLndpZHRoID0gJHdpbmRvdy5pbm5lcldpZHRoIC0gMjA7XG4gICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLndpZHRoID0gJHdpbmRvdy5pbm5lckhlaWdodCAtIDIwO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHNjb3BlLiRkaWdlc3QoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIGFuZ3VsYXIubW9kdWxlKCdhcHAnKS5kaXJlY3RpdmUoXCJjYW52YXNEaXJlY3RpdmVcIiwgW1wiJHdpbmRvd1wiLCBjYW52YXNEaXJlY3RpdmVdKTtcbn0pKCk7IiwiLyoqXG4gKiBDcmVhdGVkIGJ5IE1pY2hpZWwgb24gMTYvMTIvMjAxNS5cbiAqL1xuLyoqXG4gKiBDcmVhdGVkIGJ5IGp1c3Rpam5kZXBvdmVyIG9uIDE2LzEyLzE1LlxuICovXG5cblxuKGZ1bmN0aW9uKCl7XG4gICAgdmFyIGRpc3BsYXlTZXJ2aWNlID0gZnVuY3Rpb24oKXtcbiAgICAgICAgLy9Mb2dpbiBDb250cm9sbGVyXG4gICAgICAgIHZhciBMQ1Nob3cgPSB0cnVlO1xuICAgICAgICAvL1BsYXkgY29udHJvbGxlclxuICAgICAgICB2YXIgUENTaG93ID0gZmFsc2U7XG5cbiAgICAgICAgcmV0dXJue1xuICAgICAgICAgICAgZ2V0TENTaG93OiBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIHJldHVybiBMQ1Nob3c7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0TENTaG93OiBmdW5jdGlvbih2YWx1ZSl7XG4gICAgICAgICAgICAgICAgTENTaG93ID0gdmFsdWU7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0UENTaG93OiBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIHJldHVybiBQQ1Nob3c7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0UENTaG93OiBmdW5jdGlvbih2YWx1ZSl7XG4gICAgICAgICAgICAgICAgUENTaG93ID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgYW5ndWxhci5tb2R1bGUoJ2FwcCcpLmZhY3RvcnkoJ2Rpc3BsYXlTZXJ2aWNlJywgW2Rpc3BsYXlTZXJ2aWNlXSk7XG59KSgpOyIsIi8qKlxuICogQ3JlYXRlZCBieSBqdXN0aWpuZGVwb3ZlciBvbiAxNy8xMi8xNS5cbiAqL1xuXG4oZnVuY3Rpb24oKXtcbiAgICB2YXIgcGxheWVyU2VydmljZSA9IGZ1bmN0aW9uKCl7XG4gICAgICAgIC8vTG9naW4gQ29udHJvbGxlclxuICAgICAgICB2YXIgcGxheWVycyA9IFtdO1xuXG4gICAgICAgIHJldHVybntcbiAgICAgICAgICAgIGdldFBsYXllcnM6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBsYXllcnM7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0UGxheWVyczogZnVuY3Rpb24ocGxheWVyc0FycmF5KXtcbiAgICAgICAgICAgICAgICBwbGF5ZXJzID0gcGxheWVyc0FycmF5O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIGFuZ3VsYXIubW9kdWxlKCdhcHAnKS5mYWN0b3J5KCdwbGF5ZXJTZXJ2aWNlJywgW3BsYXllclNlcnZpY2VdKTtcbn0pKCk7IiwiLyoqXG4gKiBDcmVhdGVkIGJ5IGp1c3Rpam5kZXBvdmVyIG9uIDA5LzEyLzE1LlxuICovXG5cblxudmFyIEFzdGVyb2lkID0gZnVuY3Rpb24oeCwgeSwgcm90YXRpb24sIHN0YWdlKXtcbiAgICB0aGlzLnggPSB4O1xuICAgIHRoaXMueSA9IHk7XG4gICAgdGhpcy53aWR0aCA9IDA7XG4gICAgdGhpcy5oZWlnaHQgPSAwO1xuICAgIHRoaXMucm90YXRpb24gPSByb3RhdGlvbjtcbiAgICB0aGlzLnN0YWdlID0gc3RhZ2U7XG4gICAgdGhpcy5pbWFnZSA9IG5ldyBJbWFnZSgpO1xuICAgIHRoaXMuaW1hZ2Uuc3JjID0gKFwiLi4vYXNzZXRzL1BORy9NZXRlb3JzL21ldGVvcl9cIiArIHN0YWdlICsgXCIucG5nXCIpO1xuICAgIHRoaXMuc3BlZWQgPSAxO1xufTtcblxuQXN0ZXJvaWQucHJvdG90eXBlLnNldEltYWdlID0gZnVuY3Rpb24oc3RhZ2Upe1xuICAgIHRoaXMuc3RhZ2UgPSBzdGFnZTtcbiAgICB0aGlzLmltYWdlLnNyYyA9IChcIi4uL2Fzc2V0cy9QTkcvTWV0ZW9ycy9tZXRlb3JfXCIgKyBzdGFnZSArIFwiLnBuZ1wiKTtcbn07IiwiLyoqXG4gKiBDcmVhdGVkIGJ5IGp1c3Rpam5kZXBvdmVyIG9uIDIyLzEyLzE1LlxuICovXG5cbnZhciBCdWxsZXQgPSBmdW5jdGlvbih4LCB5LHJvdGF0aW9uLCBjb2xvciwgcGxheWVyKXtcbiAgICB0aGlzLnggPSB4O1xuICAgIHRoaXMueSA9IHk7XG4gICAgdGhpcy5yb3RhdGlvbiA9IHJvdGF0aW9uO1xuICAgIHRoaXMuaW1hZ2UgPSBuZXcgSW1hZ2UoKTtcbiAgICB0aGlzLmNvbG9yID0gY29sb3I7XG4gICAgdGhpcy53aWR0aCA9IDA7XG4gICAgdGhpcy5oZWlnaHQgPSAwO1xuICAgIHRoaXMucGxheWVyID0gcGxheWVyO1xuICAgIHRoaXMuZXhwbG9zaW9uSW1hZ2UgPSBuZXcgSW1hZ2UoKTtcbiAgICB0aGlzLmV4cGxvZGVTdGFnZSA9IDA7XG4gICAgaWYodGhpcy5jb2xvciA9PSBcIm9yYW5nZVwiKXtcbiAgICAgICAgdGhpcy5jb2xvciA9ICdyZWQnO1xuICAgIH1cbiAgICB0aGlzLmltYWdlLnNyYyA9ICcuLi9hc3NldHMvUE5HL0xhc2Vycy9sYXNlcicrIHRoaXMuY29sb3IuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyB0aGlzLmNvbG9yLnNsaWNlKDEpICsnMDEucG5nJ1xufTtcblxuQnVsbGV0LnByb3RvdHlwZS5leHBsb2RlID0gZnVuY3Rpb24oKXtcbiAgICBpZih0aGlzLmV4cGxvZGVTdGFnZSA8IDQpe1xuICAgICAgICB0aGlzLmV4cGxvZGVTdGFnZSsrO1xuICAgICAgICB2YXIgbnVtYmVyO1xuICAgICAgICBpZih0aGlzLmV4cGxvZGVTdGFnZSA8IDMpe1xuICAgICAgICAgICBudW1iZXIgPSAxXG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgbnVtYmVyID0gMlxuICAgICAgICB9XG4gICAgICAgIHRoaXMuZXhwbG9zaW9uSW1hZ2Uuc3JjID0gJy4uL2Fzc2V0cy9QTkcvTGFzZXJzL2xhc2VyJyArIHRoaXMuY29sb3IuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyB0aGlzLmNvbG9yLnNsaWNlKDEpICsgJ0V4cGxvZGUnKyBudW1iZXIgKycucG5nJztcbiAgICB9ZWxzZXtcbiAgICAgICAgdGhpcy5leHBsb3Npb25JbWFnZS5zcmMgPSAnJztcbiAgICB9XG59O1xuIiwiLyoqXG4gKiBDcmVhdGVkIGJ5IGp1c3Rpam5kZXBvdmVyIG9uIDA1LzAxLzE2LlxuICovXG5cblxudmFyIFBvd2VydXAgPSBmdW5jdGlvbih4LCB5LCB0eXBlLCBib29sU2VsZil7XG4gICAgdGhpcy54ID0geDtcbiAgICB0aGlzLnkgPSB5O1xuICAgIHRoaXMud2lkdGggPSAwO1xuICAgIHRoaXMuaGVpZ2h0ID0gMDtcbiAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgIHRoaXMuZHVyYXRpb24gPSAxMDAwO1xuICAgIHZhciBpbWFnZVR5cGU7XG4gICAgdGhpcy5pbWFnZSA9IG5ldyBJbWFnZSgpO1xuICAgIHN3aXRjaCh0eXBlKXtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgaW1hZ2VUeXBlID0gXCJib2x0X1wiO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgIGltYWdlVHlwZSA9IFwic2hpZWxkX1wiO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgIGltYWdlVHlwZSA9IFwic3Rhcl9cIjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIHN3aXRjaChib29sU2VsZil7XG4gICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgIGltYWdlVHlwZSArPSBcImdvbGQucG5nXCI7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgaW1hZ2VUeXBlICs9IFwic2lsdmVyLnBuZ1wiO1xuICAgIH1cbiAgICB0aGlzLmltYWdlLnNyYyA9IFwiLi4vYXNzZXRzL1BORy9Qb3dlci11cHMvXCIgKyBpbWFnZVR5cGU7XG59O1xuXG5Qb3dlcnVwLnByb3RvdHlwZS5kZWNyZWFzZUR1cmF0aW9uID0gZnVuY3Rpb24oKXtcbiAgaWYodGhpcy5kdXJhdGlvbiA+IDApe1xuICAgICAgdGhpcy5kdXJhdGlvbiAtLTtcbiAgfVxufTsiLCIvKipcbiAqIENyZWF0ZWQgYnkganVzdGlqbmRlcG92ZXIgb24gMDkvMTIvMTUuXG4gKi9cblxudmFyIFNwYWNlc2hpcCA9IGZ1bmN0aW9uKHVzZXJOYW1lLCB4LCB5LCBjb2xvciwgcm90YXRpb24pe1xuICAgIHRoaXMudXNlck5hbWUgPSB1c2VyTmFtZTtcbiAgICB0aGlzLnggPSB4O1xuICAgIHRoaXMueSA9IHk7XG4gICAgdGhpcy5zcGVlZCA9IDE7XG4gICAgdGhpcy5jb2xvciA9IGNvbG9yO1xuICAgIHRoaXMucm90YXRpb24gPSByb3RhdGlvbjtcbiAgICB0aGlzLmltYWdlID0gbmV3IEltYWdlKCk7XG4gICAgdGhpcy5kYW1hZ2UgPSAwO1xuICAgIHRoaXMud2lkdGggPSAwO1xuICAgIHRoaXMuaGVpZ2h0ID0gMDtcbiAgICB0aGlzLnBvd2VydXBzID0gW107XG4gICAgdGhpcy5zaGllbGQgPSBmYWxzZTtcbiAgICB0aGlzLmRlYWQgPSBmYWxzZTtcbiAgICB0aGlzLnNoaWVsZEltYWdlID0gbmV3IEltYWdlKCk7XG4gICAgdGhpcy5zaGllbGRJbWFnZS5zcmMgPSBcIi4uL2Fzc2V0cy9QTkcvRWZmZWN0cy9zaGllbGQxLnBuZ1wiO1xuICAgIHRoaXMuZGFtYWdlSW1hZ2UgPSBuZXcgSW1hZ2UoKTtcbiAgICB0aGlzLmltYWdlLnNyYyA9ICcuLi9hc3NldHMvUE5HL3BsYXllclNoaXAxXycrIHRoaXMuY29sb3IgKycucG5nJztcbiAgICB0aGlzLmV4cGxvZGVTdGFnZSA9IC0xO1xufTtcblxuU3BhY2VzaGlwLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uICh4LCB5LCByb3RhdGlvbikge1xuICAgIHRoaXMuc3BlZWQgPSAxO1xuICAgIHRoaXMuZGFtYWdlID0gMDtcbiAgICB0aGlzLmRhbWFnZUltYWdlID0gbmV3IEltYWdlKCk7XG4gICAgdGhpcy5pbWFnZS5zcmMgPSAnLi4vYXNzZXRzL1BORy9wbGF5ZXJTaGlwMV8nKyB0aGlzLmNvbG9yICsnLnBuZyc7XG4gICAgdGhpcy54ID0geDtcbiAgICB0aGlzLnkgPSB5O1xuICAgIHRoaXMucm90YXRpb24gPSByb3RhdGlvbjtcbiAgICB0aGlzLnNoaWVsZCA9IGZhbHNlO1xufTtcblxuU3BhY2VzaGlwLnByb3RvdHlwZS5tb3ZlU3BhY2VzaGlwID0gZnVuY3Rpb24oeCwgeSl7XG4gICAgdGhpcy54ID0geDtcbiAgICB0aGlzLnkgPSB5O1xufTtcblxuU3BhY2VzaGlwLnByb3RvdHlwZS5tb3ZlU3BhY2VzaGlwUmVsYXRpdmUgPSBmdW5jdGlvbih4LCB5KXtcbiAgICB0aGlzLnggPSB0aGlzLngreDtcbiAgICB0aGlzLnkgPSB0aGlzLnkreTtcbn07XG5cblNwYWNlc2hpcC5wcm90b3R5cGUucm90YXRlU3BhY2VzaGlwID0gZnVuY3Rpb24oZGVncmVlKXtcbiAgICB0aGlzLnJvdGF0aW9uID0gZGVncmVlO1xufTtcblxuU3BhY2VzaGlwLnByb3RvdHlwZS5yb3RhdGVTcGFjZXNoaXBSZWxhdGl2ZSA9IGZ1bmN0aW9uKGRlZ3JlZSl7XG4gICAgaWYoZGVncmVlPjgwKXtcbiAgICAgICAgZGVncmVlPTgwO1xuICAgIH1lbHNlIGlmIChkZWdyZWU8LTgwKXtcbiAgICAgICAgZGVncmVlID0gLTgwO1xuICAgIH1cbiAgICB0aGlzLnJvdGF0aW9uID0gdGhpcy5yb3RhdGlvbiArIGRlZ3JlZS81O1xuICAgIGlmKHRoaXMucm90YXRpb24gPCAtMzYwKXtcbiAgICAgICAgdGhpcy5yb3RhdGlvbiA9IHRoaXMucm90YXRpb24gKyA3MjA7XG4gICAgfVxuICAgIGlmKHRoaXMucm90YXRpb24gPiAzNjApe1xuICAgICAgICB0aGlzLnJvdGF0aW9uID0gdGhpcy5yb3RhdGlvbiAtIDcyMDtcbiAgICB9XG59O1xuXG5TcGFjZXNoaXAucHJvdG90eXBlLmluY3JlYXNlRGFtYWdlID0gZnVuY3Rpb24oKXtcbiAgICBpZih0aGlzLmRhbWFnZSA8IDQpe1xuICAgICAgICB0aGlzLmRhbWFnZSArPSAxO1xuICAgIH1cblxuICAgIGlmKHRoaXMuZGFtYWdlIDw9IDMgJiYgdGhpcy5kYW1hZ2UgPiAwKXtcbiAgICAgICAgdGhpcy5kYW1hZ2VJbWFnZS5zcmMgPSAnLi4vYXNzZXRzL1BORy9EYW1hZ2UvcGxheWVyU2hpcDFfZGFtYWdlJysgdGhpcy5kYW1hZ2UgKyAnLnBuZyc7XG4gICAgfWVsc2UgaWYodGhpcy5kYW1hZ2U9PTQpe1xuICAgICAgICB0aGlzLmRlYWQgPSB0cnVlO1xuICAgICAgICB0aGlzLmRhbWFnZUltYWdlLnNyYyA9ICcuLi9hc3NldHMvUE5HL0RhbWFnZS9leHBsb2RlLmdpZic7XG4gICAgfVxufTtcblxuU3BhY2VzaGlwLnByb3RvdHlwZS5kZWFkID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZGVhZCA9IHRydWU7XG4gICAgdGhpcy5kYW1hZ2UgPSA0O1xuICAgIHRoaXMuZGFtYWdlSW1hZ2Uuc3JjID0gJy4uL2Fzc2V0cy9QTkcvRGFtYWdlL2V4cGxvZGUuZ2lmJztcbn07XG5cblNwYWNlc2hpcC5wcm90b3R5cGUuZXhwbG9kZSA9IGZ1bmN0aW9uKCl7XG4gICAgaWYodGhpcy5leHBsb2RlU3RhZ2UgPD0gMTQpe1xuICAgICAgICB0aGlzLmV4cGxvZGVTdGFnZSArKztcbiAgICAgICAgdGhpcy5pbWFnZSA9IFwiXCI7XG4gICAgICAgIHRoaXMuZGFtYWdlSW1hZ2Uuc3JjID0gXCIuLi9hc3NldHMvUE5HL0RhbWFnZS9mcmFtZVwiICsgdGhpcy5leHBsb2RlU3RhZ2UgKyBcIi5naWZcIjtcbiAgICB9XG59O1xuXG5TcGFjZXNoaXAucHJvdG90eXBlLmRlY3JlYXNlRGFtYWdlID0gZnVuY3Rpb24oKXtcbiAgICBpZih0aGlzLmRhbWFnZSA+IDApe1xuICAgICAgICB0aGlzLmRhbWFnZSAtPSAxO1xuICAgIH1cblxuICAgIGlmKHRoaXMuZGFtYWdlIDw9IDMgJiYgdGhpcy5kYW1hZ2UgPiAwKXtcbiAgICAgICAgdGhpcy5kYW1hZ2VJbWFnZS5zcmMgPSAnLi4vYXNzZXRzL1BORy9EYW1hZ2UvcGxheWVyU2hpcDFfZGFtYWdlJysgdGhpcy5kYW1hZ2UgKyAnLnBuZyc7XG4gICAgfVxufTtcblxuU3BhY2VzaGlwLnByb3RvdHlwZS5hZGRQb3dlcnVwID0gZnVuY3Rpb24ocG93ZXJ1cCl7XG4gICAgc3dpdGNoKHBvd2VydXAudHlwZSl7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgIHRoaXMuc3BlZWQgKys7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgdGhpcy5zaGllbGQgPSB0cnVlO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgIHRoaXMuZGFtYWdlID0gMDtcbiAgICAgICAgICAgIHRoaXMuZGFtYWdlSW1hZ2Uuc3JjID0gXCJcIjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICB0aGlzLnBvd2VydXBzLnB1c2gocG93ZXJ1cCk7XG59O1xuXG4iLCIvKipcbiAqIENyZWF0ZWQgYnkganVzdGlqbmRlcG92ZXIgb24gMDkvMTIvMTUuXG4gKi9cblxuKGZ1bmN0aW9uKCl7XG5cbiAgICB2YXIgc29ja2V0U2VydmljZSA9IGZ1bmN0aW9uKCRyb290U2NvcGUpe1xuICAgICAgICBcInVzZSBzdHJpY3RcIjtcbiAgICAgICAgLy9wcml2YXRlXG4gICAgICAgIHZhciBzb2NrZXQgPSBpby5jb25uZWN0KHdpbmRvdy5sb2NhdGlvbi5ob3N0KTtcbiAgICAgICAgLy9mdW5jdGlvbnNcbiAgICAgICAgdmFyIG9uID0gZnVuY3Rpb24gKGV2ZW50TmFtZSwgY2FsbGJhY2spIHtcbiAgICAgICAgICAgIHNvY2tldC5vbihldmVudE5hbWUsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cztcbiAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLiRhcHBseShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrLmFwcGx5KHNvY2tldCwgYXJncyk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgZW1pdCA9IGZ1bmN0aW9uIChldmVudE5hbWUsIGRhdGEsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICBzb2NrZXQuZW1pdChldmVudE5hbWUsIGRhdGEsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cztcbiAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLiRhcHBseShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2suYXBwbHkoc29ja2V0LCBhcmdzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgfTtcblxuICAgICAgICAvL3B1YmxpY1xuICAgICAgICByZXR1cm57XG4gICAgICAgICAgICBvbjogb24sXG4gICAgICAgICAgICBlbWl0OiBlbWl0LFxuICAgICAgICAgICAgc29ja2V0OiBzb2NrZXRcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBhbmd1bGFyLm1vZHVsZShcImFwcFwiKS5mYWN0b3J5KFwic29ja2V0U2VydmljZVwiLCBbXCIkcm9vdFNjb3BlXCIsIHNvY2tldFNlcnZpY2VdKTtcblxufSkoKTsiXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
