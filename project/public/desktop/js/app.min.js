!function(){angular.module("app",[])}(),function(){var n=function(n,e,t){n.LCShow=t.getLCShow;var i=function(){e.emit("pcconnect",null)};n.room="",e.on("requestRoom",function(e){n.room=e}),e.on("deviceOrientation",function(n){var e=(n.username,{});e.gamma=n.gamma,e.beta=n.beta,e.alpha=n.alpha}),n.usernames={},n.checkUserCount=!1,e.on("updateusers",function(e){n.usernames=e,n.checkUserCount=Object.keys(n.usernames).length<0}),n.startGame=function(){e.emit("startGame",null),t.setLCShow(!1),t.setPCShow(!0)},function(){i()}()};angular.module("app").controller("loginController",["$scope","socketService","displayService",n])}(),function(){"use strict";var n=function(n,e,t,i){n.PCShow=i.getPCShow,n.startGame=!1};angular.module("app").controller("playController",["$scope","$window","socketService","displayService",n])}(),function(){var n=function(n){function e(e,t,i){n.innerWidth<n.innerHeight?e.width=n.innerWidth-20:e.width=n.innerHeight-20,angular.element(n).bind("resize",function(){console.log("resize"),n.innerWidth<n.innerHeight?e.width=n.innerWidth-20:e.width=n.innerHeight-20,e.$digest()})}return{restrict:"E",link:e,replace:!0,template:'<canvas class="playArea" width="{{width}}" height="{{width}}" />'}};angular.module("app").directive("canvasDirective",["$window",n])}();var Spaceship=function(n,e,t){this.orientation=0,this.gamerId=n,this.x=e,this.y=t};Spaceship.prototype.moveSpaceship=function(n,e){},function(){var n=function(){var n=!0,e=!1;return{getLCShow:function(){return n},setLCShow:function(e){n=e},getPCShow:function(){return e},setPCShow:function(n){e=n}}};angular.module("app").factory("displayService",[n])}(),function(){var n=function(n){"use strict";var e=io.connect(window.location.host),t=function(t,i){e.on(t,function(){var t=arguments;n.$apply(function(){i.apply(e,t)})})},i=function(t,i,o){e.emit(t,i,function(){var t=arguments;n.$apply(function(){o&&o.apply(e,t)})})};return{on:t,emit:i,socket:e}};angular.module("app").factory("socketService",["$rootScope",n])}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsImNvbnRyb2xsZXIvbG9naW5Db250cm9sbGVyLmpzIiwiY29udHJvbGxlci9wbGF5Q29udHJvbGxlci5qcyIsImRpcmVjdGl2ZXMvY2FudmFzRGlyZWN0aXZlLmpzIiwibW9kZWxzL1NwYWNlc2hpcC5qcyIsInNlcnZpY2VzL2Rpc3BsYXlTZXJ2aWNlLmpzIiwic2VydmljZXMvc29ja2V0U2VydmljZS5qcyJdLCJuYW1lcyI6WyJhbmd1bGFyIiwibW9kdWxlIiwibG9naW5Db250cm9sbGVyIiwiJHNjb3BlIiwic29ja2V0U2VydmljZSIsImRpc3BsYXlTZXJ2aWNlIiwiTENTaG93IiwiZ2V0TENTaG93IiwibWFrZVJvb20iLCJlbWl0Iiwicm9vbSIsIm9uIiwiZGF0YSIsImRldmljZU9yaWVudGF0aW9uIiwidXNlcm5hbWUiLCJnYW1tYSIsImJldGEiLCJhbHBoYSIsInVzZXJuYW1lcyIsImNoZWNrVXNlckNvdW50IiwiT2JqZWN0Iiwia2V5cyIsImxlbmd0aCIsInN0YXJ0R2FtZSIsInNldExDU2hvdyIsInNldFBDU2hvdyIsImNvbnRyb2xsZXIiLCJwbGF5Q29udHJvbGxlciIsIiR3aW5kb3ciLCJQQ1Nob3ciLCJnZXRQQ1Nob3ciLCJjYW52YXNEaXJlY3RpdmUiLCJsaW5rIiwic2NvcGUiLCJlbGVtZW50IiwiYXR0cnMiLCJpbm5lcldpZHRoIiwiaW5uZXJIZWlnaHQiLCJ3aWR0aCIsImJpbmQiLCJjb25zb2xlIiwibG9nIiwiJGRpZ2VzdCIsInJlc3RyaWN0IiwicmVwbGFjZSIsInRlbXBsYXRlIiwiZGlyZWN0aXZlIiwiU3BhY2VzaGlwIiwiZ2FtZXJJZCIsIngiLCJ5IiwidGhpcyIsIm9yaWVudGF0aW9uIiwicHJvdG90eXBlIiwibW92ZVNwYWNlc2hpcCIsInZhbHVlIiwiZmFjdG9yeSIsIiRyb290U2NvcGUiLCJzb2NrZXQiLCJpbyIsImNvbm5lY3QiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsImhvc3QiLCJldmVudE5hbWUiLCJjYWxs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T0FBQSxXQUNBSCxHQUNBQSxFQUFBSSxNQUFBWCxFQUFBUSxPQU9BLFFBQ0F2RCxHQUFBQSxFQUNBRixLQUFBQSxFQUNBaUQsT0FBQUEsR0FJQTFELFNBQUFDLE9BQUEsT0FBQXVELFFBQUEsaUJBQUEsYUFBQXBEIiwiZmlsZSI6ImFwcC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENyZWF0ZWQgYnkgTWljaGllbCBvbiAyNS8xMS8yMDE1LlxuICovXG4oZnVuY3Rpb24oKXtcblxuICAgIHZhciBhcHAgPSBhbmd1bGFyLm1vZHVsZShcImFwcFwiLFtdKTtcbn0pKCk7IiwiLyoqXG4gKiBDcmVhdGVkIGJ5IE1pY2hpZWwgb24gMTEvMTIvMjAxNS5cbiAqL1xuXG4oZnVuY3Rpb24oKXtcbiAgICB2YXIgbG9naW5Db250cm9sbGVyID0gZnVuY3Rpb24oJHNjb3BlLCBzb2NrZXRTZXJ2aWNlLCBkaXNwbGF5U2VydmljZSl7XG5cbiAgICAgICAgJHNjb3BlLkxDU2hvdyA9IGRpc3BsYXlTZXJ2aWNlLmdldExDU2hvdztcblxuICAgICAgICAvL2Z1bmN0aW9uc1xuICAgICAgICB2YXIgbWFrZVJvb20gPSBmdW5jdGlvbigpe1xuICAgICAgICAgICAgc29ja2V0U2VydmljZS5lbWl0KFwicGNjb25uZWN0XCIsIG51bGwpO1xuICAgICAgICB9O1xuICAgICAgICAkc2NvcGUucm9vbSA9IFwiXCI7XG4gICAgICAgIHNvY2tldFNlcnZpY2Uub24oJ3JlcXVlc3RSb29tJyxmdW5jdGlvbihkYXRhKXtcbiAgICAgICAgICAgICRzY29wZS5yb29tID0gZGF0YTtcbiAgICAgICAgfSk7XG4gICAgICAgIHNvY2tldFNlcnZpY2Uub24oJ2RldmljZU9yaWVudGF0aW9uJywgZnVuY3Rpb24oZGF0YSl7XG4gICAgICAgICAgICB2YXIgdXNlcm5hbWUgPSBkYXRhLnVzZXJuYW1lO1xuICAgICAgICAgICAgdmFyIGRldmljZU9yaWVudGF0aW9uID0ge307XG4gICAgICAgICAgICBkZXZpY2VPcmllbnRhdGlvbi5nYW1tYSA9IGRhdGEuZ2FtbWE7XG4gICAgICAgICAgICBkZXZpY2VPcmllbnRhdGlvbi5iZXRhID0gZGF0YS5iZXRhO1xuICAgICAgICAgICAgZGV2aWNlT3JpZW50YXRpb24uYWxwaGEgPSBkYXRhLmFscGhhO1xuICAgICAgICB9KTtcbiAgICAgICAgJHNjb3BlLnVzZXJuYW1lcyA9IHt9O1xuICAgICAgICAkc2NvcGUuY2hlY2tVc2VyQ291bnQgPSBmYWxzZTtcbiAgICAgICAgc29ja2V0U2VydmljZS5vbigndXBkYXRldXNlcnMnLCBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgJHNjb3BlLnVzZXJuYW1lcyA9IGRhdGE7XG4gICAgICAgICAgICAkc2NvcGUuY2hlY2tVc2VyQ291bnQgPSBPYmplY3Qua2V5cygkc2NvcGUudXNlcm5hbWVzKS5sZW5ndGggPCAwO1xuICAgICAgICB9KTtcblxuICAgICAgICAkc2NvcGUuc3RhcnRHYW1lPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBzb2NrZXRTZXJ2aWNlLmVtaXQoXCJzdGFydEdhbWVcIiwgbnVsbCk7XG4gICAgICAgICAgICBkaXNwbGF5U2VydmljZS5zZXRMQ1Nob3coZmFsc2UpO1xuICAgICAgICAgICAgZGlzcGxheVNlcnZpY2Uuc2V0UENTaG93KHRydWUpO1xuICAgICAgICB9O1xuXG5cbiAgICAgICAgKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgbWFrZVJvb20oKTtcbiAgICAgICAgfSkoKTtcblxuICAgIH07XG5cbiAgICBhbmd1bGFyLm1vZHVsZShcImFwcFwiKS5jb250cm9sbGVyKFwibG9naW5Db250cm9sbGVyXCIsIFtcIiRzY29wZVwiLCBcInNvY2tldFNlcnZpY2VcIiAsIFwiZGlzcGxheVNlcnZpY2VcIiwgbG9naW5Db250cm9sbGVyXSk7XG59KSgpOyIsIi8qKlxuICogQ3JlYXRlZCBieSBNaWNoaWVsIG9uIDE2LzEyLzIwMTUuXG4gKi9cbi8qKlxuICogQ3JlYXRlZCBieSBqdXN0aWpuZGVwb3ZlciBvbiAxNi8xMi8xNS5cbiAqL1xuXG5cbihmdW5jdGlvbigpe1xuICAgIFwidXNlIHN0cmljdFwiO1xuICAgIHZhciBwbGF5Q29udHJvbGxlciA9IGZ1bmN0aW9uKCRzY29wZSwgJHdpbmRvdywgc29ja2V0U2VydmljZSwgZGlzcGxheVNlcnZpY2Upe1xuICAgICAgICAkc2NvcGUuUENTaG93ID0gZGlzcGxheVNlcnZpY2UuZ2V0UENTaG93O1xuICAgICAgICAkc2NvcGUuc3RhcnRHYW1lID0gZmFsc2U7XG5cbiAgICB9O1xuXG4gICAgYW5ndWxhci5tb2R1bGUoXCJhcHBcIikuY29udHJvbGxlcihcInBsYXlDb250cm9sbGVyXCIsIFtcIiRzY29wZVwiLCBcIiR3aW5kb3dcIiwgXCJzb2NrZXRTZXJ2aWNlXCIsIFwiZGlzcGxheVNlcnZpY2VcIiwgcGxheUNvbnRyb2xsZXJdKVxufSkoKTsiLCIvKipcbiAqIENyZWF0ZWQgYnkganVzdGlqbmRlcG92ZXIgb24gMTYvMTIvMTUuXG4gKi9cbihmdW5jdGlvbigpe1xuICAgIHZhciBjYW52YXNEaXJlY3RpdmUgPSBmdW5jdGlvbigkd2luZG93KXtcbiAgICAgICAgcmV0dXJue1xuICAgICAgICAgICAgcmVzdHJpY3Q6ICdFJyxcbiAgICAgICAgICAgIGxpbms6bGluayxcbiAgICAgICAgICAgIHJlcGxhY2U6dHJ1ZSxcbiAgICAgICAgICAgIHRlbXBsYXRlOic8Y2FudmFzIGNsYXNzPVwicGxheUFyZWFcIiB3aWR0aD1cInt7d2lkdGh9fVwiIGhlaWdodD1cInt7d2lkdGh9fVwiIC8+J1xuICAgICAgICB9O1xuXG4gICAgICAgIGZ1bmN0aW9uIGxpbmsoc2NvcGUsIGVsZW1lbnQsIGF0dHJzKXtcbiAgICAgICAgICAgIGlmKCR3aW5kb3cuaW5uZXJXaWR0aCA8ICR3aW5kb3cuaW5uZXJIZWlnaHQpe1xuICAgICAgICAgICAgICAgIHNjb3BlLndpZHRoID0gJHdpbmRvdy5pbm5lcldpZHRoIC0gMjA7XG4gICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICBzY29wZS53aWR0aCA9ICR3aW5kb3cuaW5uZXJIZWlnaHQgLSAyMDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYW5ndWxhci5lbGVtZW50KCR3aW5kb3cpLmJpbmQoJ3Jlc2l6ZScsIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJyZXNpemVcIik7XG4gICAgICAgICAgICAgICAgaWYoJHdpbmRvdy5pbm5lcldpZHRoIDwgJHdpbmRvdy5pbm5lckhlaWdodCl7XG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLndpZHRoID0gJHdpbmRvdy5pbm5lcldpZHRoIC0gMjA7XG4gICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLndpZHRoID0gJHdpbmRvdy5pbm5lckhlaWdodCAtIDIwO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHNjb3BlLiRkaWdlc3QoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIGFuZ3VsYXIubW9kdWxlKCdhcHAnKS5kaXJlY3RpdmUoXCJjYW52YXNEaXJlY3RpdmVcIiwgW1wiJHdpbmRvd1wiLCBjYW52YXNEaXJlY3RpdmVdKTtcbn0pKCk7IiwiLyoqXG4gKiBDcmVhdGVkIGJ5IGp1c3Rpam5kZXBvdmVyIG9uIDA5LzEyLzE1LlxuICovXG5cbnZhciBTcGFjZXNoaXAgPSBmdW5jdGlvbihnYW1lcklkLCB4LCB5KXtcbiAgICB0aGlzLm9yaWVudGF0aW9uID0gMDtcbiAgICB0aGlzLmdhbWVySWQgPSBnYW1lcklkO1xuICAgIHRoaXMueCA9IHg7XG4gICAgdGhpcy55ID0geTtcbn07XG5cblNwYWNlc2hpcC5wcm90b3R5cGUubW92ZVNwYWNlc2hpcCA9IGZ1bmN0aW9uKHgsIHkpe1xuICAgIC8vbW92ZSB0aGUgc3BhY2VzaGlwIG9uIHRoZSBjYW52YXNcblxufTsiLCIvKipcbiAqIENyZWF0ZWQgYnkgTWljaGllbCBvbiAxNi8xMi8yMDE1LlxuICovXG4vKipcbiAqIENyZWF0ZWQgYnkganVzdGlqbmRlcG92ZXIgb24gMTYvMTIvMTUuXG4gKi9cblxuXG4oZnVuY3Rpb24oKXtcbiAgICB2YXIgZGlzcGxheVNlcnZpY2UgPSBmdW5jdGlvbigpe1xuICAgICAgICAvL0xvZ2luIENvbnRyb2xsZXJcbiAgICAgICAgdmFyIExDU2hvdyA9IHRydWU7XG4gICAgICAgIC8vUGxheSBjb250cm9sbGVyXG4gICAgICAgIHZhciBQQ1Nob3cgPSBmYWxzZTtcblxuICAgICAgICByZXR1cm57XG4gICAgICAgICAgICBnZXRMQ1Nob3c6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgcmV0dXJuIExDU2hvdztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXRMQ1Nob3c6IGZ1bmN0aW9uKHZhbHVlKXtcbiAgICAgICAgICAgICAgICBMQ1Nob3cgPSB2YWx1ZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXRQQ1Nob3c6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFBDU2hvdztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXRQQ1Nob3c6IGZ1bmN0aW9uKHZhbHVlKXtcbiAgICAgICAgICAgICAgICBQQ1Nob3cgPSB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBhbmd1bGFyLm1vZHVsZSgnYXBwJykuZmFjdG9yeSgnZGlzcGxheVNlcnZpY2UnLCBbZGlzcGxheVNlcnZpY2VdKTtcbn0pKCk7IiwiLyoqXG4gKiBDcmVhdGVkIGJ5IGp1c3Rpam5kZXBvdmVyIG9uIDA5LzEyLzE1LlxuICovXG5cbihmdW5jdGlvbigpe1xuXG4gICAgdmFyIHNvY2tldFNlcnZpY2UgPSBmdW5jdGlvbigkcm9vdFNjb3BlKXtcbiAgICAgICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgICAgIC8vcHJpdmF0ZVxuICAgICAgICB2YXIgc29ja2V0ID0gaW8uY29ubmVjdCh3aW5kb3cubG9jYXRpb24uaG9zdCk7XG4gICAgICAgIC8vZnVuY3Rpb25zXG4gICAgICAgIHZhciBvbiA9IGZ1bmN0aW9uIChldmVudE5hbWUsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICBzb2NrZXQub24oZXZlbnROYW1lLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgICAgICAgICAgICAgJHJvb3RTY29wZS4kYXBwbHkoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjay5hcHBseShzb2NrZXQsIGFyZ3MpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIGVtaXQgPSBmdW5jdGlvbiAoZXZlbnROYW1lLCBkYXRhLCBjYWxsYmFjaykge1xuICAgICAgICAgICAgc29ja2V0LmVtaXQoZXZlbnROYW1lLCBkYXRhLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgICAgICAgICAgICAgJHJvb3RTY29wZS4kYXBwbHkoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrLmFwcGx5KHNvY2tldCwgYXJncyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH07XG5cbiAgICAgICAgLy9wdWJsaWNcbiAgICAgICAgcmV0dXJue1xuICAgICAgICAgICAgb246IG9uLFxuICAgICAgICAgICAgZW1pdDogZW1pdCxcbiAgICAgICAgICAgIHNvY2tldDogc29ja2V0XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgYW5ndWxhci5tb2R1bGUoXCJhcHBcIikuZmFjdG9yeShcInNvY2tldFNlcnZpY2VcIiwgW1wiJHJvb3RTY29wZVwiLCBzb2NrZXRTZXJ2aWNlXSk7XG5cbn0pKCk7Il0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
