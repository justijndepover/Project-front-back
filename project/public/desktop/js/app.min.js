!function(){angular.module("app",[])}(),function(){var e=function(e){function t(t,a,i){e.innerWidth<e.innerHeight?t.width=e.innerWidth-20:t.width=e.innerHeight-20,angular.element(e).bind("resize",function(){e.innerWidth<e.innerHeight?t.width=e.innerWidth-20:t.width=e.innerHeight-20,t.$digest()})}return{restrict:"E",link:t,replace:!0,template:'<canvas id="game" class="playArea" width="{{width}}" height="{{width}}" />'}};angular.module("app").directive("canvasDirective",["$window",e])}(),function(){var e=function(e,t,a,i){e.LCShow=a.getLCShow;var o=function(){t.emit("pcconnect",null)};e.room="",t.on("requestRoom",function(t){e.room=t}),t.on("deviceOrientation",function(e){var t=(e.username,{});t.gamma=e.gamma,t.beta=e.beta,t.alpha=e.alpha}),e.usernames={},e.checkUserCount=!1,t.on("updateusers",function(t){i.setPlayers(t),e.usernames=t,e.checkUserCount=Object.keys(e.usernames).length<0}),e.startGame=function(){t.emit("startGame",null),a.setLCShow(!1),a.setPCShow(!0)},function(){o()}()};angular.module("app").controller("loginController",["$scope","socketService","displayService","playerService",e])}(),function(){"use strict";var e=function(e,t,a,i,o,r){function s(){var e=Math.floor(100*Math.random());for(var t in w)if(Math.abs(w[t].x-e)<10)return s();return e}function h(){var e=Math.floor(100*Math.random());for(var t in w)if(Math.abs(w[t].y-e)<10)return h();return e}function n(e,t){return t.username==e.userName}function d(){w.length>0,0==M?(M=Math.floor(500*Math.random()+500),x.push(new Powerup(Math.floor(100*Math.random()),Math.floor(100*Math.random()),Math.ceil(3*Math.random()),Math.floor(2*Math.random())))):M--,f.clearRect(0,0,u.width,u.height);var e=u.width/100;if(0!=x.length)for(var t in x){var a=x[t];a.width=u.width/50,a.height=a.width*a.image.height/a.image.width,f.save(),f.translate(a.x*e,a.y*e),f.drawImage(a.image,-a.width/2,-a.height/2,a.width,a.height),f.restore(),a.decreaseDuration(),0==a.duration&&x.splice(t,1)}if(0!=y.length){var i=u.width/100,o=i*y[0].image.height/y[0].image.width;for(var r in y){var s=y[r];s.width=i,s.height=o,0==s.explodeStage?(f.save(),f.translate(s.x*e,s.y*e),f.rotate(s.rotation/180*Math.PI),f.drawImage(s.image,-i/2,-o/2,i,o),f.restore(),y[r].x=Math.cos((s.rotation-90)/180*Math.PI)+s.x,y[r].y=Math.sin((s.rotation-90)/180*Math.PI)+s.y):s.explodeStage<4&&(f.save(),f.translate(s.x*e,s.y*e),f.drawImage(s.explosionImage,-i,-i,2*i,2*i),f.restore())}}if(0!=w.length){var h=u.width/20,n=h*w[0].image.height/w[0].image.width;for(var d in w){var a=w[d];if(a.width=h,a.height=n,f.save(),f.translate(a.x*e,a.y*e),-1==a.explodeStage?(f.rotate(a.rotation/180*Math.PI),f.drawImage(a.image,-h/2,-n/2,h,n)):w[d].explode(),a.damage>0&&a.explodeStage<=140&&f.drawImage(a.damageImage,-h/2,-n/2,h,n),a.damage<4&&(w[d].x=Math.cos((a.rotation-90)/180*Math.PI)/10*a.speed+a.x,w[d].y=Math.sin((a.rotation-90)/180*Math.PI)/10*a.speed+a.y),a.shield&&-1==a.explodeStage){var g=1.5*h,c=g/a.shieldImage.width*a.shieldImage.height;f.drawImage(a.shieldImage,-g/2,-c/2,g,c)}w[d].checkPowerup(),f.restore()}}if(v.length>0)for(var m in v){var S=v[m];if(S.width=u.width/700*S.image.width,S.height=S.width*S.image.height/S.image.width,f.save(),f.translate(S.x*e,S.y*e),f.rotate(S.rotation/180*Math.PI),f.drawImage(S.image,-S.width/2,-S.height/2,S.width,S.height),f.restore(),S.x<-5||S.x>105||S.y<-5||S.y>105){var I=Math.random();.25>I?(v[m].x=-4,v[m].y=Math.floor(100*Math.random()),v[m].rotation=Math.floor(180*Math.random())):.5>I?(v[m].x=Math.floor(100*Math.random()),v[m].y=-4,v[m].rotation=Math.floor(180*Math.random())+90):.75>I?(v[m].x=104,v[m].y=Math.floor(100*Math.random()),v[m].rotation=Math.floor(180*Math.random())+180):(v[m].x=Math.floor(100*Math.random()),v[m].y=104,v[m].rotation=Math.floor(180*Math.random())+270),v[m].speed=1,v[m].setImage(Math.ceil(18*Math.random()))}else v[m].x=Math.cos((S.rotation-90)/180*Math.PI)/30*v[m].speed+S.x,v[m].y=Math.sin((S.rotation-90)/180*Math.PI)/30*v[m].speed+S.y}l(),p()}function l(){for(var e in y)y[e].x<0||y[e].x>u.width||y[e].y<0||y[e].y>u.height?y.splice(e,1):y[e].explodeStage>0&&(y[e].explodeStage<4?y[e].explode():y.splice(e,1))}function p(){var e=[];for(var t in w)if(w[t].damage<4){e.push(w[t]);for(var a in y)if(0==y[a].explodeStage&&y[a].player!=w[t].userName){var o=Math.sqrt(2)/2*(y[a].height/2-y[a].width/2),r=(360-y[a].rotation)/180*Math.PI,s=y[a].x*u.width/100-o*Math.sin(r),h=y[a].y*u.width/100-o*Math.cos(r),n=w[t].x*u.width/100,d=w[t].y*u.width/100,l=Math.sqrt((s-n)*(s-n)+(h-d)*(h-d)),p=1;if(w[t].shield&&(p=1.5),l<y[a].width/2+w[t].width/2*p){var c=new Audio("../../assets/Bonus/sfx_lose.ogg");if(c.play(),!w[t].shield){w[t].increaseDamage();var m={};m.username=w[t].userName,m.life=3-w[t].damage,i.emit("playerLife",m)}y[a].explode()}}for(var f in v){var M=v[f].x*u.width/100,S=v[f].y*u.width/100,n=w[t].x*u.width/100,d=w[t].y*u.width/100,l=Math.sqrt((M-n)*(M-n)+(S-d)*(S-d)),p=1;if(w[t].shield&&(p=1.5),l<v[f].width/2+w[t].width/2*p){var c=new Audio("../../assets/Bonus/sfx_lose.ogg");if(c.play(),w[t].shield)v[f].rotation=v[f].rotation+180,v[f].speed=3,v[f].x=Math.cos((v[f].rotation-90)/180*Math.PI)/30*v[f].speed+v[f].x,v[f].y=Math.sin((v[f].rotation-90)/180*Math.PI)/30*v[f].speed+v[f].y;else{w[t].dead();var m={};m.username=w[t].userName,m.life=3-w[t].damage,i.emit("playerLife",m)}}}for(var f in w)if(4!=w[f].damage&&f!=t){var I=w[f].x*u.width/100,P=w[f].y*u.width/100,n=w[t].x*u.width/100,d=w[t].y*u.width/100,p=1;w[t].shield&&(p=1.5);var N=1;w[f].shield&&(N=1.5);var l=Math.sqrt((I-n)*(I-n)+(P-d)*(P-d));if(l<w[f].width/2*N+w[t].width/2*p){var c=new Audio("../../assets/Bonus/sfx_lose.ogg");c.play(),w[t].dead(),w[f].dead();var m={};m.username=w[t].userName,m.life=3-w[t].damage,i.emit("playerLife",m),m.username=w[f].userName,m.life=3-w[f].damage,i.emit("playerLife",m)}}if(w[t].x*u.width/100<w[t].height/2||w[t].x*u.width/100>u.width-w[t].height/2||w[t].y*u.width/100<w[t].height/2||w[t].y*u.width/100>u.width-w[t].height/2){var c=new Audio("../../assets/Bonus/sfx_lose.ogg");c.play(),w[t].dead();var m={};m.username=w[t].userName,m.life=3-w[t].damage,i.emit("playerLife",m)}for(var f in x){var G=x[f].x*u.width/100,A=x[f].y*u.width/100,n=w[t].x*u.width/100,d=w[t].y*u.width/100,l=Math.sqrt((G-n)*(G-n)+(A-d)*(A-d));if(l<x[f].width/2+w[t].width/2){var C=new Audio("../../assets/Bonus/sfx_zap.ogg");if(C.play(),1==x[f].boolSelf)for(var k in w)k!=t&&w[k].addPowerup(x[f]);else w[t].addPowerup(x[f]);if(3==x[f].type){var m={};m.username=w[t].userName,m.life=3,i.emit("playerLife",m)}x.splice(f,1)}}}for(var f in v)for(var a in y)if(0==y[a].explodeStage&&y[a].player!=v[f].userName){var o=Math.sqrt(2)/2*(y[a].height/2-y[a].width/2),r=(360-y[a].rotation)/180*Math.PI,s=y[a].x*u.width/100-o*Math.sin(r),h=y[a].y*u.width/100-o*Math.cos(r),M=v[f].x*u.width/100,S=v[f].y*u.width/100,l=Math.sqrt((s-M)*(s-M)+(h-S)*(h-S));if(l<y[a].width/2+v[f].width/2){var m={};m.username=v[f].userName,m.life=3-v[f].damage,i.emit("playerLife",m),y[a].explode()}}1==e.length&&g(e)}function g(a){angular.isDefined(m)&&(t.cancel(m),m=void 0),e.endGame=!0,e.endGameText=a[0].userName+" is the winner!",i.emit("endGame",a[0].userName)}var c=[{x:10,y:10,rotation:135},{x:90,y:10,rotation:225},{x:90,y:90,rotation:315},{x:10,y:90,rotation:45}];e.PCShow=o.getPCShow,e.endGame=!1;var m,u=document.getElementById("game"),f=u.getContext("2d"),w=new Array,y=new Array,v=new Array,x=new Array;i.on("initGame",function(){var e=r.getPlayers(),a=0;for(var i in e){var o=e[i];w.push(new Spaceship(o.username,c[a].x,c[a].y,o.color,c[a].rotation)),a++}for(var n=0;15>n;n++)v.push(new Asteroid(s(),h(),Math.floor(361*Math.random()),Math.ceil(18*Math.random())));m=t(d,10)}),i.on("userleft",function(e){var t=null;for(var a in w)1==n(w[a],e)&&(t=a);w.splice(t,1)}),i.on("updateGameData",function(e){var t=null;for(var a in w)1==n(w[a],e)&&(t=a);null!=t&&w[t].rotateSpaceshipRelative(e.orientation)}),i.on("playerShot",function(t){if(0==e.endGame){var a=null;for(var i in w)1==n(w[i],t)&&(a=i);if(null!=a){var o=w[a],r=(360-(o.rotation+180))/180*Math.PI,s=o.x+u.width/400*Math.sin(r),h=o.y+u.width/400*Math.cos(r);y.push(new Bullet(s,h,o.rotation,o.color,o.userName));var d="../../assets/Bonus/sfx_laser2.ogg";a%2==0&&(d="../../assets/Bonus/sfx_laser1.ogg");var l=new Audio(d);l.play()}}});var M=Math.floor(500*Math.random()+500);e.restartGame=function(){e.endGame=!1;var a=0;for(var o in w)w[o].reset(c[a].x,c[a].y,c[a].rotation),a++;v=[];for(var r=0;15>r;r++)v.push(new Asteroid(s(),h(),Math.floor(361*Math.random()),Math.ceil(18*Math.random())));y=[],x=[],M=Math.floor(500*Math.random()+500),f.clearRect(0,0,u.width,u.height),i.emit("restartGame",null),m=t(d,10)}};angular.module("app").controller("playController",["$scope","$interval","$window","socketService","displayService","playerService",e])}();var Asteroid=function(e,t,a,i){this.x=e,this.y=t,this.width=0,this.height=0,this.rotation=a,this.stage=i,this.image=new Image,this.image.src="../assets/PNG/Meteors/meteor_"+i+".png",this.speed=1};Asteroid.prototype.setImage=function(e){this.stage=e,this.image.src="../assets/PNG/Meteors/meteor_"+e+".png"};var Bullet=function(e,t,a,i,o){this.x=e,this.y=t,this.rotation=a,this.image=new Image,this.color=i,this.width=0,this.height=0,this.player=o,this.explosionImage=new Image,this.explodeStage=0,"orange"==this.color&&(this.color="red"),this.image.src="../assets/PNG/Lasers/laser"+this.color.charAt(0).toUpperCase()+this.color.slice(1)+"01.png"};Bullet.prototype.explode=function(){if(this.explodeStage<4){this.explodeStage++;var e;e=this.explodeStage<3?1:2,this.explosionImage.src="../assets/PNG/Lasers/laser"+this.color.charAt(0).toUpperCase()+this.color.slice(1)+"Explode"+e+".png"}else this.explosionImage.src=""};var Powerup=function(e,t,a,i){this.x=e,this.y=t,this.width=0,this.height=0,this.type=a,this.duration=1e3,this.playerduration=1e3;var o;switch(this.image=new Image,this.boolSelf=i,a){case 1:o="bolt_";break;case 2:o="shield_";break;case 3:o="star_"}switch(i){case 0:o+="gold.png";break;case 1:o+="silver.png"}this.image.src="../assets/PNG/Power-ups/"+o};Powerup.prototype.decreaseDuration=function(){this.duration>0&&this.duration--};var Spaceship=function(e,t,a,i,o){this.userName=e,this.x=t,this.y=a,this.speed=1,this.color=i,this.rotation=o,this.image=new Image,this.damage=0,this.width=0,this.height=0,this.powerups=[],this.shield=!1,this.shieldImage=new Image,this.shieldImage.src="../assets/PNG/Effects/shield1.png",this.damageImage=new Image,this.image.src="../assets/PNG/playerShip1_"+this.color+".png",this.explodeStage=-1};Spaceship.prototype.reset=function(e,t,a){this.speed=1,this.damage=0,this.damageImage=new Image,this.image.src="../assets/PNG/playerShip1_"+this.color+".png",this.x=e,this.y=t,this.rotation=a,this.shield=!1,this.explodeStage=-1},Spaceship.prototype.moveSpaceship=function(e,t){this.x=e,this.y=t},Spaceship.prototype.moveSpaceshipRelative=function(e,t){this.x=this.x+e,this.y=this.y+t},Spaceship.prototype.rotateSpaceship=function(e){this.rotation=e},Spaceship.prototype.rotateSpaceshipRelative=function(e){e>80?e=80:-80>e&&(e=-80),this.rotation=this.rotation+e/5,this.rotation<-360&&(this.rotation=this.rotation+720),this.rotation>360&&(this.rotation=this.rotation-720)},Spaceship.prototype.increaseDamage=function(){this.damage<4&&(this.damage+=1),this.damage<=3&&this.damage>0?this.damageImage.src="../assets/PNG/Damage/playerShip1_damage"+this.damage+".png":4==this.damage&&this.explode()},Spaceship.prototype.dead=function(){this.damage=4,this.explode()},Spaceship.prototype.explode=function(){this.explodeStage<=140&&(this.explodeStage++,this.damageImage.src="../assets/PNG/Damage/frame"+Math.floor(this.explodeStage/10)+".gif")},Spaceship.prototype.decreaseDamage=function(){this.damage>0&&(this.damage-=1),this.damage<=3&&this.damage>0&&(this.damageImage.src="../assets/PNG/Damage/playerShip1_damage"+this.damage+".png")},Spaceship.prototype.addPowerup=function(e){switch(e.type){case 1:this.speed++,this.powerups.push(e);break;case 2:this.shield=!0,this.powerups.push(e);break;case 3:this.damage=0,this.damageImage.src=""}},Spaceship.prototype.checkPowerup=function(){for(var e in this.powerups)if(this.powerups[e].playerduration>0)this.powerups[e].playerduration--;else{switch(this.powerups[e].type){case 1:this.speed--;break;case 2:this.shield=!1}console.log("-------------"),console.log(this.powerups),this.powerups.splice(e,1),console.log(this.powerups)}},function(){var e=function(){var e=!0,t=!1;return{getLCShow:function(){return e},setLCShow:function(t){e=t},getPCShow:function(){return t},setPCShow:function(e){t=e}}};angular.module("app").factory("displayService",[e])}(),function(){var e=function(){var e=[];return{getPlayers:function(){return e},setPlayers:function(t){e=t}}};angular.module("app").factory("playerService",[e])}(),function(){var e=function(e){"use strict";var t=io.connect(window.location.host),a=function(a,i){t.on(a,function(){var a=arguments;e.$apply(function(){i.apply(t,a)})})},i=function(a,i,o){t.emit(a,i,function(){var a=arguments;e.$apply(function(){o&&o.apply(t,a)})})};return{on:a,emit:i,socket:t}};angular.module("app").factory("socketService",["$rootScope",e])}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsImRpcmVjdGl2ZXMvY2FudmFzRGlyZWN0aXZlLmpzIiwiY29udHJvbGxlci9sb2dpbkNvbnRyb2xsZXIuanMiLCJjb250cm9sbGVyL3BsYXlDb250cm9sbGVyLmpzIiwibW9kZWxzL0FzdGVyaW9kLmpzIiwibW9kZWxzL0J1bGxldC5qcyIsIm1vZGVscy9Qb3dlcnVwLmpzIiwibW9kZWxzL1NwYWNlc2hpcC5qcyIsInNlcnZpY2VzL2Rpc3BsYXlTZXJ2aWNlLmpzIiwic2VydmljZXMvcGxheWVyU2VydmljZS5qcyIsInNlcnZpY2VzL3NvY2tldFNlcnZpY2UuanMiXSwibmFtZXMiOlsiYW5ndWxhciIsIm1vZHVsZSIsImNhbnZhc0RpcmVjdGl2ZSIsIiR3aW5kb3ciLCJsaW5rIiwic2NvcGUiLCJlbGVtZW50IiwiYXR0cnMiLCJpbm5lcldpZHRoIiwiaW5uZXJIZWlnaHQiLCJ3aWR0aCIsImJpbmQiLCIkZGlnZXN0IiwicmVzdHJpY3QiLCJyZXBsYWNlIiwidGVtcGxhdGUiLCJkaXJlY3RpdmUiLCJsb2dpbkNvbnRyb2xsZXIiLCIkc2NvcGUiLCJzb2NrZXRTZXJ2aWNlIiwiZGlzcGxheVNlcnZpY2UiLCJwbGF5ZXJTZXJ2aWNlIiwiTENTaG93IiwiZ2V0TENTaG93IiwibWFrZVJvb20iLCJlbWl0Iiwicm9vbSIsIm9uIiwiZGF0YSIsImRldmljZU9yaWVudGF0aW9uIiwidXNlcm5hbWUiLCJnYW1tYSIsImJldGEiLCJhbHBoYSIsInVzZXJuYW1lcyIsImNoZWNrVXNlckNvdW50Iiwic2V0UGxheWVycyIsIk9iamVjdCIsImtleXMiLCJsZW5ndGgiLCJzdGFydEdhbWUiLCJzZXRMQ1Nob3ciLCJzZXRQQ1Nob3ciLCJjb250cm9sbGVyIiwicGxheUNvbnRyb2xsZXIiLCIkaW50ZXJ2YWwiLCJjcmVhdGVDb29yZGluYXRlWCIsIngiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJwIiwiQWxsUGxheWVycyIsImFicyIsImNyZWF0ZUNvb3JkaW5hdGVZIiwieSIsImZpbHRlclBsYXllcnMiLCJvYmoiLCJ1c2VyTmFtZSIsImRyYXciLCJQb3dlcnVwU3Bhd25UaW1lIiwiQWxsUG93ZXJVcHMiLCJwdXNoIiwiUG93ZXJ1cCIsImNlaWwiLCJjdHgiLCJjbGVhclJlY3QiLCJjYW52IiwiaGVpZ2h0IiwicmF0aW8iLCJwb3dlcnVwIiwiaW1hZ2UiLCJzYXZlIiwidHJhbnNsYXRlIiwiZHJhd0ltYWdlIiwicmVzdG9yZSIsImRlY3JlYXNlRHVyYXRpb24iLCJkdXJhdGlvbiIsInNwbGljZSIsIkFsbEJ1bGxldHMiLCJCdWxsZXRXaWR0aCIsIkJ1bGxldEhlaWdodCIsImJ1bGxldCIsImIiLCJleHBsb2RlU3RhZ2UiLCJyb3RhdGUiLCJyb3RhdGlvbiIsIlBJIiwiY29zIiwic2luIiwiZXhwbG9zaW9uSW1hZ2UiLCJTcGFjZXNoaXBXaWR0aCIsIlNwYWNlc2hpcEhlaWdodCIsInBsYXllciIsImV4cGxvZGUiLCJkYW1hZ2UiLCJkYW1hZ2VJbWFnZSIsInNwZWVkIiwic2hpZWxkIiwiU2hpZWxkV2lkdGgiLCJTaGllbGRIZWlnaHQiLCJzaGllbGRJbWFnZSIsImNoZWNrUG93ZXJ1cCIsIkFsbEFzdGVyb2lkcyIsIkFzdGVyb2lkIiwiYSIsImtldXplIiwic2V0SW1hZ2UiLCJjaGVja0J1bGxldHMiLCJjb2xsaXNpb25EZXRlY3Rpb24iLCJsaXZpbmdQbGF5ZXJzIiwicmFkaXVzIiwic3FydCIsImFuZ2xlIiwiYnVsbGV0SGVhZFgiLCJidWxsZXRIZWFkWSIsInNwYWNlU2hpcFgiLCJzcGFjZVNoaXBZIiwiZGlzdGFuY2UiLCJzaGllbGRSYXRpbyIsImRhbWFnZXNvdW5kIiwiQXVkaW8iLCJwbGF5IiwiaW5jcmVhc2VEYW1hZ2UiLCJsaWZlIiwiYXN0ZXJvaWRYIiwiYXN0ZXJvaWRZIiwiZGVhZCIsInNwYWNlU2hpcDFYIiwic3BhY2VTaGlwMVkiLCJzaGllbGRSYXRpbzEiLCJwb3dlcnVwWCIsInBvd2VydXBZIiwicG93ZXJ1cFNvdW5kIiwiYm9vbFNlbGYiLCJhZGRQb3dlcnVwIiwidHlwZSIsImVuZEdhbWUiLCJpc0RlZmluZWQiLCJjeWNsZSIsImNhbmNlbCIsInVuZGVmaW5lZCIsImVuZEdhbWVUZXh0IiwiZGVmYXVsdFZhcnMiLCJQQ1Nob3ciLCJnZXRQQ1Nob3ciLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiZ2V0Q29udGV4dCIsIkFycmF5IiwiQnVmZmVyUGxheWVyIiwiZ2V0UGxheWVycyIsInRlbGxlciIsIlNwYWNlc2hpcCIsImNvbG9yIiwiaSIsInJvdGF0ZVNwYWNlc2hpcFJlbGF0aXZlIiwib3JpZW50YXRpb24iLCJ0ZW1wIiwiQnVsbGV0IiwiYXVkaW9VcmwiLCJzaG90IiwicmVzdGFydEdhbWUiLCJyZXNldCIsInN0YWdlIiwidGhpcyIsIkltYWdlIiwic3JjIiwicHJvdG90eXBlIiwiY2hhckF0IiwidG9VcHBlckNhc2UiLCJzbGljZSIsIm51bWJlciIsInBsYXllcmR1cmF0aW9uIiwiaW1hZ2VUeXBlIiwicG93ZXJ1cHMiLCJtb3ZlU3BhY2VzaGlwIiwibW92ZVNwYWNlc2hpcFJlbGF0aXZlIiwicm90YXRlU3BhY2VzaGlwIiwiZGVncmVlIiwiZGVjcmVhc2VEYW1hZ2UiLCJjb25zb2xlIiwibG9nIiwidmFsdWUiLCJmYWN0b3J5IiwicGxheWVycyIsInBsYXllcnNBcnJheSIsIiRyb290U2NvcGUiLCJzb2NrZXQiLCJpbyIsImNvbm5lY3QiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsImhvc3QiLCJldmVudE5hbWUiLCJjYWxsYmFjayIsImFyZ3MiLCJhcmd1bWVudHMiLCIkYXBwbHkiLCJhcHBseSJdLCJtYXBwaW5ncyI6IkNBR0EsV0FFQUEsUUFBQUMsT0FBQSxhQ0ZBLFdBQ0EsR0FBQUMsR0FBQSxTQUFBQyxHQVFBLFFBQUFDLEdBQUFDLEVBQUFDLEVBQUFDLEdBQ0FKLEVBQUFLLFdBQUFMLEVBQUFNLFlBQ0FKLEVBQUFLLE1BQUFQLEVBQUFLLFdBQUEsR0FFQUgsRUFBQUssTUFBQVAsRUFBQU0sWUFBQSxHQUdBVCxRQUFBTSxRQUFBSCxHQUFBUSxLQUFBLFNBQUEsV0FDQVIsRUFBQUssV0FBQUwsRUFBQU0sWUFDQUosRUFBQUssTUFBQVAsRUFBQUssV0FBQSxHQUVBSCxFQUFBSyxNQUFBUCxFQUFBTSxZQUFBLEdBR0FKLEVBQUFPLFlBckJBLE9BQ0FDLFNBQUEsSUFDQVQsS0FBQUEsRUFDQVUsU0FBQSxFQUNBQyxTQUFBLDhFQXNCQWYsU0FBQUMsT0FBQSxPQUFBZSxVQUFBLG1CQUFBLFVBQUFkLE9DM0JBLFdBQ0EsR0FBQWUsR0FBQSxTQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxHQUVBSCxFQUFBSSxPQUFBRixFQUFBRyxTQUdBLElBQUFDLEdBQUEsV0FDQUwsRUFBQU0sS0FBQSxZQUFBLE1BRUFQLEdBQUFRLEtBQUEsR0FDQVAsRUFBQVEsR0FBQSxjQUFBLFNBQUFDLEdBQ0FWLEVBQUFRLEtBQUFFLElBRUFULEVBQUFRLEdBQUEsb0JBQUEsU0FBQUMsR0FDQSxHQUNBQyxJQURBRCxFQUFBRSxZQUVBRCxHQUFBRSxNQUFBSCxFQUFBRyxNQUNBRixFQUFBRyxLQUFBSixFQUFBSSxLQUNBSCxFQUFBSSxNQUFBTCxFQUFBSyxRQUVBZixFQUFBZ0IsYUFDQWhCLEVBQUFpQixnQkFBQSxFQUNBaEIsRUFBQVEsR0FBQSxjQUFBLFNBQUFDLEdBQ0FQLEVBQUFlLFdBQUFSLEdBQ0FWLEVBQUFnQixVQUFBTixFQUNBVixFQUFBaUIsZUFBQUUsT0FBQUMsS0FBQXBCLEVBQUFnQixXQUFBSyxPQUFBLElBR0FyQixFQUFBc0IsVUFBQSxXQUNBckIsRUFBQU0sS0FBQSxZQUFBLE1BQ0FMLEVBQUFxQixXQUFBLEdBQ0FyQixFQUFBc0IsV0FBQSxJQUlBLFdBQ0FsQixPQUtBeEIsU0FBQUMsT0FBQSxPQUFBMEMsV0FBQSxtQkFBQSxTQUFBLGdCQUFBLGlCQUFBLGdCQUFBMUIsT0N6Q0EsV0FDQSxZQUNBLElBQUEyQixHQUFBLFNBQUExQixFQUFBMkIsRUFBQTFDLEVBQUFnQixFQUFBQyxFQUFBQyxHQStCQSxRQUFBeUIsS0FDQSxHQUFBQyxHQUFBQyxLQUFBQyxNQUFBLElBQUFELEtBQUFFLFNBQ0EsS0FBQSxHQUFBQyxLQUFBQyxHQUNBLEdBQUFKLEtBQUFLLElBQUFELEVBQUFELEdBQUFKLEVBQUFBLEdBQUEsR0FDQSxNQUFBRCxJQUdBLE9BQUFDLEdBR0EsUUFBQU8sS0FDQSxHQUFBQyxHQUFBUCxLQUFBQyxNQUFBLElBQUFELEtBQUFFLFNBQ0EsS0FBQSxHQUFBQyxLQUFBQyxHQUNBLEdBQUFKLEtBQUFLLElBQUFELEVBQUFELEdBQUFJLEVBQUFBLEdBQUEsR0FDQSxNQUFBRCxJQUdBLE9BQUFDLEdBaURBLFFBQUFDLEdBQUFDLEVBQUE3QixHQUNBLE1BQUFBLEdBQUFFLFVBQUEyQixFQUFBQyxTQUtBLFFBQUFDLEtBQ0FQLEVBQUFiLE9BQUEsRUFLQSxHQUFBcUIsR0FDQUEsRUFBQVosS0FBQUMsTUFBQSxJQUFBRCxLQUFBRSxTQUFBLEtBQ0FXLEVBQUFDLEtBQUEsR0FBQUMsU0FBQWYsS0FBQUMsTUFBQSxJQUFBRCxLQUFBRSxVQUFBRixLQUFBQyxNQUFBLElBQUFELEtBQUFFLFVBQUFGLEtBQUFnQixLQUFBLEVBQUFoQixLQUFBRSxVQUFBRixLQUFBQyxNQUFBLEVBQUFELEtBQUFFLGFBRUFVLElBR0FLLEVBQUFDLFVBQUEsRUFBQSxFQUFBQyxFQUFBekQsTUFBQXlELEVBQUFDLE9BQ0EsSUFBQUMsR0FBQUYsRUFBQXpELE1BQUEsR0FFQSxJQUFBLEdBQUFtRCxFQUFBdEIsT0FDQSxJQUFBLEdBQUErQixLQUFBVCxHQUFBLENBQ0EsR0FBQVYsR0FBQVUsRUFBQVMsRUFDQW5CLEdBQUF6QyxNQUFBeUQsRUFBQXpELE1BQUEsR0FDQXlDLEVBQUFpQixPQUFBakIsRUFBQXpDLE1BQUF5QyxFQUFBb0IsTUFBQUgsT0FBQWpCLEVBQUFvQixNQUFBN0QsTUFDQXVELEVBQUFPLE9BQ0FQLEVBQUFRLFVBQUF0QixFQUFBSixFQUFBc0IsRUFBQWxCLEVBQUFJLEVBQUFjLEdBQ0FKLEVBQUFTLFVBQUF2QixFQUFBb0IsT0FBQXBCLEVBQUF6QyxNQUFBLEdBQUF5QyxFQUFBaUIsT0FBQSxFQUFBakIsRUFBQXpDLE1BQUF5QyxFQUFBaUIsUUFDQUgsRUFBQVUsVUFDQXhCLEVBQUF5QixtQkFDQSxHQUFBekIsRUFBQTBCLFVBQ0FoQixFQUFBaUIsT0FBQVIsRUFBQSxHQUtBLEdBQUEsR0FBQVMsRUFBQXhDLE9BQUEsQ0FDQSxHQUFBeUMsR0FBQWIsRUFBQXpELE1BQUEsSUFDQXVFLEVBQUFELEVBQUFELEVBQUEsR0FBQVIsTUFBQUgsT0FBQVcsRUFBQSxHQUFBUixNQUFBN0QsS0FFQSxLQUFBLEdBQUF3RSxLQUFBSCxHQUFBLENBQ0EsR0FBQUksR0FBQUosRUFBQUcsRUFDQUMsR0FBQXpFLE1BQUFzRSxFQUNBRyxFQUFBZixPQUFBYSxFQUVBLEdBQUFFLEVBQUFDLGNBRUFuQixFQUFBTyxPQUNBUCxFQUFBUSxVQUFBVSxFQUFBcEMsRUFBQXNCLEVBQUFjLEVBQUE1QixFQUFBYyxHQUNBSixFQUFBb0IsT0FBQUYsRUFBQUcsU0FBQSxJQUFBdEMsS0FBQXVDLElBQ0F0QixFQUFBUyxVQUFBUyxFQUFBWixPQUFBUyxFQUFBLEdBQUFDLEVBQUEsRUFBQUQsRUFBQUMsR0FDQWhCLEVBQUFVLFVBRUFJLEVBQUFHLEdBQUFuQyxFQUFBQyxLQUFBd0MsS0FBQUwsRUFBQUcsU0FBQSxJQUFBLElBQUF0QyxLQUFBdUMsSUFBQUosRUFBQXBDLEVBQ0FnQyxFQUFBRyxHQUFBM0IsRUFBQVAsS0FBQXlDLEtBQUFOLEVBQUFHLFNBQUEsSUFBQSxJQUFBdEMsS0FBQXVDLElBQUFKLEVBQUE1QixHQUNBNEIsRUFBQUMsYUFBQSxJQUVBbkIsRUFBQU8sT0FDQVAsRUFBQVEsVUFBQVUsRUFBQXBDLEVBQUFzQixFQUFBYyxFQUFBNUIsRUFBQWMsR0FDQUosRUFBQVMsVUFBQVMsRUFBQU8sZ0JBQUFWLEdBQUFBLEVBQUEsRUFBQUEsRUFBQSxFQUFBQSxHQUNBZixFQUFBVSxZQUtBLEdBQUEsR0FBQXZCLEVBQUFiLE9BQUEsQ0FDQSxHQUFBb0QsR0FBQXhCLEVBQUF6RCxNQUFBLEdBQ0FrRixFQUFBRCxFQUFBdkMsRUFBQSxHQUFBbUIsTUFBQUgsT0FBQWhCLEVBQUEsR0FBQW1CLE1BQUE3RCxLQUVBLEtBQUEsR0FBQW1GLEtBQUF6QyxHQUFBLENBQ0EsR0FBQUQsR0FBQUMsRUFBQXlDLEVBb0JBLElBbkJBMUMsRUFBQXpDLE1BQUFpRixFQUNBeEMsRUFBQWlCLE9BQUF3QixFQUNBM0IsRUFBQU8sT0FDQVAsRUFBQVEsVUFBQXRCLEVBQUFKLEVBQUFzQixFQUFBbEIsRUFBQUksRUFBQWMsR0FFQSxJQUFBbEIsRUFBQWlDLGNBQ0FuQixFQUFBb0IsT0FBQWxDLEVBQUFtQyxTQUFBLElBQUF0QyxLQUFBdUMsSUFDQXRCLEVBQUFTLFVBQUF2QixFQUFBb0IsT0FBQW9CLEVBQUEsR0FBQUMsRUFBQSxFQUFBRCxFQUFBQyxJQUVBeEMsRUFBQXlDLEdBQUFDLFVBRUEzQyxFQUFBNEMsT0FBQSxHQUFBNUMsRUFBQWlDLGNBQUEsS0FDQW5CLEVBQUFTLFVBQUF2QixFQUFBNkMsYUFBQUwsRUFBQSxHQUFBQyxFQUFBLEVBQUFELEVBQUFDLEdBR0F6QyxFQUFBNEMsT0FBQSxJQUNBM0MsRUFBQXlDLEdBQUE5QyxFQUFBQyxLQUFBd0MsS0FBQXJDLEVBQUFtQyxTQUFBLElBQUEsSUFBQXRDLEtBQUF1QyxJQUFBLEdBQUFwQyxFQUFBOEMsTUFBQTlDLEVBQUFKLEVBQ0FLLEVBQUF5QyxHQUFBdEMsRUFBQVAsS0FBQXlDLEtBQUF0QyxFQUFBbUMsU0FBQSxJQUFBLElBQUF0QyxLQUFBdUMsSUFBQSxHQUFBcEMsRUFBQThDLE1BQUE5QyxFQUFBSSxHQUVBSixFQUFBK0MsUUFBQSxJQUFBL0MsRUFBQWlDLGFBQUEsQ0FDQSxHQUFBZSxHQUFBLElBQUFSLEVBQ0FTLEVBQUFELEVBQUFoRCxFQUFBa0QsWUFBQTNGLE1BQUF5QyxFQUFBa0QsWUFBQWpDLE1BQ0FILEdBQUFTLFVBQUF2QixFQUFBa0QsYUFBQUYsRUFBQSxHQUFBQyxFQUFBLEVBQUFELEVBQUFDLEdBRUFoRCxFQUFBeUMsR0FBQVMsZUFDQXJDLEVBQUFVLFdBSUEsR0FBQTRCLEVBQUFoRSxPQUFBLEVBQ0EsSUFBQSxHQUFBaUUsS0FBQUQsR0FBQSxDQUNBLEdBQUFFLEdBQUFGLEVBQUFDLEVBUUEsSUFQQUMsRUFBQS9GLE1BQUF5RCxFQUFBekQsTUFBQSxJQUFBK0YsRUFBQWxDLE1BQUE3RCxNQUNBK0YsRUFBQXJDLE9BQUFxQyxFQUFBL0YsTUFBQStGLEVBQUFsQyxNQUFBSCxPQUFBcUMsRUFBQWxDLE1BQUE3RCxNQUNBdUQsRUFBQU8sT0FDQVAsRUFBQVEsVUFBQWdDLEVBQUExRCxFQUFBc0IsRUFBQW9DLEVBQUFsRCxFQUFBYyxHQUNBSixFQUFBb0IsT0FBQW9CLEVBQUFuQixTQUFBLElBQUF0QyxLQUFBdUMsSUFDQXRCLEVBQUFTLFVBQUErQixFQUFBbEMsT0FBQWtDLEVBQUEvRixNQUFBLEdBQUErRixFQUFBckMsT0FBQSxFQUFBcUMsRUFBQS9GLE1BQUErRixFQUFBckMsUUFDQUgsRUFBQVUsVUFDQThCLEVBQUExRCxFQUFBLElBQUEwRCxFQUFBMUQsRUFBQSxLQUFBMEQsRUFBQWxELEVBQUEsSUFBQWtELEVBQUFsRCxFQUFBLElBQUEsQ0FFQSxHQUFBbUQsR0FBQTFELEtBQUFFLFFBQ0EsS0FBQXdELEdBRUFILEVBQUFDLEdBQUF6RCxFQUFBLEdBQ0F3RCxFQUFBQyxHQUFBakQsRUFBQVAsS0FBQUMsTUFBQSxJQUFBRCxLQUFBRSxVQUNBcUQsRUFBQUMsR0FBQWxCLFNBQUF0QyxLQUFBQyxNQUFBLElBQUFELEtBQUFFLFdBQ0EsR0FBQXdELEdBRUFILEVBQUFDLEdBQUF6RCxFQUFBQyxLQUFBQyxNQUFBLElBQUFELEtBQUFFLFVBQ0FxRCxFQUFBQyxHQUFBakQsRUFBQSxHQUNBZ0QsRUFBQUMsR0FBQWxCLFNBQUF0QyxLQUFBQyxNQUFBLElBQUFELEtBQUFFLFVBQUEsSUFDQSxJQUFBd0QsR0FFQUgsRUFBQUMsR0FBQXpELEVBQUEsSUFDQXdELEVBQUFDLEdBQUFqRCxFQUFBUCxLQUFBQyxNQUFBLElBQUFELEtBQUFFLFVBQ0FxRCxFQUFBQyxHQUFBbEIsU0FBQXRDLEtBQUFDLE1BQUEsSUFBQUQsS0FBQUUsVUFBQSxNQUdBcUQsRUFBQUMsR0FBQXpELEVBQUFDLEtBQUFDLE1BQUEsSUFBQUQsS0FBQUUsVUFDQXFELEVBQUFDLEdBQUFqRCxFQUFBLElBQ0FnRCxFQUFBQyxHQUFBbEIsU0FBQXRDLEtBQUFDLE1BQUEsSUFBQUQsS0FBQUUsVUFBQSxLQUVBcUQsRUFBQUMsR0FBQVAsTUFBQSxFQUNBTSxFQUFBQyxHQUFBRyxTQUFBM0QsS0FBQWdCLEtBQUEsR0FBQWhCLEtBQUFFLGVBR0FxRCxHQUFBQyxHQUFBekQsRUFBQUMsS0FBQXdDLEtBQUFpQixFQUFBbkIsU0FBQSxJQUFBLElBQUF0QyxLQUFBdUMsSUFBQSxHQUFBZ0IsRUFBQUMsR0FBQVAsTUFBQVEsRUFBQTFELEVBQ0F3RCxFQUFBQyxHQUFBakQsRUFBQVAsS0FBQXlDLEtBQUFnQixFQUFBbkIsU0FBQSxJQUFBLElBQUF0QyxLQUFBdUMsSUFBQSxHQUFBZ0IsRUFBQUMsR0FBQVAsTUFBQVEsRUFBQWxELEVBS0FxRCxJQUVBQyxJQUdBLFFBQUFELEtBQ0EsSUFBQSxHQUFBekIsS0FBQUosR0FDQUEsRUFBQUksR0FBQXBDLEVBQUEsR0FBQWdDLEVBQUFJLEdBQUFwQyxFQUFBb0IsRUFBQXpELE9BQUFxRSxFQUFBSSxHQUFBNUIsRUFBQSxHQUFBd0IsRUFBQUksR0FBQTVCLEVBQUFZLEVBQUFDLE9BQ0FXLEVBQUFELE9BQUFLLEVBQUEsR0FDQUosRUFBQUksR0FBQUMsYUFBQSxJQUNBTCxFQUFBSSxHQUFBQyxhQUFBLEVBQ0FMLEVBQUFJLEdBQUFXLFVBRUFmLEVBQUFELE9BQUFLLEVBQUEsSUFNQSxRQUFBMEIsS0FFQSxHQUFBQyxLQUNBLEtBQUEsR0FBQTNELEtBQUFDLEdBQ0EsR0FBQUEsRUFBQUQsR0FBQTRDLE9BQUEsRUFBQSxDQUNBZSxFQUFBaEQsS0FBQVYsRUFBQUQsR0FJQSxLQUFBLEdBQUFnQyxLQUFBSixHQUNBLEdBQUEsR0FBQUEsRUFBQUksR0FBQUMsY0FDQUwsRUFBQUksR0FBQVUsUUFBQXpDLEVBQUFELEdBQUFPLFNBQUEsQ0FDQSxHQUFBcUQsR0FBQS9ELEtBQUFnRSxLQUFBLEdBQUEsR0FBQWpDLEVBQUFJLEdBQUFmLE9BQUEsRUFBQVcsRUFBQUksR0FBQXpFLE1BQUEsR0FDQXVHLEdBQUEsSUFBQWxDLEVBQUFJLEdBQUEsVUFBQSxJQUFBbkMsS0FBQXVDLEdBQ0EyQixFQUFBbkMsRUFBQUksR0FBQXBDLEVBQUFvQixFQUFBekQsTUFBQSxJQUFBcUcsRUFBQS9ELEtBQUF5QyxJQUFBd0IsR0FDQUUsRUFBQXBDLEVBQUFJLEdBQUE1QixFQUFBWSxFQUFBekQsTUFBQSxJQUFBcUcsRUFBQS9ELEtBQUF3QyxJQUFBeUIsR0FFQUcsRUFBQWhFLEVBQUFELEdBQUFKLEVBQUFvQixFQUFBekQsTUFBQSxJQUNBMkcsRUFBQWpFLEVBQUFELEdBQUFJLEVBQUFZLEVBQUF6RCxNQUFBLElBRUE0RyxFQUFBdEUsS0FBQWdFLE1BQUFFLEVBQUFFLElBQUFGLEVBQUFFLElBQUFELEVBQUFFLElBQUFGLEVBQUFFLElBRUFFLEVBQUEsQ0FLQSxJQUpBbkUsRUFBQUQsR0FBQStDLFNBQ0FxQixFQUFBLEtBR0FELEVBQUF2QyxFQUFBSSxHQUFBekUsTUFBQSxFQUFBMEMsRUFBQUQsR0FBQXpDLE1BQUEsRUFBQTZHLEVBQUEsQ0FDQSxHQUFBQyxHQUFBLEdBQUFDLE9BQUEsa0NBRUEsSUFEQUQsRUFBQUUsUUFDQXRFLEVBQUFELEdBQUErQyxPQUFBLENBQ0E5QyxFQUFBRCxHQUFBd0UsZ0JBQ0EsSUFBQS9GLEtBQ0FBLEdBQUFFLFNBQUFzQixFQUFBRCxHQUFBTyxTQUNBOUIsRUFBQWdHLEtBQUEsRUFBQXhFLEVBQUFELEdBQUE0QyxPQUNBNUUsRUFBQU0sS0FBQSxhQUFBRyxHQUVBbUQsRUFBQUksR0FBQVcsV0FNQSxJQUFBLEdBQUFXLEtBQUFGLEdBQUEsQ0FDQSxHQUFBc0IsR0FBQXRCLEVBQUFFLEdBQUExRCxFQUFBb0IsRUFBQXpELE1BQUEsSUFDQW9ILEVBQUF2QixFQUFBRSxHQUFBbEQsRUFBQVksRUFBQXpELE1BQUEsSUFFQTBHLEVBQUFoRSxFQUFBRCxHQUFBSixFQUFBb0IsRUFBQXpELE1BQUEsSUFDQTJHLEVBQUFqRSxFQUFBRCxHQUFBSSxFQUFBWSxFQUFBekQsTUFBQSxJQUVBNEcsRUFBQXRFLEtBQUFnRSxNQUFBYSxFQUFBVCxJQUFBUyxFQUFBVCxJQUFBVSxFQUFBVCxJQUFBUyxFQUFBVCxJQUVBRSxFQUFBLENBS0EsSUFKQW5FLEVBQUFELEdBQUErQyxTQUNBcUIsRUFBQSxLQUdBRCxFQUFBZixFQUFBRSxHQUFBL0YsTUFBQSxFQUFBMEMsRUFBQUQsR0FBQXpDLE1BQUEsRUFBQTZHLEVBQUEsQ0FDQSxHQUFBQyxHQUFBLEdBQUFDLE9BQUEsa0NBRUEsSUFEQUQsRUFBQUUsT0FDQXRFLEVBQUFELEdBQUErQyxPQUNBSyxFQUFBRSxHQUFBbkIsU0FBQWlCLEVBQUFFLEdBQUFuQixTQUFBLElBQ0FpQixFQUFBRSxHQUFBUixNQUFBLEVBQ0FNLEVBQUFFLEdBQUExRCxFQUFBQyxLQUFBd0MsS0FBQWUsRUFBQUUsR0FBQW5CLFNBQUEsSUFBQSxJQUFBdEMsS0FBQXVDLElBQUEsR0FBQWdCLEVBQUFFLEdBQUFSLE1BQUFNLEVBQUFFLEdBQUExRCxFQUNBd0QsRUFBQUUsR0FBQWxELEVBQUFQLEtBQUF5QyxLQUFBYyxFQUFBRSxHQUFBbkIsU0FBQSxJQUFBLElBQUF0QyxLQUFBdUMsSUFBQSxHQUFBZ0IsRUFBQUUsR0FBQVIsTUFBQU0sRUFBQUUsR0FBQWxELE1BQ0EsQ0FDQUgsRUFBQUQsR0FBQTRFLE1BQ0EsSUFBQW5HLEtBQ0FBLEdBQUFFLFNBQUFzQixFQUFBRCxHQUFBTyxTQUNBOUIsRUFBQWdHLEtBQUEsRUFBQXhFLEVBQUFELEdBQUE0QyxPQUNBNUUsRUFBQU0sS0FBQSxhQUFBRyxLQU1BLElBQUEsR0FBQTZFLEtBQUFyRCxHQUNBLEdBQUEsR0FBQUEsRUFBQXFELEdBQUFWLFFBR0FVLEdBQUF0RCxFQUFBLENBQ0EsR0FBQTZFLEdBQUE1RSxFQUFBcUQsR0FBQTFELEVBQUFvQixFQUFBekQsTUFBQSxJQUNBdUgsRUFBQTdFLEVBQUFxRCxHQUFBbEQsRUFBQVksRUFBQXpELE1BQUEsSUFFQTBHLEVBQUFoRSxFQUFBRCxHQUFBSixFQUFBb0IsRUFBQXpELE1BQUEsSUFDQTJHLEVBQUFqRSxFQUFBRCxHQUFBSSxFQUFBWSxFQUFBekQsTUFBQSxJQUVBNkcsRUFBQSxDQUNBbkUsR0FBQUQsR0FBQStDLFNBQ0FxQixFQUFBLElBR0EsSUFBQVcsR0FBQSxDQUNBOUUsR0FBQXFELEdBQUFQLFNBQ0FnQyxFQUFBLElBR0EsSUFBQVosR0FBQXRFLEtBQUFnRSxNQUFBZ0IsRUFBQVosSUFBQVksRUFBQVosSUFBQWEsRUFBQVosSUFBQVksRUFBQVosR0FDQSxJQUFBQyxFQUFBbEUsRUFBQXFELEdBQUEvRixNQUFBLEVBQUF3SCxFQUFBOUUsRUFBQUQsR0FBQXpDLE1BQUEsRUFBQTZHLEVBQUEsQ0FDQSxHQUFBQyxHQUFBLEdBQUFDLE9BQUEsa0NBQ0FELEdBQUFFLE9BQ0F0RSxFQUFBRCxHQUFBNEUsT0FDQTNFLEVBQUFxRCxHQUFBc0IsTUFDQSxJQUFBbkcsS0FDQUEsR0FBQUUsU0FBQXNCLEVBQUFELEdBQUFPLFNBQ0E5QixFQUFBZ0csS0FBQSxFQUFBeEUsRUFBQUQsR0FBQTRDLE9BQ0E1RSxFQUFBTSxLQUFBLGFBQUFHLEdBQ0FBLEVBQUFFLFNBQUFzQixFQUFBcUQsR0FBQS9DLFNBQ0E5QixFQUFBZ0csS0FBQSxFQUFBeEUsRUFBQXFELEdBQUFWLE9BQ0E1RSxFQUFBTSxLQUFBLGFBQUFHLElBTUEsR0FBQXdCLEVBQUFELEdBQUFKLEVBQUFvQixFQUFBekQsTUFBQSxJQUFBMEMsRUFBQUQsR0FBQWlCLE9BQUEsR0FBQWhCLEVBQUFELEdBQUFKLEVBQUFvQixFQUFBekQsTUFBQSxJQUFBeUQsRUFBQXpELE1BQUEwQyxFQUFBRCxHQUFBaUIsT0FBQSxHQUNBaEIsRUFBQUQsR0FBQUksRUFBQVksRUFBQXpELE1BQUEsSUFBQTBDLEVBQUFELEdBQUFpQixPQUFBLEdBQUFoQixFQUFBRCxHQUFBSSxFQUFBWSxFQUFBekQsTUFBQSxJQUFBeUQsRUFBQXpELE1BQUEwQyxFQUFBRCxHQUFBaUIsT0FBQSxFQUFBLENBQ0EsR0FBQW9ELEdBQUEsR0FBQUMsT0FBQSxrQ0FDQUQsR0FBQUUsT0FDQXRFLEVBQUFELEdBQUE0RSxNQUNBLElBQUFuRyxLQUNBQSxHQUFBRSxTQUFBc0IsRUFBQUQsR0FBQU8sU0FDQTlCLEVBQUFnRyxLQUFBLEVBQUF4RSxFQUFBRCxHQUFBNEMsT0FDQTVFLEVBQUFNLEtBQUEsYUFBQUcsR0FJQSxJQUFBLEdBQUE2RSxLQUFBNUMsR0FBQSxDQUNBLEdBQUFzRSxHQUFBdEUsRUFBQTRDLEdBQUExRCxFQUFBb0IsRUFBQXpELE1BQUEsSUFDQTBILEVBQUF2RSxFQUFBNEMsR0FBQWxELEVBQUFZLEVBQUF6RCxNQUFBLElBRUEwRyxFQUFBaEUsRUFBQUQsR0FBQUosRUFBQW9CLEVBQUF6RCxNQUFBLElBQ0EyRyxFQUFBakUsRUFBQUQsR0FBQUksRUFBQVksRUFBQXpELE1BQUEsSUFFQTRHLEVBQUF0RSxLQUFBZ0UsTUFBQW1CLEVBQUFmLElBQUFlLEVBQUFmLElBQUFnQixFQUFBZixJQUFBZSxFQUFBZixHQUNBLElBQUFDLEVBQUF6RCxFQUFBNEMsR0FBQS9GLE1BQUEsRUFBQTBDLEVBQUFELEdBQUF6QyxNQUFBLEVBQUEsQ0FDQSxHQUFBMkgsR0FBQSxHQUFBWixPQUFBLGlDQUVBLElBREFZLEVBQUFYLE9BQ0EsR0FBQTdELEVBQUE0QyxHQUFBNkIsU0FDQSxJQUFBLEdBQUF6QyxLQUFBekMsR0FDQXlDLEdBQUExQyxHQUNBQyxFQUFBeUMsR0FBQTBDLFdBQUExRSxFQUFBNEMsUUFJQXJELEdBQUFELEdBQUFvRixXQUFBMUUsRUFBQTRDLEdBRUEsSUFBQSxHQUFBNUMsRUFBQTRDLEdBQUErQixLQUFBLENBQ0EsR0FBQTVHLEtBQ0FBLEdBQUFFLFNBQUFzQixFQUFBRCxHQUFBTyxTQUNBOUIsRUFBQWdHLEtBQUEsRUFDQXpHLEVBQUFNLEtBQUEsYUFBQUcsR0FFQWlDLEVBQUFpQixPQUFBMkIsRUFBQSxLQU9BLElBQUEsR0FBQUEsS0FBQUYsR0FDQSxJQUFBLEdBQUFwQixLQUFBSixHQUNBLEdBQUEsR0FBQUEsRUFBQUksR0FBQUMsY0FDQUwsRUFBQUksR0FBQVUsUUFBQVUsRUFBQUUsR0FBQS9DLFNBQUEsQ0FDQSxHQUFBcUQsR0FBQS9ELEtBQUFnRSxLQUFBLEdBQUEsR0FBQWpDLEVBQUFJLEdBQUFmLE9BQUEsRUFBQVcsRUFBQUksR0FBQXpFLE1BQUEsR0FDQXVHLEdBQUEsSUFBQWxDLEVBQUFJLEdBQUEsVUFBQSxJQUFBbkMsS0FBQXVDLEdBQ0EyQixFQUFBbkMsRUFBQUksR0FBQXBDLEVBQUFvQixFQUFBekQsTUFBQSxJQUFBcUcsRUFBQS9ELEtBQUF5QyxJQUFBd0IsR0FDQUUsRUFBQXBDLEVBQUFJLEdBQUE1QixFQUFBWSxFQUFBekQsTUFBQSxJQUFBcUcsRUFBQS9ELEtBQUF3QyxJQUFBeUIsR0FFQVksRUFBQXRCLEVBQUFFLEdBQUExRCxFQUFBb0IsRUFBQXpELE1BQUEsSUFDQW9ILEVBQUF2QixFQUFBRSxHQUFBbEQsRUFBQVksRUFBQXpELE1BQUEsSUFFQTRHLEVBQUF0RSxLQUFBZ0UsTUFBQUUsRUFBQVcsSUFBQVgsRUFBQVcsSUFBQVYsRUFBQVcsSUFBQVgsRUFBQVcsR0FDQSxJQUFBUixFQUFBdkMsRUFBQUksR0FBQXpFLE1BQUEsRUFBQTZGLEVBQUFFLEdBQUEvRixNQUFBLEVBQUEsQ0FDQSxHQUFBa0IsS0FDQUEsR0FBQUUsU0FBQXlFLEVBQUFFLEdBQUEvQyxTQUNBOUIsRUFBQWdHLEtBQUEsRUFBQXJCLEVBQUFFLEdBQUFWLE9BQ0E1RSxFQUFBTSxLQUFBLGFBQUFHLEdBQ0FtRCxFQUFBSSxHQUFBVyxXQVNBLEdBQUFnQixFQUFBdkUsUUFDQWtHLEVBQUEzQixHQUlBLFFBQUEyQixHQUFBM0IsR0FDQTlHLFFBQUEwSSxVQUFBQyxLQUNBOUYsRUFBQStGLE9BQUFELEdBQ0FBLEVBQUFFLFFBRUEzSCxFQUFBdUgsU0FBQSxFQUNBdkgsRUFBQTRILFlBQUFoQyxFQUFBLEdBQUFwRCxTQUFBLGtCQUNBdkMsRUFBQU0sS0FBQSxVQUFBcUYsRUFBQSxHQUFBcEQsVUE1Y0EsR0FBQXFGLEtBQUFoRyxFQUFBLEdBQUFRLEVBQUEsR0FBQStCLFNBQUEsTUFBQXZDLEVBQUEsR0FBQVEsRUFBQSxHQUFBK0IsU0FBQSxNQUFBdkMsRUFBQSxHQUFBUSxFQUFBLEdBQUErQixTQUFBLE1BQUF2QyxFQUFBLEdBQUFRLEVBQUEsR0FBQStCLFNBQUEsSUFDQXBFLEdBQUE4SCxPQUFBNUgsRUFBQTZILFVBQ0EvSCxFQUFBdUgsU0FBQSxDQUNBLElBUUFFLEdBUkF4RSxFQUFBK0UsU0FBQUMsZUFBQSxRQUNBbEYsRUFBQUUsRUFBQWlGLFdBQUEsTUFFQWhHLEVBQUEsR0FBQWlHLE9BQ0F0RSxFQUFBLEdBQUFzRSxPQUNBOUMsRUFBQSxHQUFBOEMsT0FDQXhGLEVBQUEsR0FBQXdGLE1BSUFsSSxHQUFBUSxHQUFBLFdBQUEsV0FDQSxHQUFBMkgsR0FBQWpJLEVBQUFrSSxhQUNBQyxFQUFBLENBQ0EsS0FBQSxHQUFBM0QsS0FBQXlELEdBQUEsQ0FDQSxHQUFBbkcsR0FBQW1HLEVBQUF6RCxFQUNBekMsR0FBQVUsS0FBQSxHQUFBMkYsV0FBQXRHLEVBQUFyQixTQUFBaUgsRUFBQVMsR0FBQXpHLEVBQUFnRyxFQUFBUyxHQUFBakcsRUFBQUosRUFBQXVHLE1BQUFYLEVBQUFTLEdBQUFsRSxXQUNBa0UsSUFHQSxJQUFBLEdBQUFHLEdBQUEsRUFBQSxHQUFBQSxFQUFBQSxJQUNBcEQsRUFBQXpDLEtBQUEsR0FBQTBDLFVBQUExRCxJQUFBUSxJQUFBTixLQUFBQyxNQUFBLElBQUFELEtBQUFFLFVBQUFGLEtBQUFnQixLQUFBLEdBQUFoQixLQUFBRSxXQUlBeUYsR0FBQTlGLEVBQUFjLEVBQUEsTUF1QkF4QyxFQUFBUSxHQUFBLFdBQUEsU0FBQUMsR0FDQSxHQUFBdUIsR0FBQSxJQUNBLEtBQUEsR0FBQXdHLEtBQUF2RyxHQUNBLEdBQUFJLEVBQUFKLEVBQUF1RyxHQUFBL0gsS0FDQXVCLEVBQUF3RyxFQUdBdkcsR0FBQTBCLE9BQUEzQixFQUFBLEtBR0FoQyxFQUFBUSxHQUFBLGlCQUFBLFNBQUFDLEdBQ0EsR0FBQXVCLEdBQUEsSUFDQSxLQUFBLEdBQUF3RyxLQUFBdkcsR0FDQSxHQUFBSSxFQUFBSixFQUFBdUcsR0FBQS9ILEtBQ0F1QixFQUFBd0csRUFHQSxPQUFBeEcsR0FDQUMsRUFBQUQsR0FBQXlHLHdCQUFBaEksRUFBQWlJLGVBSUExSSxFQUFBUSxHQUFBLGFBQUEsU0FBQUMsR0FDQSxHQUFBLEdBQUFWLEVBQUF1SCxRQUFBLENBQ0EsR0FBQXRGLEdBQUEsSUFDQSxLQUFBLEdBQUF3RyxLQUFBdkcsR0FDQSxHQUFBSSxFQUFBSixFQUFBdUcsR0FBQS9ILEtBQ0F1QixFQUFBd0csRUFHQSxJQUFBLE1BQUF4RyxFQUFBLENBQ0EsR0FBQTJHLEdBQUExRyxFQUFBRCxHQUNBOEQsR0FBQSxLQUFBNkMsRUFBQXhFLFNBQUEsTUFBQSxJQUFBdEMsS0FBQXVDLEdBQ0F4QyxFQUFBK0csRUFBQS9HLEVBQUFvQixFQUFBekQsTUFBQSxJQUFBc0MsS0FBQXlDLElBQUF3QixHQUNBMUQsRUFBQXVHLEVBQUF2RyxFQUFBWSxFQUFBekQsTUFBQSxJQUFBc0MsS0FBQXdDLElBQUF5QixFQUNBbEMsR0FBQWpCLEtBQUEsR0FBQWlHLFFBQUFoSCxFQUFBUSxFQUFBdUcsRUFBQXhFLFNBQUF3RSxFQUFBSixNQUFBSSxFQUFBcEcsVUFDQSxJQUFBc0csR0FBQSxtQ0FDQTdHLEdBQUEsR0FBQSxJQUNBNkcsRUFBQSxvQ0FFQSxJQUFBQyxHQUFBLEdBQUF4QyxPQUFBdUMsRUFDQUMsR0FBQXZDLFVBU0EsSUFBQTlELEdBQUFaLEtBQUFDLE1BQUEsSUFBQUQsS0FBQUUsU0FBQSxJQTBXQWhDLEdBQUFnSixZQUFBLFdBQ0FoSixFQUFBdUgsU0FBQSxDQUNBLElBQUFlLEdBQUEsQ0FDQSxLQUFBLEdBQUFyRyxLQUFBQyxHQUNBQSxFQUFBRCxHQUFBZ0gsTUFBQXBCLEVBQUFTLEdBQUF6RyxFQUFBZ0csRUFBQVMsR0FBQWpHLEVBQUF3RixFQUFBUyxHQUFBbEUsVUFDQWtFLEdBRUFqRCxLQUNBLEtBQUEsR0FBQW9ELEdBQUEsRUFBQSxHQUFBQSxFQUFBQSxJQUNBcEQsRUFBQXpDLEtBQUEsR0FBQTBDLFVBQUExRCxJQUFBUSxJQUFBTixLQUFBQyxNQUFBLElBQUFELEtBQUFFLFVBQUFGLEtBQUFnQixLQUFBLEdBQUFoQixLQUFBRSxXQUVBNkIsTUFDQWxCLEtBQ0FELEVBQUFaLEtBQUFDLE1BQUEsSUFBQUQsS0FBQUUsU0FBQSxLQUVBZSxFQUFBQyxVQUFBLEVBQUEsRUFBQUMsRUFBQXpELE1BQUF5RCxFQUFBQyxRQUNBakQsRUFBQU0sS0FBQSxjQUFBLE1BQ0FrSCxFQUFBOUYsRUFBQWMsRUFBQSxLQUlBM0QsU0FBQUMsT0FBQSxPQUFBMEMsV0FBQSxrQkFBQSxTQUFBLFlBQUEsVUFBQSxnQkFBQSxpQkFBQSxnQkFBQUMsTUNyZUEsSUFBQTRELFVBQUEsU0FBQXpELEVBQUFRLEVBQUErQixFQUFBOEUsR0FDQUMsS0FBQXRILEVBQUFBLEVBQ0FzSCxLQUFBOUcsRUFBQUEsRUFDQThHLEtBQUEzSixNQUFBLEVBQ0EySixLQUFBakcsT0FBQSxFQUNBaUcsS0FBQS9FLFNBQUFBLEVBQ0ErRSxLQUFBRCxNQUFBQSxFQUNBQyxLQUFBOUYsTUFBQSxHQUFBK0YsT0FDQUQsS0FBQTlGLE1BQUFnRyxJQUFBLGdDQUFBSCxFQUFBLE9BQ0FDLEtBQUFwRSxNQUFBLEVBR0FPLFVBQUFnRSxVQUFBN0QsU0FBQSxTQUFBeUQsR0FDQUMsS0FBQUQsTUFBQUEsRUFDQUMsS0FBQTlGLE1BQUFnRyxJQUFBLGdDQUFBSCxFQUFBLE9DZkEsSUFBQUwsUUFBQSxTQUFBaEgsRUFBQVEsRUFBQStCLEVBQUFvRSxFQUFBN0QsR0FDQXdFLEtBQUF0SCxFQUFBQSxFQUNBc0gsS0FBQTlHLEVBQUFBLEVBQ0E4RyxLQUFBL0UsU0FBQUEsRUFDQStFLEtBQUE5RixNQUFBLEdBQUErRixPQUNBRCxLQUFBWCxNQUFBQSxFQUNBVyxLQUFBM0osTUFBQSxFQUNBMkosS0FBQWpHLE9BQUEsRUFDQWlHLEtBQUF4RSxPQUFBQSxFQUNBd0UsS0FBQTNFLGVBQUEsR0FBQTRFLE9BQ0FELEtBQUFqRixhQUFBLEVBQ0EsVUFBQWlGLEtBQUFYLFFBQ0FXLEtBQUFYLE1BQUEsT0FFQVcsS0FBQTlGLE1BQUFnRyxJQUFBLDZCQUFBRixLQUFBWCxNQUFBZSxPQUFBLEdBQUFDLGNBQUFMLEtBQUFYLE1BQUFpQixNQUFBLEdBQUEsU0FHQVosUUFBQVMsVUFBQTFFLFFBQUEsV0FDQSxHQUFBdUUsS0FBQWpGLGFBQUEsRUFBQSxDQUNBaUYsS0FBQWpGLGNBQ0EsSUFBQXdGLEVBRUFBLEdBREFQLEtBQUFqRixhQUFBLEVBQ0EsRUFFQSxFQUVBaUYsS0FBQTNFLGVBQUE2RSxJQUFBLDZCQUFBRixLQUFBWCxNQUFBZSxPQUFBLEdBQUFDLGNBQUFMLEtBQUFYLE1BQUFpQixNQUFBLEdBQUEsVUFBQUMsRUFBQSxXQUVBUCxNQUFBM0UsZUFBQTZFLElBQUEsR0MzQkEsSUFBQXhHLFNBQUEsU0FBQWhCLEVBQUFRLEVBQUFpRixFQUFBRixHQUNBK0IsS0FBQXRILEVBQUFBLEVBQ0FzSCxLQUFBOUcsRUFBQUEsRUFDQThHLEtBQUEzSixNQUFBLEVBQ0EySixLQUFBakcsT0FBQSxFQUNBaUcsS0FBQTdCLEtBQUFBLEVBQ0E2QixLQUFBeEYsU0FBQSxJQUNBd0YsS0FBQVEsZUFBQSxHQUNBLElBQUFDLEVBR0EsUUFGQVQsS0FBQTlGLE1BQUEsR0FBQStGLE9BQ0FELEtBQUEvQixTQUFBQSxFQUNBRSxHQUNBLElBQUEsR0FDQXNDLEVBQUEsT0FDQSxNQUNBLEtBQUEsR0FDQUEsRUFBQSxTQUNBLE1BQ0EsS0FBQSxHQUNBQSxFQUFBLFFBSUEsT0FBQXhDLEdBQ0EsSUFBQSxHQUNBd0MsR0FBQSxVQUNBLE1BQ0EsS0FBQSxHQUNBQSxHQUFBLGFBRUFULEtBQUE5RixNQUFBZ0csSUFBQSwyQkFBQU8sRUFHQS9HLFNBQUF5RyxVQUFBNUYsaUJBQUEsV0FDQXlGLEtBQUF4RixTQUFBLEdBQ0F3RixLQUFBeEYsV0NwQ0EsSUFBQTRFLFdBQUEsU0FBQS9GLEVBQUFYLEVBQUFRLEVBQUFtRyxFQUFBcEUsR0FDQStFLEtBQUEzRyxTQUFBQSxFQUNBMkcsS0FBQXRILEVBQUFBLEVBQ0FzSCxLQUFBOUcsRUFBQUEsRUFDQThHLEtBQUFwRSxNQUFBLEVBQ0FvRSxLQUFBWCxNQUFBQSxFQUNBVyxLQUFBL0UsU0FBQUEsRUFDQStFLEtBQUE5RixNQUFBLEdBQUErRixPQUNBRCxLQUFBdEUsT0FBQSxFQUNBc0UsS0FBQTNKLE1BQUEsRUFDQTJKLEtBQUFqRyxPQUFBLEVBQ0FpRyxLQUFBVSxZQUNBVixLQUFBbkUsUUFBQSxFQUNBbUUsS0FBQWhFLFlBQUEsR0FBQWlFLE9BQ0FELEtBQUFoRSxZQUFBa0UsSUFBQSxvQ0FDQUYsS0FBQXJFLFlBQUEsR0FBQXNFLE9BQ0FELEtBQUE5RixNQUFBZ0csSUFBQSw2QkFBQUYsS0FBQVgsTUFBQSxPQUNBVyxLQUFBakYsYUFBQSxHQUdBcUUsV0FBQWUsVUFBQUwsTUFBQSxTQUFBcEgsRUFBQVEsRUFBQStCLEdBQ0ErRSxLQUFBcEUsTUFBQSxFQUNBb0UsS0FBQXRFLE9BQUEsRUFDQXNFLEtBQUFyRSxZQUFBLEdBQUFzRSxPQUNBRCxLQUFBOUYsTUFBQWdHLElBQUEsNkJBQUFGLEtBQUFYLE1BQUEsT0FDQVcsS0FBQXRILEVBQUFBLEVBQ0FzSCxLQUFBOUcsRUFBQUEsRUFDQThHLEtBQUEvRSxTQUFBQSxFQUNBK0UsS0FBQW5FLFFBQUEsRUFDQW1FLEtBQUFqRixhQUFBLElBR0FxRSxVQUFBZSxVQUFBUSxjQUFBLFNBQUFqSSxFQUFBUSxHQUNBOEcsS0FBQXRILEVBQUFBLEVBQ0FzSCxLQUFBOUcsRUFBQUEsR0FHQWtHLFVBQUFlLFVBQUFTLHNCQUFBLFNBQUFsSSxFQUFBUSxHQUNBOEcsS0FBQXRILEVBQUFzSCxLQUFBdEgsRUFBQUEsRUFDQXNILEtBQUE5RyxFQUFBOEcsS0FBQTlHLEVBQUFBLEdBR0FrRyxVQUFBZSxVQUFBVSxnQkFBQSxTQUFBQyxHQUNBZCxLQUFBL0UsU0FBQTZGLEdBR0ExQixVQUFBZSxVQUFBWix3QkFBQSxTQUFBdUIsR0FDQUEsRUFBQSxHQUNBQSxFQUFBLEdBQ0EsSUFBQUEsSUFDQUEsRUFBQSxLQUVBZCxLQUFBL0UsU0FBQStFLEtBQUEvRSxTQUFBNkYsRUFBQSxFQUNBZCxLQUFBL0UsU0FBQSxPQUNBK0UsS0FBQS9FLFNBQUErRSxLQUFBL0UsU0FBQSxLQUVBK0UsS0FBQS9FLFNBQUEsTUFDQStFLEtBQUEvRSxTQUFBK0UsS0FBQS9FLFNBQUEsTUFJQW1FLFVBQUFlLFVBQUE3QyxlQUFBLFdBQ0EwQyxLQUFBdEUsT0FBQSxJQUNBc0UsS0FBQXRFLFFBQUEsR0FHQXNFLEtBQUF0RSxRQUFBLEdBQUFzRSxLQUFBdEUsT0FBQSxFQUNBc0UsS0FBQXJFLFlBQUF1RSxJQUFBLDBDQUFBRixLQUFBdEUsT0FBQSxPQUNBLEdBQUFzRSxLQUFBdEUsUUFDQXNFLEtBQUF2RSxXQUlBMkQsVUFBQWUsVUFBQXpDLEtBQUEsV0FDQXNDLEtBQUF0RSxPQUFBLEVBQ0FzRSxLQUFBdkUsV0FHQTJELFVBQUFlLFVBQUExRSxRQUFBLFdBQ0F1RSxLQUFBakYsY0FBQSxNQUNBaUYsS0FBQWpGLGVBQ0FpRixLQUFBckUsWUFBQXVFLElBQUEsNkJBQUF2SCxLQUFBQyxNQUFBb0gsS0FBQWpGLGFBQUEsSUFBQSxTQUlBcUUsVUFBQWUsVUFBQVksZUFBQSxXQUNBZixLQUFBdEUsT0FBQSxJQUNBc0UsS0FBQXRFLFFBQUEsR0FHQXNFLEtBQUF0RSxRQUFBLEdBQUFzRSxLQUFBdEUsT0FBQSxJQUNBc0UsS0FBQXJFLFlBQUF1RSxJQUFBLDBDQUFBRixLQUFBdEUsT0FBQSxTQUlBMEQsVUFBQWUsVUFBQWpDLFdBQUEsU0FBQWpFLEdBQ0EsT0FBQUEsRUFBQWtFLE1BQ0EsSUFBQSxHQUNBNkIsS0FBQXBFLFFBQ0FvRSxLQUFBVSxTQUFBakgsS0FBQVEsRUFDQSxNQUNBLEtBQUEsR0FDQStGLEtBQUFuRSxRQUFBLEVBQ0FtRSxLQUFBVSxTQUFBakgsS0FBQVEsRUFDQSxNQUNBLEtBQUEsR0FDQStGLEtBQUF0RSxPQUFBLEVBQ0FzRSxLQUFBckUsWUFBQXVFLElBQUEsS0FLQWQsVUFBQWUsVUFBQWxFLGFBQUEsV0FDQSxJQUFBLEdBQUFuRCxLQUFBa0gsTUFBQVUsU0FDQSxHQUFBVixLQUFBVSxTQUFBNUgsR0FBQTBILGVBQUEsRUFDQVIsS0FBQVUsU0FBQTVILEdBQUEwSCxxQkFDQSxDQUNBLE9BQUFSLEtBQUFVLFNBQUE1SCxHQUFBcUYsTUFDQSxJQUFBLEdBQ0E2QixLQUFBcEUsT0FDQSxNQUNBLEtBQUEsR0FDQW9FLEtBQUFuRSxRQUFBLEVBR0FtRixRQUFBQyxJQUFBLGlCQUNBRCxRQUFBQyxJQUFBakIsS0FBQVUsVUFDQVYsS0FBQVUsU0FBQWpHLE9BQUEzQixFQUFBLEdBQ0FrSSxRQUFBQyxJQUFBakIsS0FBQVUsWUM1SEEsV0FDQSxHQUFBM0osR0FBQSxXQUVBLEdBQUFFLElBQUEsRUFFQTBILEdBQUEsQ0FFQSxRQUNBekgsVUFBQSxXQUNBLE1BQUFELElBRUFtQixVQUFBLFNBQUE4SSxHQUNBakssRUFBQWlLLEdBRUF0QyxVQUFBLFdBQ0EsTUFBQUQsSUFFQXRHLFVBQUEsU0FBQTZJLEdBQ0F2QyxFQUFBdUMsSUFLQXZMLFNBQUFDLE9BQUEsT0FBQXVMLFFBQUEsa0JBQUFwSyxPQzNCQSxXQUNBLEdBQUFDLEdBQUEsV0FFQSxHQUFBb0ssS0FFQSxRQUNBbEMsV0FBQSxXQUNBLE1BQUFrQyxJQUVBckosV0FBQSxTQUFBc0osR0FDQUQsRUFBQUMsSUFLQTFMLFNBQUFDLE9BQUEsT0FBQXVMLFFBQUEsaUJBQUFuSyxPQ2ZBLFdBRUEsR0FBQUYsR0FBQSxTQUFBd0ssR0FDQSxZQUVBLElBQUFDLEdBQUFDLEdBQUFDLFFBQUFDLE9BQUFDLFNBQUFDLE1BRUF0SyxFQUFBLFNBQUF1SyxFQUFBQyxHQUNBUCxFQUFBakssR0FBQXVLLEVBQUEsV0FDQSxHQUFBRSxHQUFBQyxTQUNBVixHQUFBVyxPQUFBLFdBQ0FILEVBQUFJLE1BQUFYLEVBQUFRLFFBS0EzSyxFQUFBLFNBQUF5SyxFQUFBdEssRUFBQXVLLEdBQ0FQLEVBQUFuSyxLQUFBeUssRUFBQXRLLEVBQUEsV0FDQSxHQUFBd0ssR0FBQUMsU0FDQVYsR0FBQVcsT0FBQSxXQUNBSCxHQUNBQSxFQUFBSSxNQUFBWCxFQUFBUSxPQU9BLFFBQ0F6SyxHQUFBQSxFQUNBRixLQUFBQSxFQUNBbUssT0FBQUEsR0FJQTVMLFNBQUFDLE9BQUEsT0FBQXVMLFFBQUEsaUJBQUEsYUFBQXJLIiwiZmlsZSI6ImFwcC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENyZWF0ZWQgYnkgTWljaGllbCBvbiAyNS8xMS8yMDE1LlxuICovXG4oZnVuY3Rpb24oKXtcblxuICAgIHZhciBhcHAgPSBhbmd1bGFyLm1vZHVsZShcImFwcFwiLFtdKTtcbn0pKCk7IiwiLyoqXG4gKiBDcmVhdGVkIGJ5IGp1c3Rpam5kZXBvdmVyIG9uIDE2LzEyLzE1LlxuICovXG4oZnVuY3Rpb24oKXtcbiAgICB2YXIgY2FudmFzRGlyZWN0aXZlID0gZnVuY3Rpb24oJHdpbmRvdyl7XG4gICAgICAgIHJldHVybntcbiAgICAgICAgICAgIHJlc3RyaWN0OiAnRScsXG4gICAgICAgICAgICBsaW5rOmxpbmssXG4gICAgICAgICAgICByZXBsYWNlOnRydWUsXG4gICAgICAgICAgICB0ZW1wbGF0ZTonPGNhbnZhcyBpZD1cImdhbWVcIiBjbGFzcz1cInBsYXlBcmVhXCIgd2lkdGg9XCJ7e3dpZHRofX1cIiBoZWlnaHQ9XCJ7e3dpZHRofX1cIiAvPidcbiAgICAgICAgfTtcblxuICAgICAgICBmdW5jdGlvbiBsaW5rKHNjb3BlLCBlbGVtZW50LCBhdHRycyl7XG4gICAgICAgICAgICBpZigkd2luZG93LmlubmVyV2lkdGggPCAkd2luZG93LmlubmVySGVpZ2h0KXtcbiAgICAgICAgICAgICAgICBzY29wZS53aWR0aCA9ICR3aW5kb3cuaW5uZXJXaWR0aCAtIDIwO1xuICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgc2NvcGUud2lkdGggPSAkd2luZG93LmlubmVySGVpZ2h0IC0gMjA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGFuZ3VsYXIuZWxlbWVudCgkd2luZG93KS5iaW5kKCdyZXNpemUnLCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIGlmKCR3aW5kb3cuaW5uZXJXaWR0aCA8ICR3aW5kb3cuaW5uZXJIZWlnaHQpe1xuICAgICAgICAgICAgICAgICAgICBzY29wZS53aWR0aCA9ICR3aW5kb3cuaW5uZXJXaWR0aCAtIDIwO1xuICAgICAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgICAgICBzY29wZS53aWR0aCA9ICR3aW5kb3cuaW5uZXJIZWlnaHQgLSAyMDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBzY29wZS4kZGlnZXN0KCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBhbmd1bGFyLm1vZHVsZSgnYXBwJykuZGlyZWN0aXZlKFwiY2FudmFzRGlyZWN0aXZlXCIsIFtcIiR3aW5kb3dcIiwgY2FudmFzRGlyZWN0aXZlXSk7XG59KSgpOyIsIi8qKlxuICogQ3JlYXRlZCBieSBNaWNoaWVsIG9uIDExLzEyLzIwMTUuXG4gKi9cblxuKGZ1bmN0aW9uKCl7XG4gICAgdmFyIGxvZ2luQ29udHJvbGxlciA9IGZ1bmN0aW9uKCRzY29wZSwgc29ja2V0U2VydmljZSwgZGlzcGxheVNlcnZpY2UsIHBsYXllclNlcnZpY2Upe1xuXG4gICAgICAgICRzY29wZS5MQ1Nob3cgPSBkaXNwbGF5U2VydmljZS5nZXRMQ1Nob3c7XG5cbiAgICAgICAgLy9mdW5jdGlvbnNcbiAgICAgICAgdmFyIG1ha2VSb29tID0gZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHNvY2tldFNlcnZpY2UuZW1pdChcInBjY29ubmVjdFwiLCBudWxsKTtcbiAgICAgICAgfTtcbiAgICAgICAgJHNjb3BlLnJvb20gPSBcIlwiO1xuICAgICAgICBzb2NrZXRTZXJ2aWNlLm9uKCdyZXF1ZXN0Um9vbScsZnVuY3Rpb24oZGF0YSl7XG4gICAgICAgICAgICAkc2NvcGUucm9vbSA9IGRhdGE7XG4gICAgICAgIH0pO1xuICAgICAgICBzb2NrZXRTZXJ2aWNlLm9uKCdkZXZpY2VPcmllbnRhdGlvbicsIGZ1bmN0aW9uKGRhdGEpe1xuICAgICAgICAgICAgdmFyIHVzZXJuYW1lID0gZGF0YS51c2VybmFtZTtcbiAgICAgICAgICAgIHZhciBkZXZpY2VPcmllbnRhdGlvbiA9IHt9O1xuICAgICAgICAgICAgZGV2aWNlT3JpZW50YXRpb24uZ2FtbWEgPSBkYXRhLmdhbW1hO1xuICAgICAgICAgICAgZGV2aWNlT3JpZW50YXRpb24uYmV0YSA9IGRhdGEuYmV0YTtcbiAgICAgICAgICAgIGRldmljZU9yaWVudGF0aW9uLmFscGhhID0gZGF0YS5hbHBoYTtcbiAgICAgICAgfSk7XG4gICAgICAgICRzY29wZS51c2VybmFtZXMgPSB7fTtcbiAgICAgICAgJHNjb3BlLmNoZWNrVXNlckNvdW50ID0gZmFsc2U7XG4gICAgICAgIHNvY2tldFNlcnZpY2Uub24oJ3VwZGF0ZXVzZXJzJywgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgIHBsYXllclNlcnZpY2Uuc2V0UGxheWVycyhkYXRhKTtcbiAgICAgICAgICAgICRzY29wZS51c2VybmFtZXMgPSBkYXRhO1xuICAgICAgICAgICAgJHNjb3BlLmNoZWNrVXNlckNvdW50ID0gT2JqZWN0LmtleXMoJHNjb3BlLnVzZXJuYW1lcykubGVuZ3RoIDwgMDtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgJHNjb3BlLnN0YXJ0R2FtZT0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgc29ja2V0U2VydmljZS5lbWl0KFwic3RhcnRHYW1lXCIsIG51bGwpO1xuICAgICAgICAgICAgZGlzcGxheVNlcnZpY2Uuc2V0TENTaG93KGZhbHNlKTtcbiAgICAgICAgICAgIGRpc3BsYXlTZXJ2aWNlLnNldFBDU2hvdyh0cnVlKTtcbiAgICAgICAgfTtcblxuXG4gICAgICAgIChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIG1ha2VSb29tKCk7XG4gICAgICAgIH0pKCk7XG5cbiAgICB9O1xuXG4gICAgYW5ndWxhci5tb2R1bGUoXCJhcHBcIikuY29udHJvbGxlcihcImxvZ2luQ29udHJvbGxlclwiLCBbXCIkc2NvcGVcIiwgXCJzb2NrZXRTZXJ2aWNlXCIgLCBcImRpc3BsYXlTZXJ2aWNlXCIsIFwicGxheWVyU2VydmljZVwiLCBsb2dpbkNvbnRyb2xsZXJdKTtcbn0pKCk7IiwiLyoqXG4gKiBDcmVhdGVkIGJ5IE1pY2hpZWwgb24gMTYvMTIvMjAxNS5cbiAqL1xuXG4oZnVuY3Rpb24oKXtcbiAgICBcInVzZSBzdHJpY3RcIjtcbiAgICB2YXIgcGxheUNvbnRyb2xsZXIgPSBmdW5jdGlvbigkc2NvcGUsICRpbnRlcnZhbCwgJHdpbmRvdywgc29ja2V0U2VydmljZSwgZGlzcGxheVNlcnZpY2UsIHBsYXllclNlcnZpY2Upe1xuICAgICAgICB2YXIgZGVmYXVsdFZhcnMgPSBbe3g6MTAsIHk6MTAscm90YXRpb246MTM1fSx7eDo5MCwgeToxMCxyb3RhdGlvbjoyMjV9LHt4OjkwLCB5OjkwLHJvdGF0aW9uOjMxNX0se3g6MTAsIHk6OTAscm90YXRpb246NDV9XTtcbiAgICAgICAgJHNjb3BlLlBDU2hvdyA9IGRpc3BsYXlTZXJ2aWNlLmdldFBDU2hvdztcbiAgICAgICAgJHNjb3BlLmVuZEdhbWUgPSBmYWxzZTtcbiAgICAgICAgdmFyIGNhbnYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ2FtZScpO1xuICAgICAgICB2YXIgY3R4ID0gY2Fudi5nZXRDb250ZXh0KCcyZCcpO1xuXG4gICAgICAgIHZhciBBbGxQbGF5ZXJzID0gbmV3IEFycmF5KCk7XG4gICAgICAgIHZhciBBbGxCdWxsZXRzID0gbmV3IEFycmF5KCk7XG4gICAgICAgIHZhciBBbGxBc3Rlcm9pZHMgPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgdmFyIEFsbFBvd2VyVXBzID0gbmV3IEFycmF5KCk7XG5cbiAgICAgICAgdmFyIGN5Y2xlO1xuXG4gICAgICAgIHNvY2tldFNlcnZpY2Uub24oXCJpbml0R2FtZVwiLCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgdmFyIEJ1ZmZlclBsYXllciA9IHBsYXllclNlcnZpY2UuZ2V0UGxheWVycygpO1xuICAgICAgICAgICAgdmFyIHRlbGxlcj0gMDtcbiAgICAgICAgICAgIGZvcih2YXIgcGxheWVyIGluIEJ1ZmZlclBsYXllcil7XG4gICAgICAgICAgICAgICAgdmFyIHAgPSBCdWZmZXJQbGF5ZXJbcGxheWVyXTtcbiAgICAgICAgICAgICAgICBBbGxQbGF5ZXJzLnB1c2gobmV3IFNwYWNlc2hpcChwLnVzZXJuYW1lLCBkZWZhdWx0VmFyc1t0ZWxsZXJdLngsIGRlZmF1bHRWYXJzW3RlbGxlcl0ueSwgcC5jb2xvciwgZGVmYXVsdFZhcnNbdGVsbGVyXS5yb3RhdGlvbikpO1xuICAgICAgICAgICAgICAgIHRlbGxlcisrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmb3IodmFyIGkgPSAwOyBpPDE1OyBpKyspe1xuICAgICAgICAgICAgICAgIEFsbEFzdGVyb2lkcy5wdXNoKG5ldyBBc3Rlcm9pZChjcmVhdGVDb29yZGluYXRlWCgpLCBjcmVhdGVDb29yZGluYXRlWSgpLCBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqMzYxKSwgTWF0aC5jZWlsKE1hdGgucmFuZG9tKCkqMTgpKSk7XG4gICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgY3ljbGUgPSAkaW50ZXJ2YWwoZHJhdywgMTApO1xuICAgICAgICB9KTtcblxuICAgICAgICBmdW5jdGlvbiBjcmVhdGVDb29yZGluYXRlWCgpe1xuICAgICAgICAgICAgdmFyIHggPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqMTAwKTtcbiAgICAgICAgICAgIGZvcih2YXIgcCBpbiBBbGxQbGF5ZXJzKXtcbiAgICAgICAgICAgICAgICBpZihNYXRoLmFicyhBbGxQbGF5ZXJzW3BdLnggLSB4KSA8IDEwKXtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUNvb3JkaW5hdGVYKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHg7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBjcmVhdGVDb29yZGluYXRlWSgpe1xuICAgICAgICAgICAgdmFyIHkgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqMTAwKTtcbiAgICAgICAgICAgIGZvcih2YXIgcCBpbiBBbGxQbGF5ZXJzKXtcbiAgICAgICAgICAgICAgICBpZihNYXRoLmFicyhBbGxQbGF5ZXJzW3BdLnkgLSB5KSA8IDEwKXtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUNvb3JkaW5hdGVZKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHk7XG4gICAgICAgIH1cblxuICAgICAgICBzb2NrZXRTZXJ2aWNlLm9uKFwidXNlcmxlZnRcIiwgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgIHZhciBwID0gbnVsbDtcbiAgICAgICAgICAgIGZvcih2YXIgaSBpbiBBbGxQbGF5ZXJzKXtcbiAgICAgICAgICAgICAgICBpZihmaWx0ZXJQbGF5ZXJzKEFsbFBsYXllcnNbaV0sZGF0YSkgPT0gdHJ1ZSl7XG4gICAgICAgICAgICAgICAgICAgIHAgPSBpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIEFsbFBsYXllcnMuc3BsaWNlKHAsMSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHNvY2tldFNlcnZpY2Uub24oXCJ1cGRhdGVHYW1lRGF0YVwiLCBmdW5jdGlvbihkYXRhKXtcbiAgICAgICAgICAgIHZhciBwID0gbnVsbDtcbiAgICAgICAgICAgIGZvcih2YXIgaSBpbiBBbGxQbGF5ZXJzKXtcbiAgICAgICAgICAgICAgICBpZihmaWx0ZXJQbGF5ZXJzKEFsbFBsYXllcnNbaV0sZGF0YSkgPT0gdHJ1ZSl7XG4gICAgICAgICAgICAgICAgICAgIHAgPSBpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKHAgIT0gbnVsbCl7XG4gICAgICAgICAgICAgICAgQWxsUGxheWVyc1twXS5yb3RhdGVTcGFjZXNoaXBSZWxhdGl2ZShkYXRhLm9yaWVudGF0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgc29ja2V0U2VydmljZS5vbihcInBsYXllclNob3RcIiwgZnVuY3Rpb24oZGF0YSl7XG4gICAgICAgICAgICBpZigkc2NvcGUuZW5kR2FtZT09ZmFsc2UpIHtcbiAgICAgICAgICAgICAgICB2YXIgcCA9IG51bGw7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSBpbiBBbGxQbGF5ZXJzKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChmaWx0ZXJQbGF5ZXJzKEFsbFBsYXllcnNbaV0sIGRhdGEpID09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHAgPSBpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChwICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBBbGxQbGF5ZXJzW3BdO1xuICAgICAgICAgICAgICAgICAgICB2YXIgYW5nbGUgPSAoMzYwIC0gKHRlbXAucm90YXRpb24gKyAxODApKSAvIDE4MCAqIE1hdGguUEk7XG4gICAgICAgICAgICAgICAgICAgIHZhciB4ID0gdGVtcC54ICsgKGNhbnYud2lkdGggLyA0MDAgKiBNYXRoLnNpbihhbmdsZSkpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgeSA9IHRlbXAueSArIChjYW52LndpZHRoIC8gNDAwICogTWF0aC5jb3MoYW5nbGUpKTtcbiAgICAgICAgICAgICAgICAgICAgQWxsQnVsbGV0cy5wdXNoKG5ldyBCdWxsZXQoeCwgeSwgdGVtcC5yb3RhdGlvbiwgdGVtcC5jb2xvciwgdGVtcC51c2VyTmFtZSkpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgYXVkaW9VcmwgPSAnLi4vLi4vYXNzZXRzL0JvbnVzL3NmeF9sYXNlcjIub2dnJztcbiAgICAgICAgICAgICAgICAgICAgaWYgKHAgJSAyID09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF1ZGlvVXJsID0gJy4uLy4uL2Fzc2V0cy9Cb251cy9zZnhfbGFzZXIxLm9nZyc7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdmFyIHNob3QgPSBuZXcgQXVkaW8oYXVkaW9VcmwpO1xuICAgICAgICAgICAgICAgICAgICBzaG90LnBsYXkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGZ1bmN0aW9uIGZpbHRlclBsYXllcnMob2JqLGRhdGEpe1xuICAgICAgICAgICAgcmV0dXJuIGRhdGEudXNlcm5hbWUgPT0gb2JqLnVzZXJOYW1lO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIFBvd2VydXBTcGF3blRpbWUgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqNTAwICsgNTAwKTtcblxuICAgICAgICBmdW5jdGlvbiBkcmF3KCl7XG4gICAgICAgICAgICBpZihBbGxQbGF5ZXJzLmxlbmd0aD4wKXtcbiAgICAgICAgICAgICAgICAvL0FsbFBsYXllcnNbMF0uc3BlZWQgPSAwO1xuICAgICAgICAgICAgICAgIC8vQWxsUGxheWVyc1sxXS5zcGVlZCA9IDA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmKFBvd2VydXBTcGF3blRpbWUgPT0gMCl7XG4gICAgICAgICAgICAgICAgUG93ZXJ1cFNwYXduVGltZSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSo1MDAgKyA1MDApO1xuICAgICAgICAgICAgICAgIEFsbFBvd2VyVXBzLnB1c2gobmV3IFBvd2VydXAoTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKjEwMCksTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKjEwMCksIE1hdGguY2VpbChNYXRoLnJhbmRvbSgpKjMpLE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSoyKSkpXG4gICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICBQb3dlcnVwU3Bhd25UaW1lIC0tO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjdHguY2xlYXJSZWN0KDAsMCxjYW52LndpZHRoLCBjYW52LmhlaWdodCk7XG4gICAgICAgICAgICB2YXIgcmF0aW8gPSBjYW52LndpZHRoLzEwMDtcblxuICAgICAgICAgICAgaWYoQWxsUG93ZXJVcHMubGVuZ3RoICE9IDApe1xuICAgICAgICAgICAgICAgIGZvcih2YXIgcG93ZXJ1cCBpbiBBbGxQb3dlclVwcyl7XG4gICAgICAgICAgICAgICAgICAgIHZhciBwID0gQWxsUG93ZXJVcHNbcG93ZXJ1cF07XG4gICAgICAgICAgICAgICAgICAgIHAud2lkdGggPSBjYW52LndpZHRoLzUwO1xuICAgICAgICAgICAgICAgICAgICBwLmhlaWdodCA9IHAud2lkdGggKiBwLmltYWdlLmhlaWdodC8gcC5pbWFnZS53aWR0aDtcbiAgICAgICAgICAgICAgICAgICAgY3R4LnNhdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgY3R4LnRyYW5zbGF0ZShwLngqcmF0aW8sIHAueSpyYXRpbyk7XG4gICAgICAgICAgICAgICAgICAgIGN0eC5kcmF3SW1hZ2UocC5pbWFnZSwgLXAud2lkdGgvMiwgLXAuaGVpZ2h0LzIsIHAud2lkdGgsIHAuaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICAgICAgY3R4LnJlc3RvcmUoKTtcbiAgICAgICAgICAgICAgICAgICAgcC5kZWNyZWFzZUR1cmF0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmKHAuZHVyYXRpb24gPT0gMCl7XG4gICAgICAgICAgICAgICAgICAgICAgICBBbGxQb3dlclVwcy5zcGxpY2UocG93ZXJ1cCwgMSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmKEFsbEJ1bGxldHMubGVuZ3RoICE9IDApe1xuICAgICAgICAgICAgICAgIHZhciBCdWxsZXRXaWR0aCA9IGNhbnYud2lkdGgvMTAwO1xuICAgICAgICAgICAgICAgIHZhciBCdWxsZXRIZWlnaHQgPSBCdWxsZXRXaWR0aCAqIEFsbEJ1bGxldHNbMF0uaW1hZ2UuaGVpZ2h0L0FsbEJ1bGxldHNbMF0uaW1hZ2Uud2lkdGg7XG5cbiAgICAgICAgICAgICAgICBmb3IodmFyIGJ1bGxldCBpbiBBbGxCdWxsZXRzKXtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGIgPSBBbGxCdWxsZXRzW2J1bGxldF07XG4gICAgICAgICAgICAgICAgICAgIGIud2lkdGggPSBCdWxsZXRXaWR0aDtcbiAgICAgICAgICAgICAgICAgICAgYi5oZWlnaHQgPSBCdWxsZXRIZWlnaHQ7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYoYi5leHBsb2RlU3RhZ2UgPT0gMCl7XG4gICAgICAgICAgICAgICAgICAgICAgICAvL0RyYXcgYnVsbGV0XG4gICAgICAgICAgICAgICAgICAgICAgICBjdHguc2F2ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3R4LnRyYW5zbGF0ZShiLngqcmF0aW8sIGIueSpyYXRpbyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdHgucm90YXRlKGIucm90YXRpb24vMTgwKk1hdGguUEkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3R4LmRyYXdJbWFnZShiLmltYWdlLCAtQnVsbGV0V2lkdGgvMiwgLUJ1bGxldEhlaWdodC8yLCBCdWxsZXRXaWR0aCwgQnVsbGV0SGVpZ2h0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN0eC5yZXN0b3JlKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIEFsbEJ1bGxldHNbYnVsbGV0XS54ID0gTWF0aC5jb3MoKGIucm90YXRpb24gLSA5MCkvMTgwKk1hdGguUEkpICsgYi54O1xuICAgICAgICAgICAgICAgICAgICAgICAgQWxsQnVsbGV0c1tidWxsZXRdLnkgPSBNYXRoLnNpbigoYi5yb3RhdGlvbiAtIDkwKS8xODAqTWF0aC5QSSkrIGIueTtcbiAgICAgICAgICAgICAgICAgICAgfWVsc2UgaWYoYi5leHBsb2RlU3RhZ2UgPCA0KXtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vRHJhdyBleHBsb3Npb25cbiAgICAgICAgICAgICAgICAgICAgICAgIGN0eC5zYXZlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdHgudHJhbnNsYXRlKGIueCpyYXRpbywgYi55KnJhdGlvKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN0eC5kcmF3SW1hZ2UoYi5leHBsb3Npb25JbWFnZSwgLUJ1bGxldFdpZHRoLCAtQnVsbGV0V2lkdGgsIEJ1bGxldFdpZHRoKjIsIEJ1bGxldFdpZHRoKjIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3R4LnJlc3RvcmUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYoQWxsUGxheWVycy5sZW5ndGggIT0gMCl7XG4gICAgICAgICAgICAgICAgdmFyIFNwYWNlc2hpcFdpZHRoID0gY2Fudi53aWR0aC8yMDtcbiAgICAgICAgICAgICAgICB2YXIgU3BhY2VzaGlwSGVpZ2h0ID0gU3BhY2VzaGlwV2lkdGggKiBBbGxQbGF5ZXJzWzBdLmltYWdlLmhlaWdodC8gQWxsUGxheWVyc1swXS5pbWFnZS53aWR0aDtcblxuICAgICAgICAgICAgICAgIGZvcih2YXIgcGxheWVyIGluIEFsbFBsYXllcnMpe1xuICAgICAgICAgICAgICAgICAgICB2YXIgcCA9IEFsbFBsYXllcnNbcGxheWVyXTtcbiAgICAgICAgICAgICAgICAgICAgcC53aWR0aCA9IFNwYWNlc2hpcFdpZHRoO1xuICAgICAgICAgICAgICAgICAgICBwLmhlaWdodCA9IFNwYWNlc2hpcEhlaWdodDtcbiAgICAgICAgICAgICAgICAgICAgY3R4LnNhdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgY3R4LnRyYW5zbGF0ZShwLngqcmF0aW8sIHAueSpyYXRpbyk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYocC5leHBsb2RlU3RhZ2UgPT0gLTEpe1xuICAgICAgICAgICAgICAgICAgICAgICAgY3R4LnJvdGF0ZShwLnJvdGF0aW9uLzE4MCpNYXRoLlBJKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN0eC5kcmF3SW1hZ2UocC5pbWFnZSwgLVNwYWNlc2hpcFdpZHRoLzIsIC1TcGFjZXNoaXBIZWlnaHQvMiwgU3BhY2VzaGlwV2lkdGgsIFNwYWNlc2hpcEhlaWdodCk7XG4gICAgICAgICAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgICAgICAgICAgQWxsUGxheWVyc1twbGF5ZXJdLmV4cGxvZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZihwLmRhbWFnZSA+IDAgJiYgcC5leHBsb2RlU3RhZ2UgPD0gMTQwKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN0eC5kcmF3SW1hZ2UocC5kYW1hZ2VJbWFnZSwgLVNwYWNlc2hpcFdpZHRoLzIsIC1TcGFjZXNoaXBIZWlnaHQvMiwgU3BhY2VzaGlwV2lkdGgsIFNwYWNlc2hpcEhlaWdodCk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZihwLmRhbWFnZTw0KXtcbiAgICAgICAgICAgICAgICAgICAgICAgIEFsbFBsYXllcnNbcGxheWVyXS54ID0gTWF0aC5jb3MoKHAucm90YXRpb24gLSA5MCkvMTgwKk1hdGguUEkpLzEwKiBwLnNwZWVkICsgcC54O1xuICAgICAgICAgICAgICAgICAgICAgICAgQWxsUGxheWVyc1twbGF5ZXJdLnkgPSBNYXRoLnNpbigocC5yb3RhdGlvbiAtIDkwKS8xODAqTWF0aC5QSSkvMTAqIHAuc3BlZWQgKyBwLnk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYocC5zaGllbGQgJiYgcC5leHBsb2RlU3RhZ2UgPT0gLTEpe1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIFNoaWVsZFdpZHRoID0gU3BhY2VzaGlwV2lkdGggKiAxLjU7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgU2hpZWxkSGVpZ2h0ID0gU2hpZWxkV2lkdGggLyBwLnNoaWVsZEltYWdlLndpZHRoICogcC5zaGllbGRJbWFnZS5oZWlnaHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdHguZHJhd0ltYWdlKHAuc2hpZWxkSW1hZ2UsIC1TaGllbGRXaWR0aC8yLCAtU2hpZWxkSGVpZ2h0LzIsIFNoaWVsZFdpZHRoLCBTaGllbGRIZWlnaHQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIEFsbFBsYXllcnNbcGxheWVyXS5jaGVja1Bvd2VydXAoKTtcbiAgICAgICAgICAgICAgICAgICAgY3R4LnJlc3RvcmUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmKEFsbEFzdGVyb2lkcy5sZW5ndGg+MCl7XG4gICAgICAgICAgICAgICAgZm9yKHZhciBBc3Rlcm9pZCBpbiBBbGxBc3Rlcm9pZHMpe1xuICAgICAgICAgICAgICAgICAgICB2YXIgYSA9IEFsbEFzdGVyb2lkc1tBc3Rlcm9pZF07XG4gICAgICAgICAgICAgICAgICAgIGEud2lkdGggPSBjYW52LndpZHRoLzcwMCogYS5pbWFnZS53aWR0aDtcbiAgICAgICAgICAgICAgICAgICAgYS5oZWlnaHQgPSBhLndpZHRoKiBhLmltYWdlLmhlaWdodC8gYS5pbWFnZS53aWR0aDtcbiAgICAgICAgICAgICAgICAgICAgY3R4LnNhdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgY3R4LnRyYW5zbGF0ZShhLngqcmF0aW8sIGEueSpyYXRpbyk7XG4gICAgICAgICAgICAgICAgICAgIGN0eC5yb3RhdGUoYS5yb3RhdGlvbi8xODAqTWF0aC5QSSk7XG4gICAgICAgICAgICAgICAgICAgIGN0eC5kcmF3SW1hZ2UoYS5pbWFnZSwgLWEud2lkdGgvMiwgLWEuaGVpZ2h0LzIsIGEud2lkdGgsIGEuaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICAgICAgY3R4LnJlc3RvcmUoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYoYS54IDwgLTUgfHwgYS54ID4gMTA1IHx8IGEueSA8IC01IHx8IGEueSA+IDEwNSl7XG4gICAgICAgICAgICAgICAgICAgICAgICAvL25pZXV3ZSBhc3Rlcm9pZCB0ZWtlbmVuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIga2V1emUgPSBNYXRoLnJhbmRvbSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYoa2V1emUgPCAwLjI1KXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2xpbmtzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQWxsQXN0ZXJvaWRzW0FzdGVyb2lkXS54ID0gLTQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQWxsQXN0ZXJvaWRzW0FzdGVyb2lkXS55ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKjEwMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQWxsQXN0ZXJvaWRzW0FzdGVyb2lkXS5yb3RhdGlvbiA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSoxODApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2UgaWYoa2V1emUgPCAwLjUpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vYm92ZW5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBBbGxBc3Rlcm9pZHNbQXN0ZXJvaWRdLnggPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqMTAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBBbGxBc3Rlcm9pZHNbQXN0ZXJvaWRdLnkgPSAtNDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBBbGxBc3Rlcm9pZHNbQXN0ZXJvaWRdLnJvdGF0aW9uID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKjE4MCkgKyA5MDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNlIGlmKGtldXplIDwgMC43NSl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9yZWNodHNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBBbGxBc3Rlcm9pZHNbQXN0ZXJvaWRdLnggPSAxMDQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQWxsQXN0ZXJvaWRzW0FzdGVyb2lkXS55ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKjEwMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQWxsQXN0ZXJvaWRzW0FzdGVyb2lkXS5yb3RhdGlvbiA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSoxODApICsgMTgwO1xuICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9vbmRlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFsbEFzdGVyb2lkc1tBc3Rlcm9pZF0ueCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSoxMDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFsbEFzdGVyb2lkc1tBc3Rlcm9pZF0ueSA9IDEwNDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBBbGxBc3Rlcm9pZHNbQXN0ZXJvaWRdLnJvdGF0aW9uID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKjE4MCkgKyAyNzA7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBBbGxBc3Rlcm9pZHNbQXN0ZXJvaWRdLnNwZWVkID0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIEFsbEFzdGVyb2lkc1tBc3Rlcm9pZF0uc2V0SW1hZ2UoTWF0aC5jZWlsKE1hdGgucmFuZG9tKCkqMTgpKTtcblxuICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgICAgIEFsbEFzdGVyb2lkc1tBc3Rlcm9pZF0ueCA9IE1hdGguY29zKChhLnJvdGF0aW9uIC0gOTApLzE4MCpNYXRoLlBJKS8zMCpBbGxBc3Rlcm9pZHNbQXN0ZXJvaWRdLnNwZWVkICsgYS54O1xuICAgICAgICAgICAgICAgICAgICAgICAgQWxsQXN0ZXJvaWRzW0FzdGVyb2lkXS55ID0gTWF0aC5zaW4oKGEucm90YXRpb24gLSA5MCkvMTgwKk1hdGguUEkpLzMwKkFsbEFzdGVyb2lkc1tBc3Rlcm9pZF0uc3BlZWQgKyBhLnk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNoZWNrQnVsbGV0cygpO1xuXG4gICAgICAgICAgICBjb2xsaXNpb25EZXRlY3Rpb24oKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGNoZWNrQnVsbGV0cygpe1xuICAgICAgICAgICAgZm9yKHZhciBiIGluIEFsbEJ1bGxldHMpe1xuICAgICAgICAgICAgICAgIGlmKEFsbEJ1bGxldHNbYl0ueCA8IDAgfHwgQWxsQnVsbGV0c1tiXS54ID4gY2Fudi53aWR0aCB8fCBBbGxCdWxsZXRzW2JdLnkgPCAwIHx8IEFsbEJ1bGxldHNbYl0ueSA+IGNhbnYuaGVpZ2h0KXtcbiAgICAgICAgICAgICAgICAgICAgQWxsQnVsbGV0cy5zcGxpY2UoYiwgMSk7XG4gICAgICAgICAgICAgICAgfWVsc2UgaWYoQWxsQnVsbGV0c1tiXS5leHBsb2RlU3RhZ2UgPjApIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKEFsbEJ1bGxldHNbYl0uZXhwbG9kZVN0YWdlIDwgNCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgQWxsQnVsbGV0c1tiXS5leHBsb2RlKCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBBbGxCdWxsZXRzLnNwbGljZShiLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGNvbGxpc2lvbkRldGVjdGlvbigpe1xuICAgICAgICAgICAgLy9QbGF5ZXIgLSBCdWxsZXRcbiAgICAgICAgICAgIHZhciBsaXZpbmdQbGF5ZXJzPVtdO1xuICAgICAgICAgICAgZm9yKHZhciBwIGluIEFsbFBsYXllcnMpe1xuICAgICAgICAgICAgICAgIGlmKEFsbFBsYXllcnNbcF0uZGFtYWdlPDQpe1xuICAgICAgICAgICAgICAgICAgICBsaXZpbmdQbGF5ZXJzLnB1c2goQWxsUGxheWVyc1twXSk7XG4gICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmb3IodmFyIGIgaW4gQWxsQnVsbGV0cyl7XG4gICAgICAgICAgICAgICAgICAgIGlmKEFsbEJ1bGxldHNbYl0uZXhwbG9kZVN0YWdlID09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChBbGxCdWxsZXRzW2JdLnBsYXllciAhPSBBbGxQbGF5ZXJzW3BdLnVzZXJOYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJhZGl1cyA9IE1hdGguc3FydCgyKSAvIDIgKiAoQWxsQnVsbGV0c1tiXS5oZWlnaHQgLyAyIC0gQWxsQnVsbGV0c1tiXS53aWR0aCAvIDIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhbmdsZSA9ICgzNjAgLSAoQWxsQnVsbGV0c1tiXS5yb3RhdGlvbikpIC8gMTgwICogTWF0aC5QSTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYnVsbGV0SGVhZFggPSAoQWxsQnVsbGV0c1tiXS54ICogY2Fudi53aWR0aCAvIDEwMCAtIChyYWRpdXMgKiBNYXRoLnNpbihhbmdsZSkpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYnVsbGV0SGVhZFkgPSAoQWxsQnVsbGV0c1tiXS55ICogY2Fudi53aWR0aCAvIDEwMCAtIChyYWRpdXMgKiBNYXRoLmNvcyhhbmdsZSkpKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzcGFjZVNoaXBYID0gQWxsUGxheWVyc1twXS54ICogY2Fudi53aWR0aCAvIDEwMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3BhY2VTaGlwWSA9IEFsbFBsYXllcnNbcF0ueSAqIGNhbnYud2lkdGggLyAxMDA7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGlzdGFuY2UgPSBNYXRoLnNxcnQoKGJ1bGxldEhlYWRYIC0gc3BhY2VTaGlwWCkgKiAoYnVsbGV0SGVhZFggLSBzcGFjZVNoaXBYKSArIChidWxsZXRIZWFkWSAtIHNwYWNlU2hpcFkpICogKGJ1bGxldEhlYWRZIC0gc3BhY2VTaGlwWSkpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNoaWVsZFJhdGlvID0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihBbGxQbGF5ZXJzW3BdLnNoaWVsZCl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNoaWVsZFJhdGlvID0gMS41O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkaXN0YW5jZSA8IChBbGxCdWxsZXRzW2JdLndpZHRoIC8gMiArIEFsbFBsYXllcnNbcF0ud2lkdGggLyAyICogc2hpZWxkUmF0aW8pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkYW1hZ2Vzb3VuZCA9IG5ldyBBdWRpbygnLi4vLi4vYXNzZXRzL0JvbnVzL3NmeF9sb3NlLm9nZycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYW1hZ2Vzb3VuZC5wbGF5KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCFBbGxQbGF5ZXJzW3BdLnNoaWVsZCl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBbGxQbGF5ZXJzW3BdLmluY3JlYXNlRGFtYWdlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IHt9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS51c2VybmFtZSA9IEFsbFBsYXllcnNbcF0udXNlck5hbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLmxpZmUgPSAzLUFsbFBsYXllcnNbcF0uZGFtYWdlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc29ja2V0U2VydmljZS5lbWl0KFwicGxheWVyTGlmZVwiLGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFsbEJ1bGxldHNbYl0uZXhwbG9kZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvL1BsYXllciAtIEFzdGVyb2lkXG4gICAgICAgICAgICAgICAgZm9yKHZhciBhIGluIEFsbEFzdGVyb2lkcyl7XG4gICAgICAgICAgICAgICAgICAgIHZhciBhc3Rlcm9pZFggPSBBbGxBc3Rlcm9pZHNbYV0ueCAqIGNhbnYud2lkdGggLyAxMDA7XG4gICAgICAgICAgICAgICAgICAgIHZhciBhc3Rlcm9pZFkgPSBBbGxBc3Rlcm9pZHNbYV0ueSAqIGNhbnYud2lkdGggLyAxMDA7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIHNwYWNlU2hpcFggPSBBbGxQbGF5ZXJzW3BdLnggKiBjYW52LndpZHRoIC8gMTAwO1xuICAgICAgICAgICAgICAgICAgICB2YXIgc3BhY2VTaGlwWSA9IEFsbFBsYXllcnNbcF0ueSAqIGNhbnYud2lkdGggLyAxMDA7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGRpc3RhbmNlID0gTWF0aC5zcXJ0KChhc3Rlcm9pZFggLSBzcGFjZVNoaXBYKSAqIChhc3Rlcm9pZFggLSBzcGFjZVNoaXBYKSArIChhc3Rlcm9pZFkgLSBzcGFjZVNoaXBZKSAqIChhc3Rlcm9pZFkgLSBzcGFjZVNoaXBZKSk7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIHNoaWVsZFJhdGlvID0gMTtcbiAgICAgICAgICAgICAgICAgICAgaWYoQWxsUGxheWVyc1twXS5zaGllbGQpe1xuICAgICAgICAgICAgICAgICAgICAgICAgc2hpZWxkUmF0aW8gPSAxLjU7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAoZGlzdGFuY2UgPCAoQWxsQXN0ZXJvaWRzW2FdLndpZHRoIC8gMiArIEFsbFBsYXllcnNbcF0ud2lkdGggLyAyICogc2hpZWxkUmF0aW8pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGFtYWdlc291bmQgPSBuZXcgQXVkaW8oJy4uLy4uL2Fzc2V0cy9Cb251cy9zZnhfbG9zZS5vZ2cnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhbWFnZXNvdW5kLnBsYXkoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKEFsbFBsYXllcnNbcF0uc2hpZWxkKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBBbGxBc3Rlcm9pZHNbYV0ucm90YXRpb24gPSBBbGxBc3Rlcm9pZHNbYV0ucm90YXRpb24gKyAxODA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQWxsQXN0ZXJvaWRzW2FdLnNwZWVkID0gMztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBBbGxBc3Rlcm9pZHNbYV0ueCA9IE1hdGguY29zKChBbGxBc3Rlcm9pZHNbYV0ucm90YXRpb24gLSA5MCkvMTgwKk1hdGguUEkpLzMwKkFsbEFzdGVyb2lkc1thXS5zcGVlZCArIEFsbEFzdGVyb2lkc1thXS54O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFsbEFzdGVyb2lkc1thXS55ID0gTWF0aC5zaW4oKEFsbEFzdGVyb2lkc1thXS5yb3RhdGlvbiAtIDkwKS8xODAqTWF0aC5QSSkvMzAqQWxsQXN0ZXJvaWRzW2FdLnNwZWVkICsgQWxsQXN0ZXJvaWRzW2FdLnk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBBbGxQbGF5ZXJzW3BdLmRlYWQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IHt9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEudXNlcm5hbWUgPSBBbGxQbGF5ZXJzW3BdLnVzZXJOYW1lO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEubGlmZSA9IDMtQWxsUGxheWVyc1twXS5kYW1hZ2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc29ja2V0U2VydmljZS5lbWl0KFwicGxheWVyTGlmZVwiLGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy9QbGF5ZXIgLSBQbGF5ZXJcbiAgICAgICAgICAgICAgICBmb3IodmFyIGEgaW4gQWxsUGxheWVycyl7XG4gICAgICAgICAgICAgICAgICAgIGlmKEFsbFBsYXllcnNbYV0uZGFtYWdlID09IDQpe1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYoYSE9cCl7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3BhY2VTaGlwMVggPSBBbGxQbGF5ZXJzW2FdLnggKiBjYW52LndpZHRoIC8gMTAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNwYWNlU2hpcDFZID0gQWxsUGxheWVyc1thXS55ICogY2Fudi53aWR0aCAvIDEwMDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNwYWNlU2hpcFggPSBBbGxQbGF5ZXJzW3BdLnggKiBjYW52LndpZHRoIC8gMTAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNwYWNlU2hpcFkgPSBBbGxQbGF5ZXJzW3BdLnkgKiBjYW52LndpZHRoIC8gMTAwO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2hpZWxkUmF0aW8gPSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYoQWxsUGxheWVyc1twXS5zaGllbGQpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNoaWVsZFJhdGlvID0gMS41O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2hpZWxkUmF0aW8xID0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKEFsbFBsYXllcnNbYV0uc2hpZWxkKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaGllbGRSYXRpbzEgPSAxLjU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkaXN0YW5jZSA9IE1hdGguc3FydCgoc3BhY2VTaGlwMVggLSBzcGFjZVNoaXBYKSAqIChzcGFjZVNoaXAxWCAtIHNwYWNlU2hpcFgpICsgKHNwYWNlU2hpcDFZIC0gc3BhY2VTaGlwWSkgKiAoc3BhY2VTaGlwMVkgLSBzcGFjZVNoaXBZKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGlzdGFuY2UgPCAoQWxsUGxheWVyc1thXS53aWR0aCAvIDIgKiBzaGllbGRSYXRpbzEgKyBBbGxQbGF5ZXJzW3BdLndpZHRoIC8gMiAqIHNoaWVsZFJhdGlvKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkYW1hZ2Vzb3VuZCA9IG5ldyBBdWRpbygnLi4vLi4vYXNzZXRzL0JvbnVzL3NmeF9sb3NlLm9nZycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhbWFnZXNvdW5kLnBsYXkoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBBbGxQbGF5ZXJzW3BdLmRlYWQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBBbGxQbGF5ZXJzW2FdLmRlYWQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IHt9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEudXNlcm5hbWUgPSBBbGxQbGF5ZXJzW3BdLnVzZXJOYW1lO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEubGlmZSA9IDMtQWxsUGxheWVyc1twXS5kYW1hZ2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc29ja2V0U2VydmljZS5lbWl0KFwicGxheWVyTGlmZVwiLGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEudXNlcm5hbWUgPSBBbGxQbGF5ZXJzW2FdLnVzZXJOYW1lO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEubGlmZSA9IDMtQWxsUGxheWVyc1thXS5kYW1hZ2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc29ja2V0U2VydmljZS5lbWl0KFwicGxheWVyTGlmZVwiLGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy9QbGF5ZXIgLSBXYWxsXG4gICAgICAgICAgICAgICAgaWYoQWxsUGxheWVyc1twXS54KmNhbnYud2lkdGgvMTAwIDwgQWxsUGxheWVyc1twXS5oZWlnaHQvMiB8fCBBbGxQbGF5ZXJzW3BdLngqY2Fudi53aWR0aC8xMDAgPiBjYW52LndpZHRoLShBbGxQbGF5ZXJzW3BdLmhlaWdodC8yKXx8XG4gICAgICAgICAgICAgICAgICAgIEFsbFBsYXllcnNbcF0ueSpjYW52LndpZHRoLzEwMCA8IEFsbFBsYXllcnNbcF0uaGVpZ2h0LzIgfHwgQWxsUGxheWVyc1twXS55KmNhbnYud2lkdGgvMTAwID4gY2Fudi53aWR0aC0oQWxsUGxheWVyc1twXS5oZWlnaHQvMikpe1xuICAgICAgICAgICAgICAgICAgICB2YXIgZGFtYWdlc291bmQgPSBuZXcgQXVkaW8oJy4uLy4uL2Fzc2V0cy9Cb251cy9zZnhfbG9zZS5vZ2cnKTtcbiAgICAgICAgICAgICAgICAgICAgZGFtYWdlc291bmQucGxheSgpO1xuICAgICAgICAgICAgICAgICAgICBBbGxQbGF5ZXJzW3BdLmRlYWQoKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGEgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgZGF0YS51c2VybmFtZSA9IEFsbFBsYXllcnNbcF0udXNlck5hbWU7XG4gICAgICAgICAgICAgICAgICAgIGRhdGEubGlmZSA9IDMtQWxsUGxheWVyc1twXS5kYW1hZ2U7XG4gICAgICAgICAgICAgICAgICAgIHNvY2tldFNlcnZpY2UuZW1pdChcInBsYXllckxpZmVcIixkYXRhKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvL1BsYXllciAtIFBvd2VydXBcbiAgICAgICAgICAgICAgICBmb3IodmFyIGEgaW4gQWxsUG93ZXJVcHMpe1xuICAgICAgICAgICAgICAgICAgICB2YXIgcG93ZXJ1cFggPSBBbGxQb3dlclVwc1thXS54ICogY2Fudi53aWR0aCAvIDEwMDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBvd2VydXBZID0gQWxsUG93ZXJVcHNbYV0ueSAqIGNhbnYud2lkdGggLyAxMDA7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIHNwYWNlU2hpcFggPSBBbGxQbGF5ZXJzW3BdLnggKiBjYW52LndpZHRoIC8gMTAwO1xuICAgICAgICAgICAgICAgICAgICB2YXIgc3BhY2VTaGlwWSA9IEFsbFBsYXllcnNbcF0ueSAqIGNhbnYud2lkdGggLyAxMDA7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGRpc3RhbmNlID0gTWF0aC5zcXJ0KChwb3dlcnVwWCAtIHNwYWNlU2hpcFgpICogKHBvd2VydXBYIC0gc3BhY2VTaGlwWCkgKyAocG93ZXJ1cFkgLSBzcGFjZVNoaXBZKSAqIChwb3dlcnVwWSAtIHNwYWNlU2hpcFkpKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRpc3RhbmNlIDwgKEFsbFBvd2VyVXBzW2FdLndpZHRoIC8gMiArIEFsbFBsYXllcnNbcF0ud2lkdGggLyAyKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBvd2VydXBTb3VuZCA9IG5ldyBBdWRpbygnLi4vLi4vYXNzZXRzL0JvbnVzL3NmeF96YXAub2dnJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBwb3dlcnVwU291bmQucGxheSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYoQWxsUG93ZXJVcHNbYV0uYm9vbFNlbGYgPT0gMSl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yKHZhciBwbGF5ZXIgaW4gQWxsUGxheWVycyl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKHBsYXllciAhPSBwKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFsbFBsYXllcnNbcGxheWVyXS5hZGRQb3dlcnVwKEFsbFBvd2VyVXBzW2FdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFsbFBsYXllcnNbcF0uYWRkUG93ZXJ1cChBbGxQb3dlclVwc1thXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZihBbGxQb3dlclVwc1thXS50eXBlID09IDMpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkYXRhID0ge307XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS51c2VybmFtZSA9IEFsbFBsYXllcnNbcF0udXNlck5hbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5saWZlID0gMztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb2NrZXRTZXJ2aWNlLmVtaXQoXCJwbGF5ZXJMaWZlXCIsIGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgQWxsUG93ZXJVcHMuc3BsaWNlKGEsIDEpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vQnVsbGV0IC0gQXN0ZXJvaWRcbiAgICAgICAgICAgIGZvcih2YXIgYSBpbiBBbGxBc3Rlcm9pZHMpIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBiIGluIEFsbEJ1bGxldHMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKEFsbEJ1bGxldHNbYl0uZXhwbG9kZVN0YWdlID09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChBbGxCdWxsZXRzW2JdLnBsYXllciAhPSBBbGxBc3Rlcm9pZHNbYV0udXNlck5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmFkaXVzID0gTWF0aC5zcXJ0KDIpIC8gMiAqIChBbGxCdWxsZXRzW2JdLmhlaWdodCAvIDIgLSBBbGxCdWxsZXRzW2JdLndpZHRoIC8gMik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFuZ2xlID0gKDM2MCAtIChBbGxCdWxsZXRzW2JdLnJvdGF0aW9uKSkgLyAxODAgKiBNYXRoLlBJO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBidWxsZXRIZWFkWCA9IChBbGxCdWxsZXRzW2JdLnggKiBjYW52LndpZHRoIC8gMTAwIC0gKHJhZGl1cyAqIE1hdGguc2luKGFuZ2xlKSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBidWxsZXRIZWFkWSA9IChBbGxCdWxsZXRzW2JdLnkgKiBjYW52LndpZHRoIC8gMTAwIC0gKHJhZGl1cyAqIE1hdGguY29zKGFuZ2xlKSkpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFzdGVyb2lkWCA9IEFsbEFzdGVyb2lkc1thXS54ICogY2Fudi53aWR0aCAvIDEwMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYXN0ZXJvaWRZID0gQWxsQXN0ZXJvaWRzW2FdLnkgKiBjYW52LndpZHRoIC8gMTAwO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRpc3RhbmNlID0gTWF0aC5zcXJ0KChidWxsZXRIZWFkWCAtIGFzdGVyb2lkWCkgKiAoYnVsbGV0SGVhZFggLSBhc3Rlcm9pZFgpICsgKGJ1bGxldEhlYWRZIC0gYXN0ZXJvaWRZKSAqIChidWxsZXRIZWFkWSAtIGFzdGVyb2lkWSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkaXN0YW5jZSA8IChBbGxCdWxsZXRzW2JdLndpZHRoIC8gMiArIEFsbEFzdGVyb2lkc1thXS53aWR0aCAvIDIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkYXRhID0ge307XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEudXNlcm5hbWUgPSBBbGxBc3Rlcm9pZHNbYV0udXNlck5hbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEubGlmZSA9IDMgLSBBbGxBc3Rlcm9pZHNbYV0uZGFtYWdlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb2NrZXRTZXJ2aWNlLmVtaXQoXCJwbGF5ZXJMaWZlXCIsIGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBbGxCdWxsZXRzW2JdLmV4cGxvZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vXG5cbiAgICAgICAgICAgIGlmKGxpdmluZ1BsYXllcnMubGVuZ3RoPT0xKXtcbiAgICAgICAgICAgICAgICBlbmRHYW1lKGxpdmluZ1BsYXllcnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gZW5kR2FtZShsaXZpbmdQbGF5ZXJzKXtcbiAgICAgICAgICAgIGlmIChhbmd1bGFyLmlzRGVmaW5lZChjeWNsZSkpIHtcbiAgICAgICAgICAgICAgICAkaW50ZXJ2YWwuY2FuY2VsKGN5Y2xlKTtcbiAgICAgICAgICAgICAgICBjeWNsZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICRzY29wZS5lbmRHYW1lPXRydWU7XG4gICAgICAgICAgICAkc2NvcGUuZW5kR2FtZVRleHQ9IGxpdmluZ1BsYXllcnNbMF0udXNlck5hbWUgKyBcIiBpcyB0aGUgd2lubmVyIVwiO1xuICAgICAgICAgICAgc29ja2V0U2VydmljZS5lbWl0KFwiZW5kR2FtZVwiLCBsaXZpbmdQbGF5ZXJzWzBdLnVzZXJOYW1lKTtcbiAgICAgICAgfVxuICAgICAgICAkc2NvcGUucmVzdGFydEdhbWUgPSBmdW5jdGlvbigpe1xuICAgICAgICAgICAgJHNjb3BlLmVuZEdhbWU9ZmFsc2U7XG4gICAgICAgICAgICB2YXIgdGVsbGVyPTA7XG4gICAgICAgICAgICBmb3IodmFyIHAgaW4gQWxsUGxheWVycyl7XG4gICAgICAgICAgICAgICAgQWxsUGxheWVyc1twXS5yZXNldChkZWZhdWx0VmFyc1t0ZWxsZXJdLngsZGVmYXVsdFZhcnNbdGVsbGVyXS55LGRlZmF1bHRWYXJzW3RlbGxlcl0ucm90YXRpb24pO1xuICAgICAgICAgICAgICAgIHRlbGxlcisrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgQWxsQXN0ZXJvaWRzPVtdO1xuICAgICAgICAgICAgZm9yKHZhciBpID0gMDsgaTwxNTsgaSsrKXtcbiAgICAgICAgICAgICAgICBBbGxBc3Rlcm9pZHMucHVzaChuZXcgQXN0ZXJvaWQoY3JlYXRlQ29vcmRpbmF0ZVgoKSwgY3JlYXRlQ29vcmRpbmF0ZVkoKSwgTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKjM2MSksIE1hdGguY2VpbChNYXRoLnJhbmRvbSgpKjE4KSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgQWxsQnVsbGV0cyA9IFtdO1xuICAgICAgICAgICAgQWxsUG93ZXJVcHMgPSBbXTtcbiAgICAgICAgICAgIFBvd2VydXBTcGF3blRpbWUgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqNTAwICsgNTAwKTtcblxuICAgICAgICAgICAgY3R4LmNsZWFyUmVjdCgwLDAsY2Fudi53aWR0aCwgY2Fudi5oZWlnaHQpO1xuICAgICAgICAgICAgc29ja2V0U2VydmljZS5lbWl0KFwicmVzdGFydEdhbWVcIixudWxsKTtcbiAgICAgICAgICAgIGN5Y2xlID0gJGludGVydmFsKGRyYXcsIDEwKTtcbiAgICAgICAgfTtcbiAgICB9O1xuXG4gICAgYW5ndWxhci5tb2R1bGUoXCJhcHBcIikuY29udHJvbGxlcihcInBsYXlDb250cm9sbGVyXCIsIFtcIiRzY29wZVwiLCBcIiRpbnRlcnZhbFwiLCBcIiR3aW5kb3dcIiwgXCJzb2NrZXRTZXJ2aWNlXCIsIFwiZGlzcGxheVNlcnZpY2VcIiwgXCJwbGF5ZXJTZXJ2aWNlXCIsIHBsYXlDb250cm9sbGVyXSlcbn0pKCk7IiwiLyoqXG4gKiBDcmVhdGVkIGJ5IGp1c3Rpam5kZXBvdmVyIG9uIDA5LzEyLzE1LlxuICovXG5cblxudmFyIEFzdGVyb2lkID0gZnVuY3Rpb24oeCwgeSwgcm90YXRpb24sIHN0YWdlKXtcbiAgICB0aGlzLnggPSB4O1xuICAgIHRoaXMueSA9IHk7XG4gICAgdGhpcy53aWR0aCA9IDA7XG4gICAgdGhpcy5oZWlnaHQgPSAwO1xuICAgIHRoaXMucm90YXRpb24gPSByb3RhdGlvbjtcbiAgICB0aGlzLnN0YWdlID0gc3RhZ2U7XG4gICAgdGhpcy5pbWFnZSA9IG5ldyBJbWFnZSgpO1xuICAgIHRoaXMuaW1hZ2Uuc3JjID0gKFwiLi4vYXNzZXRzL1BORy9NZXRlb3JzL21ldGVvcl9cIiArIHN0YWdlICsgXCIucG5nXCIpO1xuICAgIHRoaXMuc3BlZWQgPSAxO1xufTtcblxuQXN0ZXJvaWQucHJvdG90eXBlLnNldEltYWdlID0gZnVuY3Rpb24oc3RhZ2Upe1xuICAgIHRoaXMuc3RhZ2UgPSBzdGFnZTtcbiAgICB0aGlzLmltYWdlLnNyYyA9IChcIi4uL2Fzc2V0cy9QTkcvTWV0ZW9ycy9tZXRlb3JfXCIgKyBzdGFnZSArIFwiLnBuZ1wiKTtcbn07IiwiLyoqXG4gKiBDcmVhdGVkIGJ5IGp1c3Rpam5kZXBvdmVyIG9uIDIyLzEyLzE1LlxuICovXG5cbnZhciBCdWxsZXQgPSBmdW5jdGlvbih4LCB5LHJvdGF0aW9uLCBjb2xvciwgcGxheWVyKXtcbiAgICB0aGlzLnggPSB4O1xuICAgIHRoaXMueSA9IHk7XG4gICAgdGhpcy5yb3RhdGlvbiA9IHJvdGF0aW9uO1xuICAgIHRoaXMuaW1hZ2UgPSBuZXcgSW1hZ2UoKTtcbiAgICB0aGlzLmNvbG9yID0gY29sb3I7XG4gICAgdGhpcy53aWR0aCA9IDA7XG4gICAgdGhpcy5oZWlnaHQgPSAwO1xuICAgIHRoaXMucGxheWVyID0gcGxheWVyO1xuICAgIHRoaXMuZXhwbG9zaW9uSW1hZ2UgPSBuZXcgSW1hZ2UoKTtcbiAgICB0aGlzLmV4cGxvZGVTdGFnZSA9IDA7XG4gICAgaWYodGhpcy5jb2xvciA9PSBcIm9yYW5nZVwiKXtcbiAgICAgICAgdGhpcy5jb2xvciA9ICdyZWQnO1xuICAgIH1cbiAgICB0aGlzLmltYWdlLnNyYyA9ICcuLi9hc3NldHMvUE5HL0xhc2Vycy9sYXNlcicrIHRoaXMuY29sb3IuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyB0aGlzLmNvbG9yLnNsaWNlKDEpICsnMDEucG5nJ1xufTtcblxuQnVsbGV0LnByb3RvdHlwZS5leHBsb2RlID0gZnVuY3Rpb24oKXtcbiAgICBpZih0aGlzLmV4cGxvZGVTdGFnZSA8IDQpe1xuICAgICAgICB0aGlzLmV4cGxvZGVTdGFnZSsrO1xuICAgICAgICB2YXIgbnVtYmVyO1xuICAgICAgICBpZih0aGlzLmV4cGxvZGVTdGFnZSA8IDMpe1xuICAgICAgICAgICBudW1iZXIgPSAxXG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgbnVtYmVyID0gMlxuICAgICAgICB9XG4gICAgICAgIHRoaXMuZXhwbG9zaW9uSW1hZ2Uuc3JjID0gJy4uL2Fzc2V0cy9QTkcvTGFzZXJzL2xhc2VyJyArIHRoaXMuY29sb3IuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyB0aGlzLmNvbG9yLnNsaWNlKDEpICsgJ0V4cGxvZGUnKyBudW1iZXIgKycucG5nJztcbiAgICB9ZWxzZXtcbiAgICAgICAgdGhpcy5leHBsb3Npb25JbWFnZS5zcmMgPSAnJztcbiAgICB9XG59O1xuIiwiLyoqXG4gKiBDcmVhdGVkIGJ5IGp1c3Rpam5kZXBvdmVyIG9uIDA1LzAxLzE2LlxuICovXG5cblxudmFyIFBvd2VydXAgPSBmdW5jdGlvbih4LCB5LCB0eXBlLCBib29sU2VsZil7XG4gICAgdGhpcy54ID0geDtcbiAgICB0aGlzLnkgPSB5O1xuICAgIHRoaXMud2lkdGggPSAwO1xuICAgIHRoaXMuaGVpZ2h0ID0gMDtcbiAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgIHRoaXMuZHVyYXRpb24gPSAxMDAwO1xuICAgIHRoaXMucGxheWVyZHVyYXRpb24gPSAxMDAwO1xuICAgIHZhciBpbWFnZVR5cGU7XG4gICAgdGhpcy5pbWFnZSA9IG5ldyBJbWFnZSgpO1xuICAgIHRoaXMuYm9vbFNlbGYgPSBib29sU2VsZjtcbiAgICBzd2l0Y2godHlwZSl7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgIGltYWdlVHlwZSA9IFwiYm9sdF9cIjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICBpbWFnZVR5cGUgPSBcInNoaWVsZF9cIjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICBpbWFnZVR5cGUgPSBcInN0YXJfXCI7XG4gICAgICAgICAgICBicmVhaztcbiAgICB9XG5cbiAgICBzd2l0Y2goYm9vbFNlbGYpe1xuICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICBpbWFnZVR5cGUgKz0gXCJnb2xkLnBuZ1wiO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgIGltYWdlVHlwZSArPSBcInNpbHZlci5wbmdcIjtcbiAgICB9XG4gICAgdGhpcy5pbWFnZS5zcmMgPSBcIi4uL2Fzc2V0cy9QTkcvUG93ZXItdXBzL1wiICsgaW1hZ2VUeXBlO1xufTtcblxuUG93ZXJ1cC5wcm90b3R5cGUuZGVjcmVhc2VEdXJhdGlvbiA9IGZ1bmN0aW9uKCl7XG4gIGlmKHRoaXMuZHVyYXRpb24gPiAwKXtcbiAgICAgIHRoaXMuZHVyYXRpb24gLS07XG4gIH1cbn07IiwiLyoqXG4gKiBDcmVhdGVkIGJ5IGp1c3Rpam5kZXBvdmVyIG9uIDA5LzEyLzE1LlxuICovXG5cbnZhciBTcGFjZXNoaXAgPSBmdW5jdGlvbih1c2VyTmFtZSwgeCwgeSwgY29sb3IsIHJvdGF0aW9uKXtcbiAgICB0aGlzLnVzZXJOYW1lID0gdXNlck5hbWU7XG4gICAgdGhpcy54ID0geDtcbiAgICB0aGlzLnkgPSB5O1xuICAgIHRoaXMuc3BlZWQgPSAxO1xuICAgIHRoaXMuY29sb3IgPSBjb2xvcjtcbiAgICB0aGlzLnJvdGF0aW9uID0gcm90YXRpb247XG4gICAgdGhpcy5pbWFnZSA9IG5ldyBJbWFnZSgpO1xuICAgIHRoaXMuZGFtYWdlID0gMDtcbiAgICB0aGlzLndpZHRoID0gMDtcbiAgICB0aGlzLmhlaWdodCA9IDA7XG4gICAgdGhpcy5wb3dlcnVwcyA9IFtdO1xuICAgIHRoaXMuc2hpZWxkID0gZmFsc2U7XG4gICAgdGhpcy5zaGllbGRJbWFnZSA9IG5ldyBJbWFnZSgpO1xuICAgIHRoaXMuc2hpZWxkSW1hZ2Uuc3JjID0gXCIuLi9hc3NldHMvUE5HL0VmZmVjdHMvc2hpZWxkMS5wbmdcIjtcbiAgICB0aGlzLmRhbWFnZUltYWdlID0gbmV3IEltYWdlKCk7XG4gICAgdGhpcy5pbWFnZS5zcmMgPSAnLi4vYXNzZXRzL1BORy9wbGF5ZXJTaGlwMV8nKyB0aGlzLmNvbG9yICsnLnBuZyc7XG4gICAgdGhpcy5leHBsb2RlU3RhZ2UgPSAtMTtcbn07XG5cblNwYWNlc2hpcC5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAoeCwgeSwgcm90YXRpb24pIHtcbiAgICB0aGlzLnNwZWVkID0gMTtcbiAgICB0aGlzLmRhbWFnZSA9IDA7XG4gICAgdGhpcy5kYW1hZ2VJbWFnZSA9IG5ldyBJbWFnZSgpO1xuICAgIHRoaXMuaW1hZ2Uuc3JjID0gJy4uL2Fzc2V0cy9QTkcvcGxheWVyU2hpcDFfJysgdGhpcy5jb2xvciArJy5wbmcnO1xuICAgIHRoaXMueCA9IHg7XG4gICAgdGhpcy55ID0geTtcbiAgICB0aGlzLnJvdGF0aW9uID0gcm90YXRpb247XG4gICAgdGhpcy5zaGllbGQgPSBmYWxzZTtcbiAgICB0aGlzLmV4cGxvZGVTdGFnZSA9IC0xO1xufTtcblxuU3BhY2VzaGlwLnByb3RvdHlwZS5tb3ZlU3BhY2VzaGlwID0gZnVuY3Rpb24oeCwgeSl7XG4gICAgdGhpcy54ID0geDtcbiAgICB0aGlzLnkgPSB5O1xufTtcblxuU3BhY2VzaGlwLnByb3RvdHlwZS5tb3ZlU3BhY2VzaGlwUmVsYXRpdmUgPSBmdW5jdGlvbih4LCB5KXtcbiAgICB0aGlzLnggPSB0aGlzLngreDtcbiAgICB0aGlzLnkgPSB0aGlzLnkreTtcbn07XG5cblNwYWNlc2hpcC5wcm90b3R5cGUucm90YXRlU3BhY2VzaGlwID0gZnVuY3Rpb24oZGVncmVlKXtcbiAgICB0aGlzLnJvdGF0aW9uID0gZGVncmVlO1xufTtcblxuU3BhY2VzaGlwLnByb3RvdHlwZS5yb3RhdGVTcGFjZXNoaXBSZWxhdGl2ZSA9IGZ1bmN0aW9uKGRlZ3JlZSl7XG4gICAgaWYoZGVncmVlPjgwKXtcbiAgICAgICAgZGVncmVlPTgwO1xuICAgIH1lbHNlIGlmIChkZWdyZWU8LTgwKXtcbiAgICAgICAgZGVncmVlID0gLTgwO1xuICAgIH1cbiAgICB0aGlzLnJvdGF0aW9uID0gdGhpcy5yb3RhdGlvbiArIGRlZ3JlZS81O1xuICAgIGlmKHRoaXMucm90YXRpb24gPCAtMzYwKXtcbiAgICAgICAgdGhpcy5yb3RhdGlvbiA9IHRoaXMucm90YXRpb24gKyA3MjA7XG4gICAgfVxuICAgIGlmKHRoaXMucm90YXRpb24gPiAzNjApe1xuICAgICAgICB0aGlzLnJvdGF0aW9uID0gdGhpcy5yb3RhdGlvbiAtIDcyMDtcbiAgICB9XG59O1xuXG5TcGFjZXNoaXAucHJvdG90eXBlLmluY3JlYXNlRGFtYWdlID0gZnVuY3Rpb24oKXtcbiAgICBpZih0aGlzLmRhbWFnZSA8IDQpe1xuICAgICAgICB0aGlzLmRhbWFnZSArPSAxO1xuICAgIH1cblxuICAgIGlmKHRoaXMuZGFtYWdlIDw9IDMgJiYgdGhpcy5kYW1hZ2UgPiAwKXtcbiAgICAgICAgdGhpcy5kYW1hZ2VJbWFnZS5zcmMgPSAnLi4vYXNzZXRzL1BORy9EYW1hZ2UvcGxheWVyU2hpcDFfZGFtYWdlJysgdGhpcy5kYW1hZ2UgKyAnLnBuZyc7XG4gICAgfWVsc2UgaWYodGhpcy5kYW1hZ2U9PTQpe1xuICAgICAgICB0aGlzLmV4cGxvZGUoKTtcbiAgICB9XG59O1xuXG5TcGFjZXNoaXAucHJvdG90eXBlLmRlYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5kYW1hZ2UgPSA0O1xuICAgIHRoaXMuZXhwbG9kZSgpO1xufTtcblxuU3BhY2VzaGlwLnByb3RvdHlwZS5leHBsb2RlID0gZnVuY3Rpb24oKXtcbiAgICBpZih0aGlzLmV4cGxvZGVTdGFnZSA8PSAxNDApe1xuICAgICAgICB0aGlzLmV4cGxvZGVTdGFnZSArKztcbiAgICAgICAgdGhpcy5kYW1hZ2VJbWFnZS5zcmMgPSBcIi4uL2Fzc2V0cy9QTkcvRGFtYWdlL2ZyYW1lXCIgKyBNYXRoLmZsb29yKHRoaXMuZXhwbG9kZVN0YWdlLzEwKSArIFwiLmdpZlwiO1xuICAgIH1cbn07XG5cblNwYWNlc2hpcC5wcm90b3R5cGUuZGVjcmVhc2VEYW1hZ2UgPSBmdW5jdGlvbigpe1xuICAgIGlmKHRoaXMuZGFtYWdlID4gMCl7XG4gICAgICAgIHRoaXMuZGFtYWdlIC09IDE7XG4gICAgfVxuXG4gICAgaWYodGhpcy5kYW1hZ2UgPD0gMyAmJiB0aGlzLmRhbWFnZSA+IDApe1xuICAgICAgICB0aGlzLmRhbWFnZUltYWdlLnNyYyA9ICcuLi9hc3NldHMvUE5HL0RhbWFnZS9wbGF5ZXJTaGlwMV9kYW1hZ2UnKyB0aGlzLmRhbWFnZSArICcucG5nJztcbiAgICB9XG59O1xuXG5TcGFjZXNoaXAucHJvdG90eXBlLmFkZFBvd2VydXAgPSBmdW5jdGlvbihwb3dlcnVwKXtcbiAgICBzd2l0Y2gocG93ZXJ1cC50eXBlKXtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgdGhpcy5zcGVlZCArKztcbiAgICAgICAgICAgIHRoaXMucG93ZXJ1cHMucHVzaChwb3dlcnVwKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICB0aGlzLnNoaWVsZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLnBvd2VydXBzLnB1c2gocG93ZXJ1cCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgdGhpcy5kYW1hZ2UgPSAwO1xuICAgICAgICAgICAgdGhpcy5kYW1hZ2VJbWFnZS5zcmMgPSBcIlwiO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgfVxufTtcblxuU3BhY2VzaGlwLnByb3RvdHlwZS5jaGVja1Bvd2VydXAgPSBmdW5jdGlvbigpe1xuICAgIGZvcih2YXIgcCBpbiB0aGlzLnBvd2VydXBzKXtcbiAgICAgICAgaWYodGhpcy5wb3dlcnVwc1twXS5wbGF5ZXJkdXJhdGlvbiA+IDApe1xuICAgICAgICAgICAgdGhpcy5wb3dlcnVwc1twXS5wbGF5ZXJkdXJhdGlvbiAtLTtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICBzd2l0Y2godGhpcy5wb3dlcnVwc1twXS50eXBlKXtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3BlZWQgLS07XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zaGllbGQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIi0tLS0tLS0tLS0tLS1cIik7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnBvd2VydXBzKTtcbiAgICAgICAgICAgIHRoaXMucG93ZXJ1cHMuc3BsaWNlKHAsIDEpO1xuICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5wb3dlcnVwcyk7XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG4iLCIvKipcbiAqIENyZWF0ZWQgYnkgTWljaGllbCBvbiAxNi8xMi8yMDE1LlxuICovXG4vKipcbiAqIENyZWF0ZWQgYnkganVzdGlqbmRlcG92ZXIgb24gMTYvMTIvMTUuXG4gKi9cblxuXG4oZnVuY3Rpb24oKXtcbiAgICB2YXIgZGlzcGxheVNlcnZpY2UgPSBmdW5jdGlvbigpe1xuICAgICAgICAvL0xvZ2luIENvbnRyb2xsZXJcbiAgICAgICAgdmFyIExDU2hvdyA9IHRydWU7XG4gICAgICAgIC8vUGxheSBjb250cm9sbGVyXG4gICAgICAgIHZhciBQQ1Nob3cgPSBmYWxzZTtcblxuICAgICAgICByZXR1cm57XG4gICAgICAgICAgICBnZXRMQ1Nob3c6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgcmV0dXJuIExDU2hvdztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXRMQ1Nob3c6IGZ1bmN0aW9uKHZhbHVlKXtcbiAgICAgICAgICAgICAgICBMQ1Nob3cgPSB2YWx1ZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXRQQ1Nob3c6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFBDU2hvdztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXRQQ1Nob3c6IGZ1bmN0aW9uKHZhbHVlKXtcbiAgICAgICAgICAgICAgICBQQ1Nob3cgPSB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBhbmd1bGFyLm1vZHVsZSgnYXBwJykuZmFjdG9yeSgnZGlzcGxheVNlcnZpY2UnLCBbZGlzcGxheVNlcnZpY2VdKTtcbn0pKCk7IiwiLyoqXG4gKiBDcmVhdGVkIGJ5IGp1c3Rpam5kZXBvdmVyIG9uIDE3LzEyLzE1LlxuICovXG5cbihmdW5jdGlvbigpe1xuICAgIHZhciBwbGF5ZXJTZXJ2aWNlID0gZnVuY3Rpb24oKXtcbiAgICAgICAgLy9Mb2dpbiBDb250cm9sbGVyXG4gICAgICAgIHZhciBwbGF5ZXJzID0gW107XG5cbiAgICAgICAgcmV0dXJue1xuICAgICAgICAgICAgZ2V0UGxheWVyczogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGxheWVycztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXRQbGF5ZXJzOiBmdW5jdGlvbihwbGF5ZXJzQXJyYXkpe1xuICAgICAgICAgICAgICAgIHBsYXllcnMgPSBwbGF5ZXJzQXJyYXk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgYW5ndWxhci5tb2R1bGUoJ2FwcCcpLmZhY3RvcnkoJ3BsYXllclNlcnZpY2UnLCBbcGxheWVyU2VydmljZV0pO1xufSkoKTsiLCIvKipcbiAqIENyZWF0ZWQgYnkganVzdGlqbmRlcG92ZXIgb24gMDkvMTIvMTUuXG4gKi9cblxuKGZ1bmN0aW9uKCl7XG5cbiAgICB2YXIgc29ja2V0U2VydmljZSA9IGZ1bmN0aW9uKCRyb290U2NvcGUpe1xuICAgICAgICBcInVzZSBzdHJpY3RcIjtcbiAgICAgICAgLy9wcml2YXRlXG4gICAgICAgIHZhciBzb2NrZXQgPSBpby5jb25uZWN0KHdpbmRvdy5sb2NhdGlvbi5ob3N0KTtcbiAgICAgICAgLy9mdW5jdGlvbnNcbiAgICAgICAgdmFyIG9uID0gZnVuY3Rpb24gKGV2ZW50TmFtZSwgY2FsbGJhY2spIHtcbiAgICAgICAgICAgIHNvY2tldC5vbihldmVudE5hbWUsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cztcbiAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLiRhcHBseShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrLmFwcGx5KHNvY2tldCwgYXJncyk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgZW1pdCA9IGZ1bmN0aW9uIChldmVudE5hbWUsIGRhdGEsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICBzb2NrZXQuZW1pdChldmVudE5hbWUsIGRhdGEsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cztcbiAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLiRhcHBseShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2suYXBwbHkoc29ja2V0LCBhcmdzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgfTtcblxuICAgICAgICAvL3B1YmxpY1xuICAgICAgICByZXR1cm57XG4gICAgICAgICAgICBvbjogb24sXG4gICAgICAgICAgICBlbWl0OiBlbWl0LFxuICAgICAgICAgICAgc29ja2V0OiBzb2NrZXRcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBhbmd1bGFyLm1vZHVsZShcImFwcFwiKS5mYWN0b3J5KFwic29ja2V0U2VydmljZVwiLCBbXCIkcm9vdFNjb3BlXCIsIHNvY2tldFNlcnZpY2VdKTtcblxufSkoKTsiXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
