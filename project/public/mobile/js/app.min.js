!function(){angular.module("app",[])}(),function(){var e=function(e,n,o){e.LCShow=o.getLCShow,n.on("startGame",function(e){console.log("start game")}),n.on("roomDisconnect",function(e){}),e.joinRoom=function(e,o){var t={};t.username=e,t.room=o.toUpperCase(),n.emit("gsmConnect",t)},n.on("message",function(n){switch(console.log("connectie"),n){case"connectionEstablished":o.setPCShow(!0),o.setLCShow(!1);break;case"connectionRefused":e.text="Something went wrong";break;case"usernameExist":e.text="Username already exist";break;case"roomFull":e.text="Room is already full."}})};angular.module("app").controller("loginController",["$scope","socketService","displayService",e])}(),function(){"use strict";var e=function(e,n,o,t,a){e.PCShow=a.getPCShow,e.startGame=!1,e.shoot=function(){};var c=function(e){var n={};n.gamma=e.gamma,n.beta=e.beta,n.alpha=e.alpha,o.emit("deviceOrientation",n)};t.subscribeMe(),n.$on("app.deviceorientationEvent",function(e,n){c(n)}),e.leaveRoom=function(){o.emit("gsmDisconnect",null),a.setLCShow(!0),a.setPCShow(!1)},o.on("message",function(n){"connectionEstablished"==n?(e.text="Waiting on other players",e.startGame=!1):"startGame"==n&&(e.startGame=!0)})};angular.module("app").controller("playController",["$scope","$rootScope","socketService","eventService","displayService",e])}(),function(){var e=function(){var e=!0,n=!1;return{getLCShow:function(){return e},setLCShow:function(n){e=n},getPCShow:function(){return n},setPCShow:function(e){n=e}}};angular.module("app").factory("displayService",[e])}(),function(){var e=function(e,n){function o(){n.addEventListener("deviceorientation",function(n){e.$broadcast("app.deviceorientationEvent",n)})}return{subscribeMe:o}};angular.module("app").factory("eventService",["$rootScope","$window",e])}(),function(){var e=function(e){"use strict";var n=io.connect(window.location.host),o=function(o,t){n.on(o,function(){var o=arguments;e.$apply(function(){t.apply(n,o)})})},t=function(o,t,a){n.emit(o,t,function(){var o=arguments;e.$apply(function(){a&&a.apply(n,o)})})};return{on:o,emit:t,socket:n}};angular.module("app").factory("socketService",["$rootScope",e])}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsImNvbnRyb2xsZXIvbG9naW5Db250cm9sbGVyLmpzIiwiY29udHJvbGxlci9wbGF5Q29udHJvbGxlci5qcyIsInNlcnZpY2VzL2Rpc3BsYXlTZXJ2aWNlLmpzIiwic2VydmljZXMvZXZlbnRTZXJ2aWNlLmpzIiwic2VydmljZXMvc29ja2V0U2VydmljZS5qcyJdLCJuYW1lcyI6WyJhbmd1bGFyIiwibW9kdWxlIiwibG9naW5Db250cm9sbGVyIiwiJHNjb3BlIiwic29ja2V0U2VydmljZSIsImRpc3BsYXlTZXJ2aWNlIiwiTENTaG93IiwiZ2V0TENTaG93Iiwib24iLCJkYXRhIiwiY29uc29sZSIsImxvZyIsImpvaW5Sb29tIiwidXNlcm5hbWUiLCJyb29tIiwidG9VcHBlckNhc2UiLCJlbWl0IiwibWVzc2FnZSIsInNldFBDU2hvdyIsInNldExDU2hvdyIsInRleHQiLCJjb250cm9sbGVyIiwicGxheUNvbnRyb2xsZXIiLCIkcm9vdFNjb3BlIiwiZXZlbnRTZXJ2aWNlIiwiUENTaG93IiwiZ2V0UENTaG93Iiwic3RhcnRHYW1lIiwic2hvb3QiLCJzZW5kRGV2aWNlT3JpZW50YXRpb24iLCJldmVudERhdGEiLCJnYW1tYSIsImJldGEiLCJhbHBoYSIsInN1YnNjcmliZU1lIiwiJG9uIiwiYSIsImIiLCJsZWF2ZVJvb20iLCJ2YWx1ZSIsImZhY3RvcnkiLCIkd2luZG93Iiwic3Vic0Z1bmMiLCJhZGRFdmVudExpc3RlbmVyIiwiZSIsIiRicm9hZGNhc3QiLCJzb2NrZXQiLCJpbyIsImNvbm5lY3QiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsImhvc3QiLCJldmVudE5hbWUiLCJjYWxsYmFjayIsImFyZ3MiLCJhcmd1bWVudHMiLCIkYXBwbHkiLCJhcHBseSJdLCJtYXBwaW5ncyI6IkNBR0EsV0FFQUEsUUFBQUMsT0FBQSxhQ0FBLFdBRUEsR0FBQUMsR0FBQSxTQUFBQyxFQUFBQyxFQUFBQyxHQUNBRixFQUFBRyxPQUFBRCxFQUFBRSxVQUVBSCxFQUFB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b3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENyZWF0ZWQgYnkgTWljaGllbCBvbiAyNS8xMS8yMDE1LlxuICovXG4oZnVuY3Rpb24oKXtcblxuICAgIHZhciBhcHAgPSBhbmd1bGFyLm1vZHVsZShcImFwcFwiLFtdKTtcbn0pKCk7IiwiLyoqXG4gKiBDcmVhdGVkIGJ5IGp1c3Rpam5kZXBvdmVyIG9uIDE2LzEyLzE1LlxuICovXG5cblxuKGZ1bmN0aW9uKCl7XG5cbiAgICB2YXIgbG9naW5Db250cm9sbGVyID0gZnVuY3Rpb24oJHNjb3BlLCBzb2NrZXRTZXJ2aWNlLCBkaXNwbGF5U2VydmljZSl7XG4gICAgICAgICRzY29wZS5MQ1Nob3cgPSBkaXNwbGF5U2VydmljZS5nZXRMQ1Nob3c7XG4gICAgICAgIC8vZnVuY3Rpb25zXG4gICAgICAgIHNvY2tldFNlcnZpY2Uub24oXCJzdGFydEdhbWVcIiwgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwic3RhcnQgZ2FtZVwiKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHNvY2tldFNlcnZpY2Uub24oXCJyb29tRGlzY29ubmVjdFwiLCBmdW5jdGlvbiAoZGF0YSkge1xuXG4gICAgICAgIH0pO1xuXG4gICAgICAgICRzY29wZS5qb2luUm9vbSA9IGZ1bmN0aW9uKHVzZXJuYW1lLCByb29tKXtcbiAgICAgICAgICAgIHZhciBkYXRhID0ge307XG4gICAgICAgICAgICBkYXRhLnVzZXJuYW1lID0gdXNlcm5hbWU7XG4gICAgICAgICAgICBkYXRhLnJvb20gPSByb29tLnRvVXBwZXJDYXNlKCk7XG4gICAgICAgICAgICBzb2NrZXRTZXJ2aWNlLmVtaXQoXCJnc21Db25uZWN0XCIsIGRhdGEpO1xuXG4gICAgICAgIH07XG5cbiAgICAgICAgc29ja2V0U2VydmljZS5vbihcIm1lc3NhZ2VcIiwgZnVuY3Rpb24obWVzc2FnZSl7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcImNvbm5lY3RpZVwiKTtcbiAgICAgICAgICAgIHN3aXRjaCggbWVzc2FnZSl7XG4gICAgICAgICAgICAgICAgY2FzZSBcImNvbm5lY3Rpb25Fc3RhYmxpc2hlZFwiOlxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5U2VydmljZS5zZXRQQ1Nob3codHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXlTZXJ2aWNlLnNldExDU2hvdyhmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJjb25uZWN0aW9uUmVmdXNlZFwiOlxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUudGV4dCA9IFwiU29tZXRoaW5nIHdlbnQgd3JvbmdcIjtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcInVzZXJuYW1lRXhpc3RcIjpcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnRleHQgPSBcIlVzZXJuYW1lIGFscmVhZHkgZXhpc3RcIjtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcInJvb21GdWxsXCIgOlxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUudGV4dCA9IFwiUm9vbSBpcyBhbHJlYWR5IGZ1bGwuXCI7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQgOlxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIGFuZ3VsYXIubW9kdWxlKFwiYXBwXCIpLmNvbnRyb2xsZXIoXCJsb2dpbkNvbnRyb2xsZXJcIiwgW1wiJHNjb3BlXCIsIFwic29ja2V0U2VydmljZVwiLCBcImRpc3BsYXlTZXJ2aWNlXCIsIGxvZ2luQ29udHJvbGxlcl0pO1xufSkoKTsiLCIvKipcbiAqIENyZWF0ZWQgYnkganVzdGlqbmRlcG92ZXIgb24gMTYvMTIvMTUuXG4gKi9cblxuXG4oZnVuY3Rpb24oKXtcbiAgICBcInVzZSBzdHJpY3RcIjtcbiAgICB2YXIgcGxheUNvbnRyb2xsZXIgPSBmdW5jdGlvbigkc2NvcGUsICRyb290U2NvcGUsIHNvY2tldFNlcnZpY2UsIGV2ZW50U2VydmljZSwgZGlzcGxheVNlcnZpY2Upe1xuICAgICAgICAkc2NvcGUuUENTaG93ID0gZGlzcGxheVNlcnZpY2UuZ2V0UENTaG93O1xuICAgICAgICAkc2NvcGUuc3RhcnRHYW1lID0gZmFsc2U7XG4gICAgICAgICRzY29wZS5zaG9vdCA9IGZ1bmN0aW9uKCl7XG5cbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgc2VuZERldmljZU9yaWVudGF0aW9uID0gZnVuY3Rpb24oZXZlbnREYXRhKXtcbiAgICAgICAgICAgIHZhciBkYXRhID0ge307XG4gICAgICAgICAgICBkYXRhLmdhbW1hID0gZXZlbnREYXRhLmdhbW1hO1xuICAgICAgICAgICAgZGF0YS5iZXRhID0gZXZlbnREYXRhLmJldGE7XG4gICAgICAgICAgICBkYXRhLmFscGhhID0gZXZlbnREYXRhLmFscGhhO1xuICAgICAgICAgICAgc29ja2V0U2VydmljZS5lbWl0KFwiZGV2aWNlT3JpZW50YXRpb25cIiwgZGF0YSlcbiAgICAgICAgfTtcbiAgICAgICAgZXZlbnRTZXJ2aWNlLnN1YnNjcmliZU1lKCk7XG4gICAgICAgICRyb290U2NvcGUuJG9uKCdhcHAuZGV2aWNlb3JpZW50YXRpb25FdmVudCcsIGZ1bmN0aW9uKGEsIGIpIHtcbiAgICAgICAgICAgIHNlbmREZXZpY2VPcmllbnRhdGlvbihiKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgJHNjb3BlLmxlYXZlUm9vbSA9IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBzb2NrZXRTZXJ2aWNlLmVtaXQoXCJnc21EaXNjb25uZWN0XCIsIG51bGwpO1xuICAgICAgICAgICAgZGlzcGxheVNlcnZpY2Uuc2V0TENTaG93KHRydWUpO1xuICAgICAgICAgICAgZGlzcGxheVNlcnZpY2Uuc2V0UENTaG93KGZhbHNlKTtcbiAgICAgICAgfTtcblxuICAgICAgICBzb2NrZXRTZXJ2aWNlLm9uKFwibWVzc2FnZVwiLCBmdW5jdGlvbihtZXNzYWdlKXtcbiAgICAgICAgICAgIGlmKG1lc3NhZ2UgPT0gXCJjb25uZWN0aW9uRXN0YWJsaXNoZWRcIil7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnRleHQgPSBcIldhaXRpbmcgb24gb3RoZXIgcGxheWVyc1wiO1xuICAgICAgICAgICAgICAgICRzY29wZS5zdGFydEdhbWUgPSBmYWxzZTtcbiAgICAgICAgICAgIH1lbHNlIGlmKG1lc3NhZ2UgPT0gXCJzdGFydEdhbWVcIil7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnN0YXJ0R2FtZSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICBhbmd1bGFyLm1vZHVsZShcImFwcFwiKS5jb250cm9sbGVyKFwicGxheUNvbnRyb2xsZXJcIiwgW1wiJHNjb3BlXCIsIFwiJHJvb3RTY29wZVwiLCBcInNvY2tldFNlcnZpY2VcIiwgXCJldmVudFNlcnZpY2VcIiwgXCJkaXNwbGF5U2VydmljZVwiLCBwbGF5Q29udHJvbGxlcl0pXG59KSgpOyIsIi8qKlxuICogQ3JlYXRlZCBieSBqdXN0aWpuZGVwb3ZlciBvbiAxNi8xMi8xNS5cbiAqL1xuXG5cbihmdW5jdGlvbigpe1xuICAgIHZhciBkaXNwbGF5U2VydmljZSA9IGZ1bmN0aW9uKCl7XG4gICAgICAgIC8vTG9naW4gQ29udHJvbGxlclxuICAgICAgICB2YXIgTENTaG93ID0gdHJ1ZTtcbiAgICAgICAgLy9QbGF5IGNvbnRyb2xsZXJcbiAgICAgICAgdmFyIFBDU2hvdyA9IGZhbHNlO1xuXG4gICAgICAgIHJldHVybntcbiAgICAgICAgICAgIGdldExDU2hvdzogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICByZXR1cm4gTENTaG93O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldExDU2hvdzogZnVuY3Rpb24odmFsdWUpe1xuICAgICAgICAgICAgICAgIExDU2hvdyA9IHZhbHVlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldFBDU2hvdzogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICByZXR1cm4gUENTaG93O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldFBDU2hvdzogZnVuY3Rpb24odmFsdWUpe1xuICAgICAgICAgICAgICAgIFBDU2hvdyA9IHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIGFuZ3VsYXIubW9kdWxlKCdhcHAnKS5mYWN0b3J5KCdkaXNwbGF5U2VydmljZScsIFtkaXNwbGF5U2VydmljZV0pO1xufSkoKTsiLCIvKipcbiAqIENyZWF0ZWQgYnkgTWljaGllbCBvbiAxNi8xMi8yMDE1LlxuICovXG4oZnVuY3Rpb24oKXtcbiAgICB2YXIgZXZlbnRTZXJ2aWNlID0gZnVuY3Rpb24oJHJvb3RTY29wZSwkd2luZG93KXtcbiAgICAgICAgZnVuY3Rpb24gc3Vic0Z1bmMoKSB7XG4gICAgICAgICAgICAkd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2RldmljZW9yaWVudGF0aW9uJywgZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgICRyb290U2NvcGUuJGJyb2FkY2FzdCgnYXBwLmRldmljZW9yaWVudGF0aW9uRXZlbnQnLCBlKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgXCJzdWJzY3JpYmVNZVwiOiBzdWJzRnVuY1xuICAgICAgICB9XG4gICAgfTtcbiAgICBhbmd1bGFyLm1vZHVsZShcImFwcFwiKS5mYWN0b3J5KFwiZXZlbnRTZXJ2aWNlXCIsIFtcIiRyb290U2NvcGVcIixcIiR3aW5kb3dcIiwgZXZlbnRTZXJ2aWNlXSk7XG59KSgpOyIsIi8qKlxuICogQ3JlYXRlZCBieSBqdXN0aWpuZGVwb3ZlciBvbiAwOS8xMi8xNS5cbiAqL1xuXG4oZnVuY3Rpb24oKXtcblxuICAgIHZhciBzb2NrZXRTZXJ2aWNlID0gZnVuY3Rpb24oJHJvb3RTY29wZSl7XG4gICAgICAgIFwidXNlIHN0cmljdFwiO1xuICAgICAgICAvL3ByaXZhdGVcbiAgICAgICAgdmFyIHNvY2tldCA9IGlvLmNvbm5lY3Qod2luZG93LmxvY2F0aW9uLmhvc3QpO1xuICAgICAgICAvL2Z1bmN0aW9uc1xuICAgICAgICB2YXIgb24gPSBmdW5jdGlvbiAoZXZlbnROYW1lLCBjYWxsYmFjaykge1xuICAgICAgICAgICAgc29ja2V0Lm9uKGV2ZW50TmFtZSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzO1xuICAgICAgICAgICAgICAgICRyb290U2NvcGUuJGFwcGx5KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2suYXBwbHkoc29ja2V0LCBhcmdzKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBlbWl0ID0gZnVuY3Rpb24gKGV2ZW50TmFtZSwgZGF0YSwgY2FsbGJhY2spIHtcbiAgICAgICAgICAgIHNvY2tldC5lbWl0KGV2ZW50TmFtZSwgZGF0YSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzO1xuICAgICAgICAgICAgICAgICRyb290U2NvcGUuJGFwcGx5KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjay5hcHBseShzb2NrZXQsIGFyZ3MpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KVxuICAgICAgICB9O1xuXG4gICAgICAgIC8vcHVibGljXG4gICAgICAgIHJldHVybntcbiAgICAgICAgICAgIG9uOiBvbixcbiAgICAgICAgICAgIGVtaXQ6IGVtaXQsXG4gICAgICAgICAgICBzb2NrZXQ6IHNvY2tldFxuICAgICAgICB9XG4gICAgfTtcblxuICAgIGFuZ3VsYXIubW9kdWxlKFwiYXBwXCIpLmZhY3RvcnkoXCJzb2NrZXRTZXJ2aWNlXCIsIFtcIiRyb290U2NvcGVcIiwgc29ja2V0U2VydmljZV0pO1xuXG59KSgpOyJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
